var $I=Object.create;var tc=Object.defineProperty,HI=Object.defineProperties,zI=Object.getOwnPropertyDescriptor,qI=Object.getOwnPropertyDescriptors,WI=Object.getOwnPropertyNames,Hv=Object.getOwnPropertySymbols,GI=Object.getPrototypeOf,qv=Object.prototype.hasOwnProperty,KI=Object.prototype.propertyIsEnumerable;var zv=(t,e,n)=>e in t?tc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})qv.call(e,n)&&zv(t,n,e[n]);if(Hv)for(var n of Hv(e))KI.call(e,n)&&zv(t,n,e[n]);return t},Ne=(t,e)=>HI(t,qI(e));var P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),YI=(t,e)=>{for(var n in e)tc(t,n,{get:e[n],enumerable:!0})},QI=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WI(e))!qv.call(t,i)&&i!==n&&tc(t,i,{get:()=>e[i],enumerable:!(r=zI(e,i))||r.enumerable});return t};var ZI=(t,e,n)=>(n=t!=null?$I(GI(t)):{},QI(e||!t||!t.__esModule?tc(n,"default",{value:t,enumerable:!0}):n,t));var ms=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var jg=P($o=>{"use strict";var hC=$o&&$o.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function En(t){if(!t)return En.__;Array.prototype.reduce||(Array.prototype.reduce=function(r,i){for(var o=i,s=0;s<this.length;s++)o=r(o,this[s],s,this);return o});var e="",n=("."+t).split(".").reduce(function(r,i,o,s){e?e+="."+i:e=i;var a=r["__"+e];return a===void 0&&(En.Logger.prototype=r,a=new En.Logger(e),r["__"+e]=a),a},En.__);return n}(function(t){t.requestId="",t.entryId=0,t._createXMLHttpRequest=function(){return new XMLHttpRequest},t._getTime=function(){return new Date().getTime()},t._console=console,t._appenderNames=[];function e(S,E,I){if(E[S]!==void 0){if(E[S]===null){delete I[S];return}I[S]=E[S]}}function n(S){if(t.enabled!=null&&!t.enabled)return!1;try{if(S.userAgentRegex&&!new RegExp(S.userAgentRegex).test(navigator.userAgent))return!1}catch{}try{if(S.ipRegex&&t.clientIP&&!new RegExp(S.ipRegex).test(t.clientIP))return!1}catch{}return!0}function r(S,E){try{if(S.disallow&&new RegExp(S.disallow).test(E))return!1}catch{}return!0}function i(S){return typeof S=="function"?S instanceof RegExp?S.toString():S():S}var o=function(){function S(E,I,A){this.msg=E,this.meta=I,this.finalString=A}return S}();function s(S){var E=i(S),I;switch(typeof E){case"string":return new o(E,null,E);case"number":return I=E.toString(),new o(I,null,I);case"boolean":return I=E.toString(),new o(I,null,I);case"undefined":return new o("undefined",null,"undefined");case"object":return E instanceof RegExp||E instanceof String||E instanceof Number||E instanceof Boolean?(I=E.toString(),new o(I,null,I)):(typeof t.serialize=="function"?I=t.serialize.call(this,E):I=JSON.stringify(E),new o("",E,I));default:return new o("unknown",null,"unknown")}}function a(S){return e("enabled",S,this),e("maxMessages",S,this),e("defaultAjaxUrl",S,this),e("clientIP",S,this),e("requestId",S,this),e("defaultBeforeSend",S,this),e("serialize",S,this),this}t.setOptions=a;function c(){return-2147483648}t.getAllLevel=c;function u(){return 1e3}t.getTraceLevel=u;function l(){return 2e3}t.getDebugLevel=l;function d(){return 3e3}t.getInfoLevel=d;function f(){return 4e3}t.getWarnLevel=f;function h(){return 5e3}t.getErrorLevel=h;function p(){return 6e3}t.getFatalLevel=p;function m(){return 2147483647}t.getOffLevel=m;function b(S){return S<=1e3?"trace":S<=2e3?"debug":S<=3e3?"info":S<=4e3?"warn":S<=5e3?"error":"fatal"}var y=function(){function S(E,I){this.inner=I,this.name="JL.Exception",this.message=s(E).finalString}return S}();t.Exception=y,y.prototype=new Error;var O=function(){function S(E,I,A,F,R){this.l=E,this.m=I,this.n=A,this.t=F,this.u=R}return S}();t.LogItem=O;function w(S,E,I){return t.entryId++,new O(S,E,I,t._getTime(),t.entryId)}function x(S){S.id&&(clearTimeout(S.id),S.id=null)}function D(S,E,I){var A=this;S.id||(S.id=setTimeout(function(){I.call(A)},E))}var T=function(){function S(E,I){this.appenderName=E,this.sendLogItems=I,this.level=t.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;var A="Trying to create an appender without a name or with an empty name";if(E==null)throw A;if(t._appenderNames.indexOf(E)!=-1)throw E?"Multiple appenders use the same name "+E:A;t._appenderNames.push(E)}return S.prototype.addLogItemsToBuffer=function(E){if(this.batchBuffer.length>=this.maxBatchSize){this.nbrLogItemsSkipped+=E.length;return}if(t.maxMessages!=null){if(t.maxMessages<1)return;t.maxMessages-=E.length}this.batchBuffer=this.batchBuffer.concat(E);var I=this;D(this.batchTimeoutTimer,this.batchTimeout,function(){I.sendBatch.call(I)})},S.prototype.batchBufferHasOverdueMessages=function(){for(var E=0;E<this.batchBuffer.length;E++){var I=t._getTime()-this.batchBuffer[E].t;if(I>this.batchTimeout)return!0}return!1},S.prototype.batchBufferHasStrandedMessage=function(){return t.maxMessages!=null&&t.maxMessages<1&&this.batchBuffer.length>0},S.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},S.prototype.onSendingEnded=function(){x(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},S.prototype.setOptions=function(E){if(e("level",E,this),e("ipRegex",E,this),e("userAgentRegex",E,this),e("disallow",E,this),e("sendWithBufferLevel",E,this),e("storeInBufferLevel",E,this),e("bufferSize",E,this),e("batchSize",E,this),e("maxBatchSize",E,this),e("batchTimeout",E,this),e("sendTimeout",E,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new t.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},S.prototype.log=function(E,I,A,F,R,q,ae){var Se;if(n(this)&&r(this,q)&&!(R<this.storeInBufferLevel)){if(Se=w(R,q,ae),R<this.level){this.bufferSize>0&&(this.buffer.push(Se),this.buffer.length>this.bufferSize&&this.buffer.shift());return}this.addLogItemsToBuffer([Se]),R>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete()}},S.prototype.sendBatch=function(){if(!(this.nbrLogItemsBeingSent>0)&&(x(this.batchTimeoutTimer),this.batchBuffer.length!=0)){this.nbrLogItemsBeingSent=this.batchBuffer.length;var E=this;D(this.sendTimeoutTimer,this.sendTimeout,function(){E.onSendingEnded.call(E)}),this.sendLogItems(this.batchBuffer,function(){E.batchBuffer.splice(0,E.nbrLogItemsBeingSent),E.nbrLogItemsSkipped>0&&(E.batchBuffer.push(w(f(),"Lost "+E.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",E.appenderName)),E.nbrLogItemsSkipped=0),E.onSendingEnded.call(E)})}},S}();t.Appender=T;var C=function(S){hC(E,S);function E(I){return S.call(this,I,E.prototype.sendLogItemsAjax)||this}return E.prototype.setOptions=function(I){return e("url",I,this),e("beforeSend",I,this),S.prototype.setOptions.call(this,I),this},E.prototype.sendLogItemsAjax=function(I,A){try{if(!n(this))return;this.xhr&&this.xhr.readyState!=0&&this.xhr.readyState!=4&&this.xhr.abort(),this.xhr=t._createXMLHttpRequest();var F="/jsnlog.logger";t.defaultAjaxUrl!=null&&(F=t.defaultAjaxUrl),this.url&&(F=this.url),this.xhr.open("POST",F),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",t.requestId);var R=this;this.xhr.onreadystatechange=function(){R.xhr.readyState==4&&R.xhr.status>=200&&R.xhr.status<300&&A()};var q={r:t.requestId,lg:I};typeof this.beforeSend=="function"?this.beforeSend.call(this,this.xhr,q):typeof t.defaultBeforeSend=="function"&&t.defaultBeforeSend.call(this,this.xhr,q);var ae=JSON.stringify(q);this.xhr.send(ae)}catch{}},E}(T);t.AjaxAppender=C;var g=function(S){hC(E,S);function E(I){return S.call(this,I,E.prototype.sendLogItemsConsole)||this}return E.prototype.clog=function(I){t._console.log(I)},E.prototype.cerror=function(I){t._console.error?t._console.error(I):this.clog(I)},E.prototype.cwarn=function(I){t._console.warn?t._console.warn(I):this.clog(I)},E.prototype.cinfo=function(I){t._console.info?t._console.info(I):this.clog(I)},E.prototype.cdebug=function(I){t._console.debug?t._console.debug(I):this.cinfo(I)},E.prototype.sendLogItemsConsole=function(I,A){try{if(!n(this)||!t._console)return;var F;for(F=0;F<I.length;++F){var R=I[F],q=R.n+": "+R.m;typeof window>"u"&&(q=new Date(R.t)+" | "+q),R.l<=t.getDebugLevel()?this.cdebug(q):R.l<=t.getInfoLevel()?this.cinfo(q):R.l<=t.getWarnLevel()?this.cwarn(q):this.cerror(q)}}catch{}A()},E}(T);t.ConsoleAppender=g;var M=function(){function S(E){this.loggerName=E,this.seenRegexes=[]}return S.prototype.setOptions=function(E){return e("level",E,this),e("userAgentRegex",E,this),e("disallow",E,this),e("ipRegex",E,this),e("appenders",E,this),e("onceOnly",E,this),this.seenRegexes=[],this},S.prototype.buildExceptionObject=function(E){var I={};return E.stack?I.stack=E.stack:I.e=E,E.message&&(I.message=E.message),E.name&&(I.name=E.name),E.data&&(I.data=E.data),E.inner&&(I.inner=this.buildExceptionObject(E.inner)),I},S.prototype.log=function(E,I,A){var F=0,R,q;if(!this.appenders)return this;if(E>=this.level&&n(this)&&(A?(q=this.buildExceptionObject(A),q.logData=i(I)):q=I,R=s(q),r(this,R.finalString))){if(this.onceOnly)for(F=this.onceOnly.length-1;F>=0;){if(new RegExp(this.onceOnly[F]).test(R.finalString)){if(this.seenRegexes[F])return this;this.seenRegexes[F]=!0}F--}for(R.meta=R.meta||{},F=this.appenders.length-1;F>=0;)this.appenders[F].log(b(E),R.msg,R.meta,function(){},E,R.finalString,this.loggerName),F--}return this},S.prototype.trace=function(E){return this.log(u(),E)},S.prototype.debug=function(E){return this.log(l(),E)},S.prototype.info=function(E){return this.log(d(),E)},S.prototype.warn=function(E){return this.log(f(),E)},S.prototype.error=function(E){return this.log(h(),E)},S.prototype.fatal=function(E){return this.log(p(),E)},S.prototype.fatalException=function(E,I){return this.log(p(),E,I)},S}();t.Logger=M;function N(S){return new C(S)}t.createAjaxAppender=N;function B(S){return new g(S)}t.createConsoleAppender=B;var Y;typeof window<"u"?Y=new C(""):Y=new g(""),t.__=new t.Logger(""),t.__.setOptions({level:t.getDebugLevel(),appenders:[Y]})})(En||(En={}));typeof $o<"u"&&($o.__esModule=!0,$o.JL=En);var Vg;typeof Vg=="function"&&Vg.amd&&Vg("jsnlog",[],function(){return En});typeof __jsnlog_configure=="function"&&__jsnlog_configure(En);typeof window<"u"&&!window.onerror&&(window.onerror=function(t,e,n,r,i){return En("onerrorLogger").fatalException({msg:"Uncaught Exception",errorMsg:t?t.message||t:"",url:e,"line number":n,column:r},i),!1});typeof window<"u"&&!window.onunhandledrejection&&(window.onunhandledrejection=function(t){En("onerrorLogger").fatalException({msg:"unhandledrejection",errorMsg:t.reason?t.reason.message:t.message||null},t.reason)})});var Bg=P(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.LocalRecorderState=void 0;var yV;(function(t){t.READY="READY",t.RECORDING="RECORDING",t.PAUSED="PAUSED",t.FINISHED="FINISHED"})(yV=Ua.LocalRecorderState||(Ua.LocalRecorderState={}))});var pC=P(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.ConsoleLogger=void 0;var EV=function(){function t(e){this.logger=e,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error}return t}();Jl.ConsoleLogger=EV});var Ug=P($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.OpenViduLoggerConfiguration=void 0;var _V;(function(t){t.disabled="disabled",t.debug="debug",t.debug_app="debug_app"})(_V=$a.OpenViduLoggerConfiguration||($a.OpenViduLoggerConfiguration={}))});var ht=P(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.OpenViduLogger=void 0;var an=jg(),wV=pC(),$g=Ug(),SV=function(){function t(){this.JSNLOG_URL="/openvidu/elk/openvidu-browser-logs",this.MAX_JSNLOG_BATCH_LOG_MESSAGES=100,this.MAX_MSECONDS_BATCH_MESSAGES=5e3,this.MAX_LENGTH_STRING_JSON=1e3,this.defaultConsoleLogger=new wV.ConsoleLogger(globalThis.console),this.isProdMode=!1,this.isJSNLogSetup=!1}return t.configureJSNLog=function(e,n){var r=this;try{if(globalThis.LOG_JSNLOG_RESULTS||this.instance&&e.isAtLeastPro&&this.instance.isOpenViduBrowserLogsDebugActive(e)&&this.instance.canConfigureJSNLog(e,this.instance)){e.sendBrowserLogs===$g.OpenViduLoggerConfiguration.debug_app&&this.instance.replaceWindowConsole(),this.instance.isJSNLogSetup=!1,this.instance.info("Configuring JSNLogs.");var i=e.finalUserId,o=e.session.sessionId,s=function(c){var u=c.onreadystatechange;c.onreadystatechange=function(){r.isInvalidResponse(c)&&(Object.defineProperty(c,"readyState",{value:4}),Object.defineProperty(c,"status",{value:200}),r.instance.disableLogger()),u()},c.setRequestHeader("Authorization","Basic "+btoa("".concat(i,"%/%").concat(o)+":"+n)),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("OV-Final-User-Id",i),c.setRequestHeader("OV-Session-Id",o),c.setRequestHeader("OV-Token",n)};this.instance.currentAppender=an.JL.createAjaxAppender("appender-".concat(i,"-").concat(o)),this.instance.currentAppender.setOptions({beforeSend:s,maxBatchSize:1e3,batchSize:this.instance.MAX_JSNLOG_BATCH_LOG_MESSAGES,batchTimeout:this.instance.MAX_MSECONDS_BATCH_MESSAGES});var a=function(c){var u=function(){var d=new WeakSet;return function(f,h){if(typeof h=="object"&&h!=null){if(d.has(h)||globalThis.HTMLElement&&h instanceof HTMLElement)return;d.add(h)}return h}},l=JSON.stringify(c,u());return l.length>r.instance.MAX_LENGTH_STRING_JSON&&(l="".concat(l.substring(0,r.instance.MAX_LENGTH_STRING_JSON),"...")),globalThis.LOG_JSNLOG_RESULTS&&console.log(l),l};an.JL.setOptions({defaultAjaxUrl:e.httpUri+this.instance.JSNLOG_URL,serialize:a,enabled:!0}),(0,an.JL)().setOptions({appenders:[this.instance.currentAppender]}),this.instance.isJSNLogSetup=!0,this.instance.loggingSessionId=o,this.instance.info("JSNLog configured.")}}catch(c){console.error("Error configuring JSNLog: "),console.error(c),this.instance.disableLogger()}},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.isInvalidResponse=function(e){return e.status==401||e.status==403||e.status==404||e.status==0},t.prototype.canConfigureJSNLog=function(e,n){return e.session.sessionId!=n.loggingSessionId},t.prototype.isOpenViduBrowserLogsDebugActive=function(e){return e.sendBrowserLogs===$g.OpenViduLoggerConfiguration.debug||e.sendBrowserLogs===$g.OpenViduLoggerConfiguration.debug_app},t.prototype.getConsoleWithJSNLog=function(){return function(e){return{log:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.defaultConsoleLogger.log.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,an.JL)().info(arguments)},info:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.defaultConsoleLogger.info.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,an.JL)().info(arguments)},debug:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.defaultConsoleLogger.debug.apply(e.defaultConsoleLogger.logger,arguments)},warn:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.defaultConsoleLogger.warn.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,an.JL)().warn(arguments)},error:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.defaultConsoleLogger.error.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,an.JL)().error(arguments)}}}(this)},t.prototype.replaceWindowConsole=function(){globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.getConsoleWithJSNLog().log,globalThis.console.info=this.getConsoleWithJSNLog().info,globalThis.console.debug=this.getConsoleWithJSNLog().debug,globalThis.console.warn=this.getConsoleWithJSNLog().warn,globalThis.console.error=this.getConsoleWithJSNLog().error},t.prototype.disableLogger=function(){an.JL.setOptions({enabled:!1}),this.isJSNLogSetup=!1,this.loggingSessionId=void 0,this.currentAppender=void 0,globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.defaultConsoleLogger.log,globalThis.console.info=this.defaultConsoleLogger.info,globalThis.console.debug=this.defaultConsoleLogger.debug,globalThis.console.warn=this.defaultConsoleLogger.warn,globalThis.console.error=this.defaultConsoleLogger.error},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.isProdMode||this.defaultConsoleLogger.log.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,an.JL)().info(arguments)},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.isProdMode||this.defaultConsoleLogger.debug.apply(this.defaultConsoleLogger.logger,arguments)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.isProdMode||this.defaultConsoleLogger.info.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,an.JL)().info(arguments)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.defaultConsoleLogger.warn.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,an.JL)().warn(arguments)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.defaultConsoleLogger.error.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,an.JL)().error(arguments)},t.prototype.flush=function(){this.isJSNLogSetup&&this.currentAppender!=null&&this.currentAppender.sendBatch()},t.prototype.enableProdMode=function(){this.isProdMode=!0},t}();ed.OpenViduLogger=SV});var mC=P((td,Ha)=>{"use strict";(function(){"use strict";var t={function:!0,object:!0},e=t[typeof window]&&window||this,n=e,r=t[typeof td]&&td,i=t[typeof Ha]&&Ha&&!Ha.nodeType&&Ha,o=r&&i&&typeof global=="object"&&global;o&&(o.global===o||o.window===o||o.self===o)&&(e=o);var s=Math.pow(2,53)-1,a=/\bOpera/,c=this,u=Object.prototype,l=u.hasOwnProperty,d=u.toString;function f(g){return g=String(g),g.charAt(0).toUpperCase()+g.slice(1)}function h(g,M,N){var B={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return M&&N&&/^Win/i.test(g)&&!/^Windows Phone /i.test(g)&&(B=B[/[\d.]+$/.exec(g)])&&(g="Windows "+B),g=String(g),M&&N&&(g=g.replace(RegExp(M,"i"),N)),g=m(g.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),g}function p(g,M){var N=-1,B=g?g.length:0;if(typeof B=="number"&&B>-1&&B<=s)for(;++N<B;)M(g[N],N,g);else b(g,M)}function m(g){return g=D(g),/^(?:webOS|i(?:OS|P))/.test(g)?g:f(g)}function b(g,M){for(var N in g)l.call(g,N)&&M(g[N],N,g)}function y(g){return g==null?f(g):d.call(g).slice(8,-1)}function O(g,M){var N=g!=null?typeof g[M]:"number";return!/^(?:boolean|number|string|undefined)$/.test(N)&&(N=="object"?!!g[M]:!0)}function w(g){return String(g).replace(/([ -])(?!$)/g,"$1?")}function x(g,M){var N=null;return p(g,function(B,Y){N=M(N,B,Y,g)}),N}function D(g){return String(g).replace(/^ +| +$/g,"")}function T(g){var M=e,N=g&&typeof g=="object"&&y(g)!="String";N&&(M=g,g=null);var B=M.navigator||{},Y=B.userAgent||"";g||(g=Y);var S=N||c==n,E=N?!!B.likeChrome:/\bChrome\b/.test(g)&&!/internal|\n/i.test(d.toString()),I="Object",A=N?I:"ScriptBridgingProxyObject",F=N?I:"Environment",R=N&&M.java?"JavaPackage":y(M.java),q=N?I:"RuntimeObject",ae=/\bJava/.test(R)&&M.java,Se=ae&&y(M.environment)==F,Re=ae?"a":"\u03B1",Te=ae?"b":"\u03B2",fe=M.document||{},ln=M.operamini||M.opera,Vi=a.test(Vi=N&&ln?ln["[[Class]]"]:y(ln))?Vi:ln=null,v,Zt=g,te=[],Yn=null,Xt=g==Y,Q=Xt&&ln&&typeof ln.version=="function"&&ln.version(),Jd,Ce=LI([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),V=jI(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),ge=Uv([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),at=VI({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),$=BI(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function LI(gt){return x(gt,function(je,De){return je||RegExp("\\b"+(De.pattern||w(De))+"\\b","i").exec(g)&&(De.label||De)})}function VI(gt){return x(gt,function(je,De,dn){return je||(De[ge]||De[/^[a-z]+(?: +[a-z]+\b)*/i.exec(ge)]||RegExp("\\b"+w(dn)+"(?:\\b|\\w*\\d)","i").exec(g))&&dn})}function jI(gt){return x(gt,function(je,De){return je||RegExp("\\b"+(De.pattern||w(De))+"\\b","i").exec(g)&&(De.label||De)})}function BI(gt){return x(gt,function(je,De){var dn=De.pattern||w(De);return!je&&(je=RegExp("\\b"+dn+"(?:/[\\d.]+|[ \\w.]*)","i").exec(g))&&(je=h(je,dn,De.label||De)),je})}function Uv(gt){return x(gt,function(je,De){var dn=De.pattern||w(De);return!je&&(je=RegExp("\\b"+dn+" *\\d+[.\\w_]*","i").exec(g)||RegExp("\\b"+dn+" *\\w+-[\\w]*","i").exec(g)||RegExp("\\b"+dn+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(g))&&((je=String(De.label&&!RegExp(dn,"i").test(De.label)?De.label:je).split("/"))[1]&&!/[\d.]+/.test(je[0])&&(je[0]+=" "+je[1]),De=De.label||De,je=m(je[0].replace(RegExp(dn,"i"),De).replace(RegExp("; *(?:"+De+"[_-])?","i")," ").replace(RegExp("("+De+")[-_.]?(\\w)","i"),"$1 $2"))),je})}function $v(gt){return x(gt,function(je,De){return je||(RegExp(De+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(g)||0)[1]||null})}function UI(){return this.description||""}if(Ce&&(Ce=[Ce]),/\bAndroid\b/.test($)&&!ge&&(v=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(g))&&(ge=D(v[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),at&&!ge?ge=Uv([at]):at&&ge&&(ge=ge.replace(RegExp("^("+w(at)+")[-_.\\s]","i"),at+" ").replace(RegExp("^("+w(at)+")[-_.]?(\\w)","i"),at+" $2")),(v=/\bGoogle TV\b/.exec(ge))&&(ge=v[0]),/\bSimulator\b/i.test(g)&&(ge=(ge?ge+" ":"")+"Simulator"),V=="Opera Mini"&&/\bOPiOS\b/.test(g)&&te.push("running in Turbo/Uncompressed mode"),V=="IE"&&/\blike iPhone OS\b/.test(g)?(v=T(g.replace(/like iPhone OS/,"")),at=v.manufacturer,ge=v.product):/^iP/.test(ge)?(V||(V="Safari"),$="iOS"+((v=/ OS ([\d_]+)/i.exec(g))?" "+v[1].replace(/_/g,"."):"")):V=="Konqueror"&&/^Linux\b/i.test($)?$="Kubuntu":at&&at!="Google"&&(/Chrome/.test(V)&&!/\bMobile Safari\b/i.test(g)||/\bVita\b/.test(ge))||/\bAndroid\b/.test($)&&/^Chrome/.test(V)&&/\bVersion\//i.test(g)?(V="Android Browser",$=/\bAndroid\b/.test($)?$:"Android"):V=="Silk"?(/\bMobi/i.test(g)||($="Android",te.unshift("desktop mode")),/Accelerated *= *true/i.test(g)&&te.unshift("accelerated")):V=="UC Browser"&&/\bUCWEB\b/.test(g)?te.push("speed mode"):V=="PaleMoon"&&(v=/\bFirefox\/([\d.]+)\b/.exec(g))?te.push("identifying as Firefox "+v[1]):V=="Firefox"&&(v=/\b(Mobile|Tablet|TV)\b/i.exec(g))?($||($="Firefox OS"),ge||(ge=v[1])):!V||(v=!/\bMinefield\b/i.test(g)&&/\b(?:Firefox|Safari)\b/.exec(V))?(V&&!ge&&/[\/,]|^[^(]+?\)/.test(g.slice(g.indexOf(v+"/")+8))&&(V=null),(v=ge||at||$)&&(ge||at||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test($))&&(V=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test($)?$:v)+" Browser")):V=="Electron"&&(v=(/\bChrome\/([\d.]+)\b/.exec(g)||0)[1])&&te.push("Chromium "+v),Q||(Q=$v(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",w(V),"(?:Firefox|Minefield|NetFront)"])),(v=Ce=="iCab"&&parseFloat(Q)>3&&"WebKit"||/\bOpera\b/.test(V)&&(/\bOPR\b/.test(g)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(g)&&!/^(?:Trident|EdgeHTML)$/.test(Ce)&&"WebKit"||!Ce&&/\bMSIE\b/i.test(g)&&($=="Mac OS"?"Tasman":"Trident")||Ce=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(V)&&"NetFront")&&(Ce=[v]),V=="IE"&&(v=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(g)||0)[1])?(V+=" Mobile",$="Windows Phone "+(/\+$/.test(v)?v:v+".x"),te.unshift("desktop mode")):/\bWPDesktop\b/i.test(g)?(V="IE Mobile",$="Windows Phone 8.x",te.unshift("desktop mode"),Q||(Q=(/\brv:([\d.]+)/.exec(g)||0)[1])):V!="IE"&&Ce=="Trident"&&(v=/\brv:([\d.]+)/.exec(g))&&(V&&te.push("identifying as "+V+(Q?" "+Q:"")),V="IE",Q=v[1]),Xt){if(O(M,"global"))if(ae&&(v=ae.lang.System,Zt=v.getProperty("os.arch"),$=$||v.getProperty("os.name")+" "+v.getProperty("os.version")),Se){try{Q=M.require("ringo/engine").version.join("."),V="RingoJS"}catch{(v=M.system)&&v.global.system==M.system&&(V="Narwhal",$||($=v[0].os||null))}V||(V="Rhino")}else typeof M.process=="object"&&!M.process.browser&&(v=M.process)&&(typeof v.versions=="object"&&(typeof v.versions.electron=="string"?(te.push("Node "+v.versions.node),V="Electron",Q=v.versions.electron):typeof v.versions.nw=="string"&&(te.push("Chromium "+Q,"Node "+v.versions.node),V="NW.js",Q=v.versions.nw)),V||(V="Node.js",Zt=v.arch,$=v.platform,Q=/[\d.]+/.exec(v.version),Q=Q?Q[0]:null));else y(v=M.runtime)==A?(V="Adobe AIR",$=v.flash.system.Capabilities.os):y(v=M.phantom)==q?(V="PhantomJS",Q=(v=v.version||null)&&v.major+"."+v.minor+"."+v.patch):typeof fe.documentMode=="number"&&(v=/\bTrident\/(\d+)/i.exec(g))?(Q=[Q,fe.documentMode],(v=+v[1]+4)!=Q[1]&&(te.push("IE "+Q[1]+" mode"),Ce&&(Ce[1]=""),Q[1]=v),Q=V=="IE"?String(Q[1].toFixed(1)):Q[0]):typeof fe.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(V)&&(te.push("masking as "+V+" "+Q),V="IE",Q="11.0",Ce=["Trident"],$="Windows");$=$&&m($)}if(Q&&(v=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Q)||/(?:alpha|beta)(?: ?\d)?/i.exec(g+";"+(Xt&&B.appMinorVersion))||/\bMinefield\b/i.test(g)&&"a")&&(Yn=/b/i.test(v)?"beta":"alpha",Q=Q.replace(RegExp(v+"\\+?$"),"")+(Yn=="beta"?Te:Re)+(/\d+\+?/.exec(v)||"")),V=="Fennec"||V=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test($))V="Firefox Mobile";else if(V=="Maxthon"&&Q)Q=Q.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(ge))ge=="Xbox 360"&&($=null),ge=="Xbox 360"&&/\bIEMobile\b/.test(g)&&te.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(V)||V&&!ge&&!/Browser|Mobi/.test(V))&&($=="Windows CE"||/Mobi/i.test(g)))V+=" Mobile";else if(V=="IE"&&Xt)try{M.external===null&&te.unshift("platform preview")}catch{te.unshift("embedded")}else(/\bBlackBerry\b/.test(ge)||/\bBB10\b/.test(g))&&(v=(RegExp(ge.replace(/ +/g," *")+"/([.\\d]+)","i").exec(g)||0)[1]||Q)?(v=[v,/BB10/.test(g)],$=(v[1]?(ge=null,at="BlackBerry"):"Device Software")+" "+v[0],Q=null):this!=b&&ge!="Wii"&&(Xt&&ln||/Opera/.test(V)&&/\b(?:MSIE|Firefox)\b/i.test(g)||V=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test($)||V=="IE"&&($&&!/^Win/.test($)&&Q>5.5||/\bWindows XP\b/.test($)&&Q>8||Q==8&&!/\bTrident\b/.test(g)))&&!a.test(v=T.call(b,g.replace(a,"")+";"))&&v.name&&(v="ing as "+v.name+((v=v.version)?" "+v:""),a.test(V)?(/\bIE\b/.test(v)&&$=="Mac OS"&&($=null),v="identify"+v):(v="mask"+v,Vi?V=m(Vi.replace(/([a-z])([A-Z])/g,"$1 $2")):V="Opera",/\bIE\b/.test(v)&&($=null),Xt||(Q=null)),Ce=["Presto"],te.push(v));(v=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(g)||0)[1])&&(v=[parseFloat(v.replace(/\.(\d)$/,".0$1")),v],V=="Safari"&&v[1].slice(-1)=="+"?(V="WebKit Nightly",Yn="alpha",Q=v[1].slice(0,-1)):(Q==v[1]||Q==(v[2]=(/\bSafari\/([\d.]+\+?)/i.exec(g)||0)[1]))&&(Q=null),v[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(g)||0)[1],v[0]==537.36&&v[2]==537.36&&parseFloat(v[1])>=28&&Ce=="WebKit"&&(Ce=["Blink"]),!Xt||!E&&!v[1]?(Ce&&(Ce[1]="like Safari"),v=(v=v[0],v<400?1:v<500?2:v<526?3:v<533?4:v<534?"4+":v<535?5:v<537?6:v<538?7:v<601?8:v<602?9:v<604?10:v<606?11:v<608?12:"12")):(Ce&&(Ce[1]="like Chrome"),v=v[1]||(v=v[0],v<530?1:v<532?2:v<532.05?3:v<533?4:v<534.03?5:v<534.07?6:v<534.1?7:v<534.13?8:v<534.16?9:v<534.24?10:v<534.3?11:v<535.01?12:v<535.02?"13+":v<535.07?15:v<535.11?16:v<535.19?17:v<536.05?18:v<536.1?19:v<537.01?20:v<537.11?"21+":v<537.13?23:v<537.18?24:v<537.24?25:v<537.36?26:Ce!="Blink"?"27":"28")),Ce&&(Ce[1]+=" "+(v+=typeof v=="number"?".x":/[.+]/.test(v)?"":"+")),V=="Safari"&&(!Q||parseInt(Q)>45)?Q=v:V=="Chrome"&&/\bHeadlessChrome/i.test(g)&&te.unshift("headless")),V=="Opera"&&(v=/\bzbov|zvav$/.exec($))?(V+=" ",te.unshift("desktop mode"),v=="zvav"?(V+="Mini",Q=null):V+="Mobile",$=$.replace(RegExp(" *"+v+"$"),"")):V=="Safari"&&/\bChrome\b/.exec(Ce&&Ce[1])?(te.unshift("desktop mode"),V="Chrome Mobile",Q=null,/\bOS X\b/.test($)?(at="Apple",$="iOS 4.3+"):$=null):/\bSRWare Iron\b/.test(V)&&!Q&&(Q=$v("Chrome")),Q&&Q.indexOf(v=/[\d.]+$/.exec($))==0&&g.indexOf("/"+v+"-")>-1&&($=D($.replace(v,""))),$&&$.indexOf(V)!=-1&&!RegExp(V+" OS").test($)&&($=$.replace(RegExp(" *"+w(V)+" *"),"")),Ce&&!/\b(?:Avant|Nook)\b/.test(V)&&(/Browser|Lunascape|Maxthon/.test(V)||V!="Safari"&&/^iOS/.test($)&&/\bSafari\b/.test(Ce[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(V)&&Ce[1])&&(v=Ce[Ce.length-1])&&te.push(v),te.length&&(te=["("+te.join("; ")+")"]),at&&ge&&ge.indexOf(at)<0&&te.push("on "+at),ge&&te.push((/^on /.test(te[te.length-1])?"":"on ")+ge),$&&(v=/ ([\d.+]+)$/.exec($),Jd=v&&$.charAt($.length-v[0].length-1)=="/",$={architecture:32,family:v&&!Jd?$.replace(v[0],""):$,version:v?v[1]:null,toString:function(){var gt=this.version;return this.family+(gt&&!Jd?" "+gt:"")+(this.architecture==64?" 64-bit":"")}}),(v=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Zt))&&!/\bi686\b/i.test(Zt)?($&&($.architecture=64,$.family=$.family.replace(RegExp(" *"+v),"")),V&&(/\bWOW64\b/i.test(g)||Xt&&/\w(?:86|32)$/.test(B.cpuClass||B.platform)&&!/\bWin64; x64\b/i.test(g))&&te.unshift("32-bit")):$&&/^OS X/.test($.family)&&V=="Chrome"&&parseFloat(Q)>=39&&($.architecture=64),g||(g=null);var Dt={};return Dt.description=g,Dt.layout=Ce&&Ce[0],Dt.manufacturer=at,Dt.name=V,Dt.prerelease=Yn,Dt.product=ge,Dt.ua=g,Dt.version=V&&Q,Dt.os=$||{architecture:null,family:null,version:null,toString:function(){return"null"}},Dt.parse=T,Dt.toString=UI,Dt.version&&te.unshift(Q),Dt.name&&te.unshift(V),$&&V&&!($==String($).split(" ")[0]&&($==V.split(" ")[0]||ge))&&te.push(ge?"("+$+")":"on "+$),te.length&&(Dt.description=te.join(" ")),Dt}var C=T();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e.platform=C,define(function(){return C})):r&&i?b(C,function(g,M){r[M]=g}):e.platform=C}).call(td)});var ur=P(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.PlatformUtils=void 0;var ie=mC(),CV=function(){function t(){}return t.getInstance=function(){return this.instance||(this.instance=new t),t.instance},t.prototype.isChromeBrowser=function(){return ie.name==="Chrome"},t.prototype.isSafariBrowser=function(){return ie.name==="Safari"},t.prototype.isChromeMobileBrowser=function(){return ie.name==="Chrome Mobile"},t.prototype.isFirefoxBrowser=function(){return ie.name==="Firefox"},t.prototype.isFirefoxMobileBrowser=function(){return ie.name==="Firefox Mobile"||ie.name==="Firefox for iOS"},t.prototype.isOperaBrowser=function(){return ie.name==="Opera"},t.prototype.isOperaMobileBrowser=function(){return ie.name==="Opera Mobile"},t.prototype.isEdgeBrowser=function(){var e=ie?.version?parseFloat(ie.version):-1;return ie.name==="Microsoft Edge"&&e>=80},t.prototype.isEdgeMobileBrowser=function(){var e,n,r=ie?.version?parseFloat(ie.version):-1;return ie.name==="Microsoft Edge"&&(((e=ie.os)===null||e===void 0?void 0:e.family)==="Android"||((n=ie.os)===null||n===void 0?void 0:n.family)==="iOS")&&r>45},t.prototype.isAndroidBrowser=function(){return ie.name==="Android Browser"},t.prototype.isElectron=function(){return ie.name==="Electron"},t.prototype.isNodeJs=function(){return ie.name==="Node.js"},t.prototype.isSamsungBrowser=function(){return ie.name==="Samsung Internet Mobile"||ie.name==="Samsung Internet"},t.prototype.isMotorolaEdgeDevice=function(){var e;return((e=ie.product)===null||e===void 0?void 0:e.toLowerCase().includes("motorola edge"))||!1},t.prototype.isIPhoneOrIPad=function(){var e=ie.ua?ie.ua:navigator.userAgent,n="ontouchend"in document,r=/\b(\w*Macintosh\w*)\b/.test(e)&&n,i=/\b(\w*iPhone\w*)\b/.test(e)&&/\b(\w*Mobile\w*)\b/.test(e)&&n;return r||i},t.prototype.isIOSWithSafari=function(){var e=ie.ua?ie.ua:navigator.userAgent;return this.isIPhoneOrIPad()&&/\b(\w*Apple\w*)\b/.test(navigator.vendor)&&/\b(\w*Safari\w*)\b/.test(e)&&!/\b(\w*CriOS\w*)\b/.test(e)&&!/\b(\w*FxiOS\w*)\b/.test(e)},t.prototype.isIonicIos=function(){return this.isIPhoneOrIPad()&&ie.ua.indexOf("Safari")===-1},t.prototype.isIonicAndroid=function(){return ie.os.family==="Android"&&ie.name=="Android Browser"},t.prototype.isMobileDevice=function(){return ie.os.family==="iOS"||ie.os.family==="Android"},t.prototype.isReactNative=function(){return!1},t.prototype.isChromium=function(){return this.isChromeBrowser()||this.isChromeMobileBrowser()||this.isOperaBrowser()||this.isOperaMobileBrowser()||this.isEdgeBrowser()||this.isEdgeMobileBrowser()||this.isSamsungBrowser()||this.isIonicAndroid()||this.isIonicIos()||this.isElectron()||this.isMotorolaEdgeDevice()},t.prototype.canScreenShare=function(){var e=ie?.version?parseFloat(ie.version):-1;return this.isMobileDevice()?!1:this.isChromeBrowser()||this.isFirefoxBrowser()||this.isOperaBrowser()||this.isElectron()||this.isEdgeBrowser()||this.isSafariBrowser()&&e>=13},t.prototype.getName=function(){return ie.name||""},t.prototype.getVersion=function(){return ie.version||""},t.prototype.getFamily=function(){return ie.os.family||""},t.prototype.getDescription=function(){return ie.description||""},t}();nd.PlatformUtils=CV});var vC=P((OY,gC)=>{"use strict";function rd(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}rd.prototype.define=function(t,e){for(let n in t){let r=t[n].map(function(i){return i.toLowerCase()});n=n.toLowerCase();for(let i=0;i<r.length;i++){let o=r[i];if(o[0]!=="*"){if(!e&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(e||!this._extensions[n]){let i=r[0];this._extensions[n]=i[0]!=="*"?i:i.substr(1)}}};rd.prototype.getType=function(t){t=String(t);let e=t.replace(/^.*[/\\]/,"").toLowerCase(),n=e.replace(/^.*\./,"").toLowerCase(),r=e.length<t.length;return(n.length<e.length-1||!r)&&this._types[n]||null};rd.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};gC.exports=rd});var yC=P((RY,bC)=>{"use strict";bC.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var _C=P((NY,EC)=>{"use strict";var DV=vC();EC.exports=new DV(yC())});var Hg=P(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.LocalRecorder=void 0;var dt=Bg(),IV=ht(),xV=ur(),wC=_C(),Ai=IV.OpenViduLogger.getInstance(),SC,TV=function(){function t(e){this.stream=e,this.chunks=[],SC=xV.PlatformUtils.getInstance(),this.connectionId=this.stream.connection?this.stream.connection.connectionId:"default-connection",this.id=this.stream.streamId+"_"+this.connectionId+"_localrecord",this.state=dt.LocalRecorderState.READY}return t.prototype.record=function(e){var n=this;return new Promise(function(r,i){try{if(typeof e=="string"||e instanceof String)return i(`When calling LocalRecorder.record(options) parameter 'options' cannot be a string. Must be an object like { mimeType: "`.concat(e,'" }'));if(typeof MediaRecorder>"u")throw Ai.error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder"),Error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder");if(n.state!==dt.LocalRecorderState.READY)throw Error("'LocalRecord.record()' needs 'LocalRecord.state' to be 'READY' (current value: '"+n.state+"'). Call 'LocalRecorder.clean()' or init a new LocalRecorder before");Ai.log("Starting local recording of stream '"+n.stream.streamId+"' of connection '"+n.connectionId+"'"),e?e.mimeType||(e.mimeType="video/webm"):e={mimeType:"video/webm"},n.mediaRecorder=new MediaRecorder(n.stream.getMediaStream(),e),n.mediaRecorder.start()}catch(o){return i(o)}return n.mediaRecorder.ondataavailable=function(o){o.data.size>0&&n.chunks.push(o.data)},n.mediaRecorder.onerror=function(o){Ai.error("MediaRecorder error: ",o)},n.mediaRecorder.onstart=function(){Ai.log("MediaRecorder started (state="+n.mediaRecorder.state+")")},n.mediaRecorder.onstop=function(){n.onStopDefault()},n.mediaRecorder.onpause=function(){Ai.log("MediaRecorder paused (state="+n.mediaRecorder.state+")")},n.mediaRecorder.onresume=function(){Ai.log("MediaRecorder resumed (state="+n.mediaRecorder.state+")")},n.state=dt.LocalRecorderState.RECORDING,r()})},t.prototype.stop=function(){var e=this;return new Promise(function(n,r){try{if(e.state===dt.LocalRecorderState.READY||e.state===dt.LocalRecorderState.FINISHED)throw Error("'LocalRecord.stop()' needs 'LocalRecord.state' to be 'RECORDING' or 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' before");e.mediaRecorder.onstop=function(){return e.onStopDefault(),n()},e.mediaRecorder.stop()}catch(i){return r(i)}})},t.prototype.pause=function(){var e=this;return new Promise(function(n,r){try{return e.state!==dt.LocalRecorderState.RECORDING?r(Error("'LocalRecord.pause()' needs 'LocalRecord.state' to be 'RECORDING' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' or 'LocalRecorder.resume()' before")):(e.mediaRecorder.pause(),e.state=dt.LocalRecorderState.PAUSED,n())}catch(i){return r(i)}})},t.prototype.resume=function(){var e=this;return new Promise(function(n,r){try{if(e.state!==dt.LocalRecorderState.PAUSED)throw Error("'LocalRecord.resume()' needs 'LocalRecord.state' to be 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.pause()' before");return e.mediaRecorder.resume(),e.state=dt.LocalRecorderState.RECORDING,n()}catch(i){return r(i)}})},t.prototype.preview=function(e){if(this.state!==dt.LocalRecorderState.FINISHED)throw Error("'LocalRecord.preview()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");if(this.videoPreview=document.createElement("video"),this.videoPreview.id=this.id,this.videoPreview.autoplay=!0,SC.isSafariBrowser()&&(this.videoPreview.playsInline=!0),typeof e=="string"){var n=document.getElementById(e);n&&(this.videoPreview=n.appendChild(this.videoPreview))}else this.videoPreview=e.appendChild(this.videoPreview);return this.videoPreview.src=this.videoPreviewSrc,this.videoPreview},t.prototype.clean=function(){var e=this,n=function(){delete e.blob,e.chunks=[],e.state=dt.LocalRecorderState.READY};this.state===dt.LocalRecorderState.RECORDING||this.state===dt.LocalRecorderState.PAUSED?this.stop().then(function(){return n()}).catch(function(){return n()}):n()},t.prototype.download=function(){if(this.state!==dt.LocalRecorderState.FINISHED)throw Error("'LocalRecord.download()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");var e=document.createElement("a");e.style.display="none",document.body.appendChild(e);var n=globalThis.URL.createObjectURL(this.blob);e.href=n,e.download=this.id+"."+wC.getExtension(this.blob.type),e.click(),globalThis.URL.revokeObjectURL(n),document.body.removeChild(e)},t.prototype.getBlob=function(){if(this.state!==dt.LocalRecorderState.FINISHED)throw Error("Call 'LocalRecord.stop()' before getting Blob file");return this.blob},t.prototype.uploadAsBinary=function(e,n){var r=this;return new Promise(function(i,o){if(r.state!==dt.LocalRecorderState.FINISHED)return o(Error("'LocalRecord.uploadAsBinary()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var s=new XMLHttpRequest;if(s.open("POST",e,!0),typeof n=="object")for(var a=0,c=Object.keys(n);a<c.length;a++){var u=c[a];s.setRequestHeader(u,n[u])}s.onreadystatechange=function(){if(s.readyState===4)return s.status.toString().charAt(0)==="2"?i(s.responseText):o(s.status)},s.send(r.blob)})},t.prototype.uploadAsMultipartfile=function(e,n){var r=this;return new Promise(function(i,o){if(r.state!==dt.LocalRecorderState.FINISHED)return o(Error("'LocalRecord.uploadAsMultipartfile()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var s=new XMLHttpRequest;if(s.open("POST",e,!0),typeof n=="object")for(var a=0,c=Object.keys(n);a<c.length;a++){var u=c[a];s.setRequestHeader(u,n[u])}var l=new FormData;l.append("file",r.blob,r.id+"."+wC.getExtension(r.blob.type)),s.onreadystatechange=function(){if(s.readyState===4)return s.status.toString().charAt(0)==="2"?i(s.responseText):o(s.status)},s.send(l)})},t.prototype.onStopDefault=function(){Ai.log("MediaRecorder stopped  (state="+this.mediaRecorder.state+")"),this.blob=new Blob(this.chunks,{type:this.mediaRecorder.mimeType}),this.chunks=[],this.videoPreviewSrc=globalThis.URL.createObjectURL(this.blob),this.state=dt.LocalRecorderState.FINISHED},t}();id.LocalRecorder=TV});var yt=P(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.Event=void 0;var MV=function(){function t(e,n,r){this.hasBeenPrevented=!1,this.cancelable=e,this.target=n,this.type=r}return t.prototype.isDefaultPrevented=function(){return this.hasBeenPrevented},t.prototype.preventDefault=function(){this.callDefaultBehavior=function(){},this.hasBeenPrevented=!0},t}();od.Event=MV});var Oi=P(Ho=>{"use strict";var AV=Ho&&Ho.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.StreamPropertyChangedEvent=void 0;var OV=yt(),RV=function(t){AV(e,t);function e(n,r,i,o,s,a){var c=t.call(this,!1,n,"streamPropertyChanged")||this;return c.stream=r,c.changedProperty=i,c.newValue=o,c.oldValue=s,c.reason=a,c}return e.prototype.callDefaultBehavior=function(){},e}(OV.Event);Ho.StreamPropertyChangedEvent=RV});var Ni=P(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.OpenViduError=Ri.OpenViduErrorName=void 0;var NV;(function(t){t.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",t.DEVICE_ACCESS_DENIED="DEVICE_ACCESS_DENIED",t.DEVICE_ALREADY_IN_USE="DEVICE_ALREADY_IN_USE",t.SCREEN_CAPTURE_DENIED="SCREEN_CAPTURE_DENIED",t.SCREEN_SHARING_NOT_SUPPORTED="SCREEN_SHARING_NOT_SUPPORTED",t.SCREEN_EXTENSION_NOT_INSTALLED="SCREEN_EXTENSION_NOT_INSTALLED",t.SCREEN_EXTENSION_DISABLED="SCREEN_EXTENSION_DISABLED",t.INPUT_VIDEO_DEVICE_NOT_FOUND="INPUT_VIDEO_DEVICE_NOT_FOUND",t.INPUT_AUDIO_DEVICE_NOT_FOUND="INPUT_AUDIO_DEVICE_NOT_FOUND",t.INPUT_AUDIO_DEVICE_GENERIC_ERROR="INPUT_AUDIO_DEVICE_GENERIC_ERROR",t.NO_INPUT_SOURCE_SET="NO_INPUT_SOURCE_SET",t.PUBLISHER_PROPERTIES_ERROR="PUBLISHER_PROPERTIES_ERROR",t.OPENVIDU_PERMISSION_DENIED="OPENVIDU_PERMISSION_DENIED",t.OPENVIDU_NOT_CONNECTED="OPENVIDU_NOT_CONNECTED",t.VIRTUAL_BACKGROUND_ERROR="VIRTUAL_BACKGROUND_ERROR",t.GENERIC_ERROR="GENERIC_ERROR"})(NV=Ri.OpenViduErrorName||(Ri.OpenViduErrorName={}));var PV=function(){function t(e,n){this.name=e,this.message=n}return t}();Ri.OpenViduError=PV});var ad=P(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.Filter=void 0;var CC=Oi(),Et=Ni(),kV=ht(),Hn=kV.OpenViduLogger.getInstance(),FV=function(){function t(e,n){this.handlers=new Map,this.type=e,this.options=n}return t.prototype.execMethod=function(e,n){var r=this;return new Promise(function(i,o){var s;Hn.info("Executing filter method to stream "+r.stream.streamId);var a,c=function(d){Hn.info("Filter method successfully executed on Stream "+r.stream.streamId);var f=Object.assign({},r.stream.filter);return r.stream.filter.lastExecMethod={method:e,params:a},d&&(r.stream.session.emitEvent("streamPropertyChanged",[new CC.StreamPropertyChangedEvent(r.stream.session,r.stream,"filter",r.stream.filter,f,"execFilterMethod")]),r.stream.streamManager.emitEvent("streamPropertyChanged",[new CC.StreamPropertyChangedEvent(r.stream.streamManager,r.stream,"filter",r.stream.filter,f,"execFilterMethod")])),i()};if(r.type.startsWith("VB:")){if(typeof n=="string")try{n=JSON.parse(n)}catch(d){return o(new Et.OpenViduError(Et.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Wrong params syntax: "+d))}if(a=n,e==="update")if(!((s=r.stream.virtualBackgroundSinkElements)===null||s===void 0)&&s.VB)r.stream.virtualBackgroundSinkElements.VB.updateValues(n).then(function(){return c(!1)}).catch(function(d){return d.name===Et.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?o(new Et.OpenViduError(d.name,d.message)):o(new Et.OpenViduError(Et.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Error updating values on Virtual Background filter: "+d))});else return o(new Et.OpenViduError(Et.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"There is no Virtual Background filter applied"));else return o(new Et.OpenViduError(Et.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Unknown Virtual Background method "'.concat(e,'"')))}else{var u=void 0;if(typeof n!="string")try{u=JSON.stringify(n)}catch{var l="'params' property must be a JSON formatted object";return Hn.error(l),o(l)}else u=n;a=u,r.stream.session.openvidu.sendRequest("execFilterMethod",{streamId:r.stream.streamId,method:e,params:u},function(d,f){return d?(Hn.error("Error executing filter method for Stream "+r.stream.streamId,d),d.code===401?o(new Et.OpenViduError(Et.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to execute a filter method")):o(d)):c(!0)})}})},t.prototype.addEventListener=function(e,n){var r=this;return new Promise(function(i,o){Hn.info("Adding filter event listener to event "+e+" to stream "+r.stream.streamId),r.stream.session.openvidu.sendRequest("addFilterEventListener",{streamId:r.stream.streamId,eventType:e},function(s,a){return s?(Hn.error("Error adding filter event listener to event "+e+"for Stream "+r.stream.streamId,s),s.code===401?o(new Et.OpenViduError(Et.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):o(s)):(r.handlers.set(e,n),Hn.info("Filter event listener to event "+e+" successfully applied on Stream "+r.stream.streamId),i())})})},t.prototype.removeEventListener=function(e){var n=this;return new Promise(function(r,i){Hn.info("Removing filter event listener to event "+e+" to stream "+n.stream.streamId),n.stream.session.openvidu.sendRequest("removeFilterEventListener",{streamId:n.stream.streamId,eventType:e},function(o,s){return o?(Hn.error("Error removing filter event listener to event "+e+"for Stream "+n.stream.streamId,o),o.code===401?i(new Et.OpenViduError(Et.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):i(o)):(n.handlers.delete(e),Hn.info("Filter event listener to event "+e+" successfully removed on Stream "+n.stream.streamId),r())})})},t}();sd.Filter=FV});var ud=P((DC,cd)=>{"use strict";(function(t){"use strict";function e(){}var n=e.prototype,r=t.EventEmitter;function i(a,c){for(var u=a.length;u--;)if(a[u].listener===c)return u;return-1}function o(a){return function(){return this[a].apply(this,arguments)}}n.getListeners=function(c){var u=this._getEvents(),l,d;if(c instanceof RegExp){l={};for(d in u)u.hasOwnProperty(d)&&c.test(d)&&(l[d]=u[d])}else l=u[c]||(u[c]=[]);return l},n.flattenListeners=function(c){var u=[],l;for(l=0;l<c.length;l+=1)u.push(c[l].listener);return u},n.getListenersAsObject=function(c){var u=this.getListeners(c),l;return u instanceof Array&&(l={},l[c]=u),l||u};function s(a){return typeof a=="function"||a instanceof RegExp?!0:a&&typeof a=="object"?s(a.listener):!1}n.addListener=function(c,u){if(!s(u))throw new TypeError("listener must be a function");var l=this.getListenersAsObject(c),d=typeof u=="object",f;for(f in l)l.hasOwnProperty(f)&&i(l[f],u)===-1&&l[f].push(d?u:{listener:u,once:!1});return this},n.on=o("addListener"),n.addOnceListener=function(c,u){return this.addListener(c,{listener:u,once:!0})},n.once=o("addOnceListener"),n.defineEvent=function(c){return this.getListeners(c),this},n.defineEvents=function(c){for(var u=0;u<c.length;u+=1)this.defineEvent(c[u]);return this},n.removeListener=function(c,u){var l=this.getListenersAsObject(c),d,f;for(f in l)l.hasOwnProperty(f)&&(d=i(l[f],u),d!==-1&&l[f].splice(d,1));return this},n.off=o("removeListener"),n.addListeners=function(c,u){return this.manipulateListeners(!1,c,u)},n.removeListeners=function(c,u){return this.manipulateListeners(!0,c,u)},n.manipulateListeners=function(c,u,l){var d,f,h=c?this.removeListener:this.addListener,p=c?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(d in u)u.hasOwnProperty(d)&&(f=u[d])&&(typeof f=="function"?h.call(this,d,f):p.call(this,d,f));else for(d=l.length;d--;)h.call(this,u,l[d]);return this},n.removeEvent=function(c){var u=typeof c,l=this._getEvents(),d;if(u==="string")delete l[c];else if(c instanceof RegExp)for(d in l)l.hasOwnProperty(d)&&c.test(d)&&delete l[d];else delete this._events;return this},n.removeAllListeners=o("removeEvent"),n.emitEvent=function(c,u){var l=this.getListenersAsObject(c),d,f,h,p,m;for(p in l)if(l.hasOwnProperty(p))for(d=l[p].slice(0),h=0;h<d.length;h++)f=d[h],f.once===!0&&this.removeListener(c,f.listener),m=f.listener.apply(this,u||[]),m===this._getOnceReturnValue()&&this.removeListener(c,f.listener);return this},n.trigger=o("emitEvent"),n.emit=function(c){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,u)},n.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return t.EventEmitter=r,e},typeof define=="function"&&define.amd?define(function(){return e}):typeof cd=="object"&&cd.exports?cd.exports=e:t.EventEmitter=e})(typeof window<"u"?window:DC||{})});var fd=P(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.EventDispatcher=void 0;var LV=ht(),VV=ud(),ld=LV.OpenViduLogger.getInstance(),jV=function(){function t(){this.userHandlerArrowHandler=new WeakMap,this.ee=new VV}return t.prototype.onAux=function(e,n,r){var i=function(o){o?ld.debug(n,o):ld.debug(n),r(o)};return this.userHandlerArrowHandler.set(r,i),this.ee.on(e,i),this},t.prototype.onceAux=function(e,n,r){var i=this,o=function(s){s?ld.debug(n,s):ld.debug(n),r(s),i.userHandlerArrowHandler.delete(r)};return this.userHandlerArrowHandler.set(r,o),this.ee.once(e,o),this},t.prototype.offAux=function(e,n){if(!n)this.ee.removeAllListeners(e);else{var r=this.userHandlerArrowHandler.get(n);r&&this.ee.off(e,r),this.userHandlerArrowHandler.delete(n)}return this},t}();dd.EventDispatcher=jV});var hd=P(zo=>{"use strict";var BV=zo&&zo.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(zo,"__esModule",{value:!0});zo.StreamManagerEvent=void 0;var UV=yt(),$V=function(t){BV(e,t);function e(n,r,i){var o=t.call(this,!1,n,r)||this;return o.value=i,o}return e.prototype.callDefaultBehavior=function(){},e}(UV.Event);zo.StreamManagerEvent=$V});var zg=P(qo=>{"use strict";var HV=qo&&qo.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(qo,"__esModule",{value:!0});qo.VideoElementEvent=void 0;var zV=yt(),qV=function(t){HV(e,t);function e(n,r,i){var o=t.call(this,!1,r,i)||this;return o.element=n,o}return e.prototype.callDefaultBehavior=function(){},e}(zV.Event);qo.VideoElementEvent=qV});var Pi=P(lr=>{"use strict";var WV=lr&&lr.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(lr,"__esModule",{value:!0});lr.ExceptionEvent=lr.ExceptionEventName=void 0;var GV=yt(),KV;(function(t){t.ICE_CANDIDATE_ERROR="ICE_CANDIDATE_ERROR",t.ICE_CONNECTION_FAILED="ICE_CONNECTION_FAILED",t.ICE_CONNECTION_DISCONNECTED="ICE_CONNECTION_DISCONNECTED",t.NO_STREAM_PLAYING_EVENT="NO_STREAM_PLAYING_EVENT",t.SPEECH_TO_TEXT_DISCONNECTED="SPEECH_TO_TEXT_DISCONNECTED"})(KV=lr.ExceptionEventName||(lr.ExceptionEventName={}));var YV=function(t){WV(e,t);function e(n,r,i,o,s){var a=t.call(this,!1,n,"exception")||this;return a.name=r,a.origin=i,a.message=o,a.data=s,a}return e.prototype.callDefaultBehavior=function(){},e}(GV.Event);lr.ExceptionEvent=YV});var qa=P(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.VideoInsertMode=void 0;var QV;(function(t){t.AFTER="AFTER",t.APPEND="APPEND",t.BEFORE="BEFORE",t.PREPEND="PREPEND",t.REPLACE="REPLACE"})(QV=za.VideoInsertMode||(za.VideoInsertMode={}))});var md=P(Wo=>{"use strict";var ZV=Wo&&Wo.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Wo,"__esModule",{value:!0});Wo.StreamManager=void 0;var XV=fd(),qg=hd(),pd=zg(),IC=Pi(),ki=qa(),JV=ht(),ej=ur(),Wg=JV.OpenViduLogger.getInstance(),Ot,tj=function(t){ZV(e,t);function e(n,r){var i=t.call(this)||this;if(i.videos=[],i.lazyLaunchVideoElementCreatedEvent=!1,Ot=ej.PlatformUtils.getInstance(),i.stream=n,i.stream.streamManager=i,i.remote=!i.stream.isLocal(),r){var o=void 0;typeof r=="string"?o=document.getElementById(r):r instanceof HTMLElement&&(o=r),o&&(i.firstVideoElement={targetElement:o,video:document.createElement("video"),id:"",canplayListenerAdded:!1},(Ot.isSafariBrowser()||Ot.isIPhoneOrIPad()&&(Ot.isChromeMobileBrowser()||Ot.isEdgeMobileBrowser()||Ot.isOperaMobileBrowser()||Ot.isFirefoxMobileBrowser()))&&(i.firstVideoElement.video.playsInline=!0),i.targetElement=o,i.element=o)}return i.canPlayListener=function(){i.deactivateStreamPlayingEventExceptionTimeout(),i.ee.emitEvent("streamPlaying",[new qg.StreamManagerEvent(i,"streamPlaying",void 0)])},i}return e.prototype.on=function(n,r){return t.prototype.onAux.call(this,n,"Event '"+n+"' triggered by '"+(this.remote?"Subscriber":"Publisher")+"'",r),n==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&(this.ee.emitEvent("videoElementCreated",[new pd.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!1),n==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new qg.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(n==="publisherStartSpeaking"&&this.stream.enableHarkSpeakingEvent(),n==="publisherStopSpeaking"&&this.stream.enableHarkStoppedSpeakingEvent(),n==="streamAudioVolumeChange"&&this.stream.enableHarkVolumeChangeEvent(!1)),this},e.prototype.once=function(n,r){return t.prototype.onceAux.call(this,n,"Event '"+n+"' triggered once by '"+(this.remote?"Subscriber":"Publisher")+"'",r),n==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&this.ee.emitEvent("videoElementCreated",[new pd.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),n==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new qg.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(n==="publisherStartSpeaking"&&this.stream.enableOnceHarkSpeakingEvent(),n==="publisherStopSpeaking"&&this.stream.enableOnceHarkStoppedSpeakingEvent(),n==="streamAudioVolumeChange"&&this.stream.enableOnceHarkVolumeChangeEvent(!1)),this},e.prototype.off=function(n,r){if(t.prototype.offAux.call(this,n,r),n==="publisherStartSpeaking"){var i=this.ee.getListeners(n).length+this.stream.session.ee.getListeners(n).length;i===0&&this.stream.disableHarkSpeakingEvent(!1)}if(n==="publisherStopSpeaking"){var o=this.ee.getListeners(n).length+this.stream.session.ee.getListeners(n).length;o===0&&this.stream.disableHarkStoppedSpeakingEvent(!1)}if(n==="streamAudioVolumeChange"){var s=this.ee.getListeners(n).length;s===0&&this.stream.disableHarkVolumeChangeEvent(!1)}return this},e.prototype.addVideoElement=function(n){this.initializeVideoProperties(n),!this.remote&&this.stream.displayMyRemote()&&n.srcObject!==this.stream.getMediaStream()&&(n.srcObject=this.stream.getMediaStream());for(var r=0,i=this.videos;r<i.length;r++){var o=i[r];if(o.video===n)return 0}for(var s=1,a=0,c=this.stream.session.streamManagers;a<c.length;a++){var u=c[a];if(u.disassociateVideo(n)){s=-1;break}}return this.stream.session.streamManagers.forEach(function(l){l.disassociateVideo(n)}),this.pushNewStreamManagerVideo({video:n,id:n.id,canplayListenerAdded:!1}),Wg.info("New video element associated to ",this),s},e.prototype.createVideoElement=function(n,r){var i;if(typeof n=="string"){if(i=document.getElementById(n),!i)throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+n)}else if(n instanceof HTMLElement)i=n;else throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+n);var o=this.createVideo();this.initializeVideoProperties(o);var s=r||ki.VideoInsertMode.APPEND;switch(s){case ki.VideoInsertMode.AFTER:i.parentNode.insertBefore(o,i.nextSibling);break;case ki.VideoInsertMode.APPEND:i.appendChild(o);break;case ki.VideoInsertMode.BEFORE:i.parentNode.insertBefore(o,i);break;case ki.VideoInsertMode.PREPEND:i.insertBefore(o,i.childNodes[0]);break;case ki.VideoInsertMode.REPLACE:i.parentNode.replaceChild(o,i);break;default:s=ki.VideoInsertMode.APPEND,i.appendChild(o);break}var a={targetElement:i,video:o,insertMode:s,id:o.id,canplayListenerAdded:!1};return this.pushNewStreamManagerVideo(a),this.ee.emitEvent("videoElementCreated",[new pd.VideoElementEvent(a.video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!!this.firstVideoElement,o},e.prototype.updatePublisherSpeakingEventsOptions=function(n){var r=this.stream.harkOptions?this.stream.harkOptions:this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{},i=typeof n.interval=="number"?n.interval:typeof r.interval=="number"?r.interval:100,o=typeof n.threshold=="number"?n.threshold:typeof r.threshold=="number"?r.threshold:-50;this.stream.harkOptions={interval:i,threshold:o},this.stream.speechEvent&&(this.stream.speechEvent.setInterval(i),this.stream.speechEvent.setThreshold(o))},e.prototype.initializeVideoProperties=function(n){!this.remote&&this.stream.displayMyRemote()||n.srcObject!==this.stream.getMediaStream()&&(n.srcObject=this.stream.getMediaStream()),n.autoplay=!0,n.controls=!1,(Ot.isSafariBrowser()||Ot.isIPhoneOrIPad()&&(Ot.isChromeMobileBrowser()||Ot.isEdgeMobileBrowser()||Ot.isOperaMobileBrowser()||Ot.isFirefoxMobileBrowser()))&&(n.playsInline=!0),n.id||(n.id=(this.remote?"remote-":"local-")+"video-"+this.stream.streamId,!this.id&&this.targetElement&&(this.id=n.id)),this.remote&&this.isMirroredVideo(n)?this.removeMirrorVideo(n):!this.remote&&!this.stream.displayMyRemote()&&(n.muted=!0,this.isMirroredVideo(n)&&!this.stream.outboundStreamOpts.publisherProperties.mirror?this.removeMirrorVideo(n):this.stream.outboundStreamOpts.publisherProperties.mirror&&!this.stream.isSendScreen()&&this.mirrorVideo(n))},e.prototype.removeAllVideos=function(){for(var n=this,r=this.stream.session.streamManagers.length-1;r>=0;--r)this.stream.session.streamManagers[r]===this&&this.stream.session.streamManagers.splice(r,1);this.videos.forEach(function(i){i.video&&i.video.removeEventListener&&i.video.removeEventListener("canplay",n.canPlayListener),i.canplayListenerAdded=!1,i.targetElement&&(i.video.parentNode.removeChild(i.video),n.ee.emitEvent("videoElementDestroyed",[new pd.VideoElementEvent(i.video,n,"videoElementDestroyed")])),n.removeSrcObject(i),n.videos.filter(function(o){return!o.targetElement})})},e.prototype.disassociateVideo=function(n){for(var r=!1,i=0;i<this.videos.length;i++)if(this.videos[i].video===n){this.videos[i].video.removeEventListener("canplay",this.canPlayListener),this.videos.splice(i,1),r=!0,Wg.info("Video element disassociated from ",this);break}return r},e.prototype.addPlayEventToFirstVideo=function(){this.videos[0]&&this.videos[0].video&&!this.videos[0].canplayListenerAdded&&(this.activateStreamPlayingEventExceptionTimeout(),this.videos[0].video.addEventListener("canplay",this.canPlayListener),this.videos[0].canplayListenerAdded=!0)},e.prototype.updateMediaStream=function(n){this.videos.forEach(function(r){if(r.video.srcObject=n,Ot.isIonicIos()){var i=r.video.parentElement,o=r.video;i.replaceChild(o,r.video),r.video=o}})},e.prototype.emitEvent=function(n,r){this.ee.emitEvent(n,r)},e.prototype.createVideo=function(){return document.createElement("video")},e.prototype.removeSrcObject=function(n){n.video.srcObject=null,this.deactivateStreamPlayingEventExceptionTimeout()},e.prototype.pushNewStreamManagerVideo=function(n){this.videos.push(n),this.addPlayEventToFirstVideo(),this.stream.session.streamManagers.indexOf(this)===-1&&this.stream.session.streamManagers.push(this)},e.prototype.mirrorVideo=function(n){Ot.isIonicIos()||(n.style.transform="rotateY(180deg)",n.style.webkitTransform="rotateY(180deg)")},e.prototype.removeMirrorVideo=function(n){n.style.transform="unset",n.style.webkitTransform="unset"},e.prototype.isMirroredVideo=function(n){return n.style.transform==="rotateY(180deg)"||n.style.webkitTransform==="rotateY(180deg)"},e.prototype.activateStreamPlayingEventExceptionTimeout=function(){var n=this;if(this.remote&&this.streamPlayingEventExceptionTimeout==null){var r=this.stream.session.openvidu.advancedConfiguration.noStreamPlayingEventExceptionTimeout||4e3;this.streamPlayingEventExceptionTimeout=setTimeout(function(){var i="StreamManager of Stream "+n.stream.streamId+" ("+(n.remote?"Subscriber":"Publisher")+') did not trigger "streamPlaying" event in '+r+" ms";Wg.warn(i),n.stream.session.emitEvent("exception",[new IC.ExceptionEvent(n.stream.session,IC.ExceptionEventName.NO_STREAM_PLAYING_EVENT,n,i)]),delete n.streamPlayingEventExceptionTimeout},r)}},e.prototype.deactivateStreamPlayingEventExceptionTimeout=function(){clearTimeout(this.streamPlayingEventExceptionTimeout),delete this.streamPlayingEventExceptionTimeout},e}(XV.EventDispatcher);Wo.StreamManager=tj});var gd=P(Go=>{"use strict";var nj=Go&&Go.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Go,"__esModule",{value:!0});Go.Subscriber=void 0;var rj=md(),ij=ht(),xC=ij.OpenViduLogger.getInstance(),oj=function(t){nj(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.element=o.targetElement,o.stream=n,o.properties=i,o}return e.prototype.subscribeToAudio=function(n){return this.stream.getMediaStream().getAudioTracks().forEach(function(r){r.enabled=n}),this.stream.audioActive=n,xC.info("'Subscriber' has "+(n?"subscribed to":"unsubscribed from")+" its audio stream"),this},e.prototype.subscribeToVideo=function(n){return this.stream.getMediaStream().getVideoTracks().forEach(function(r){r.enabled=n}),this.stream.videoActive=n,xC.info("'Subscriber' has "+(n?"subscribed to":"unsubscribed from")+" its video stream"),this},e.prototype.replaceTrackInMediaStream=function(n,r){var i=this.stream.getMediaStream(),o;n.kind==="video"?(o=i.getVideoTracks()[0],r&&(this.stream.lastVideoTrackConstraints=n.getConstraints())):o=i.getAudioTracks()[0],i.removeTrack(o),o.stop(),i.addTrack(n)},e}(rj.StreamManager);Go.Subscriber=oj});var AC=P((WY,MC)=>{"use strict";var TC=["stun:","turn:"];MC.exports=function(t){var e=(t||{}).url||t,n,r,i={};return typeof e!="string"&&!(e instanceof String)||(e=e.trim(),n=TC[TC.indexOf(e.slice(0,5))],!n)?t:(e=e.slice(5),r=e.split("@"),i.username=t.username,i.credential=t.credential,r.length>1&&(e=r[1],r=r[0].split(":"),i.username=r[0],i.credential=(t||{}).credential||r[1]||""),i.url=n+e,i.urls=[i.url],i)}});var OC=P((GY,sj)=>{sj.exports=["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"]});var RC=P((KY,aj)=>{aj.exports=[]});var PC=P((YY,NC)=>{"use strict";var cj=AC(),uj=function(t){var e={stun:(t||{}).stun||OC(),turn:(t||{}).turn||RC()},n=(t||{}).stunCount||2,r=(t||{}).turnCount||0,i;function o(s,a){for(var c=[],u=[].concat(e[s]),l;u.length&&c.length<a;)l=Math.random()*u.length|0,c=c.concat(u.splice(l,1));return c.map(function(d){return typeof d!="string"&&!(d instanceof String)?d:cj(s+":"+d)})}return i=[].concat(o("stun",n)),r&&(i=i.concat(o("turn",r))),i};NC.exports=uj});var Kg=P(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default=dj;var vd,lj=new Uint8Array(16);function dj(){if(!vd&&(vd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vd(lj)}});var kC=P(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.default=void 0;var fj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;bd.default=fj});var Wa=P(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.default=void 0;var hj=pj(kC());function pj(t){return t&&t.__esModule?t:{default:t}}function mj(t){return typeof t=="string"&&hj.default.test(t)}var gj=mj;yd.default=gj});var Ka=P(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.default=void 0;Ga.unsafeStringify=FC;var vj=bj(Wa());function bj(t){return t&&t.__esModule?t:{default:t}}var pt=[];for(let t=0;t<256;++t)pt.push((t+256).toString(16).slice(1));function FC(t,e=0){return(pt[t[e+0]]+pt[t[e+1]]+pt[t[e+2]]+pt[t[e+3]]+"-"+pt[t[e+4]]+pt[t[e+5]]+"-"+pt[t[e+6]]+pt[t[e+7]]+"-"+pt[t[e+8]]+pt[t[e+9]]+"-"+pt[t[e+10]]+pt[t[e+11]]+pt[t[e+12]]+pt[t[e+13]]+pt[t[e+14]]+pt[t[e+15]]).toLowerCase()}function yj(t,e=0){let n=FC(t,e);if(!(0,vj.default)(n))throw TypeError("Stringified UUID is invalid");return n}var Ej=yj;Ga.default=Ej});var VC=P(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.default=void 0;var _j=Sj(Kg()),wj=Ka();function Sj(t){return t&&t.__esModule?t:{default:t}}var LC,Yg,Qg=0,Zg=0;function Cj(t,e,n){let r=e&&n||0,i=e||new Array(16);t=t||{};let o=t.node||LC,s=t.clockseq!==void 0?t.clockseq:Yg;if(o==null||s==null){let f=t.random||(t.rng||_j.default)();o==null&&(o=LC=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Yg=(f[6]<<8|f[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Zg+1,u=a-Qg+(c-Zg)/1e4;if(u<0&&t.clockseq===void 0&&(s=s+1&16383),(u<0||a>Qg)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qg=a,Zg=c,Yg=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=l&255;let d=a/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=d&255,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(let f=0;f<6;++f)i[r+f]=o[f];return e||(0,wj.unsafeStringify)(i)}var Dj=Cj;Ed.default=Dj});var Xg=P(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.default=void 0;var Ij=xj(Wa());function xj(t){return t&&t.__esModule?t:{default:t}}function Tj(t){if(!(0,Ij.default)(t))throw TypeError("Invalid UUID");let e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var Mj=Tj;_d.default=Mj});var Jg=P(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.URL=Fi.DNS=void 0;Fi.default=Pj;var Aj=Ka(),Oj=Rj(Xg());function Rj(t){return t&&t.__esModule?t:{default:t}}function Nj(t){t=unescape(encodeURIComponent(t));let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var jC="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Fi.DNS=jC;var BC="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Fi.URL=BC;function Pj(t,e,n){function r(i,o,s,a){var c;if(typeof i=="string"&&(i=Nj(i)),typeof o=="string"&&(o=(0,Oj.default)(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=n(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return(0,Aj.unsafeStringify)(u)}try{r.name=t}catch{}return r.DNS=jC,r.URL=BC,r}});var $C=P(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.default=void 0;function kj(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return Fj(Lj(Vj(t),t.length*8))}function Fj(t){let e=[],n=t.length*32,r="0123456789abcdef";for(let i=0;i<n;i+=8){let o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function UC(t){return(t+64>>>9<<4)+14+1}function Lj(t,e){t[e>>5]|=128<<e%32,t[UC(e)-1]=e;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let s=0;s<t.length;s+=16){let a=n,c=r,u=i,l=o;n=_t(n,r,i,o,t[s],7,-680876936),o=_t(o,n,r,i,t[s+1],12,-389564586),i=_t(i,o,n,r,t[s+2],17,606105819),r=_t(r,i,o,n,t[s+3],22,-1044525330),n=_t(n,r,i,o,t[s+4],7,-176418897),o=_t(o,n,r,i,t[s+5],12,1200080426),i=_t(i,o,n,r,t[s+6],17,-1473231341),r=_t(r,i,o,n,t[s+7],22,-45705983),n=_t(n,r,i,o,t[s+8],7,1770035416),o=_t(o,n,r,i,t[s+9],12,-1958414417),i=_t(i,o,n,r,t[s+10],17,-42063),r=_t(r,i,o,n,t[s+11],22,-1990404162),n=_t(n,r,i,o,t[s+12],7,1804603682),o=_t(o,n,r,i,t[s+13],12,-40341101),i=_t(i,o,n,r,t[s+14],17,-1502002290),r=_t(r,i,o,n,t[s+15],22,1236535329),n=wt(n,r,i,o,t[s+1],5,-165796510),o=wt(o,n,r,i,t[s+6],9,-1069501632),i=wt(i,o,n,r,t[s+11],14,643717713),r=wt(r,i,o,n,t[s],20,-373897302),n=wt(n,r,i,o,t[s+5],5,-701558691),o=wt(o,n,r,i,t[s+10],9,38016083),i=wt(i,o,n,r,t[s+15],14,-660478335),r=wt(r,i,o,n,t[s+4],20,-405537848),n=wt(n,r,i,o,t[s+9],5,568446438),o=wt(o,n,r,i,t[s+14],9,-1019803690),i=wt(i,o,n,r,t[s+3],14,-187363961),r=wt(r,i,o,n,t[s+8],20,1163531501),n=wt(n,r,i,o,t[s+13],5,-1444681467),o=wt(o,n,r,i,t[s+2],9,-51403784),i=wt(i,o,n,r,t[s+7],14,1735328473),r=wt(r,i,o,n,t[s+12],20,-1926607734),n=St(n,r,i,o,t[s+5],4,-378558),o=St(o,n,r,i,t[s+8],11,-2022574463),i=St(i,o,n,r,t[s+11],16,1839030562),r=St(r,i,o,n,t[s+14],23,-35309556),n=St(n,r,i,o,t[s+1],4,-1530992060),o=St(o,n,r,i,t[s+4],11,1272893353),i=St(i,o,n,r,t[s+7],16,-155497632),r=St(r,i,o,n,t[s+10],23,-1094730640),n=St(n,r,i,o,t[s+13],4,681279174),o=St(o,n,r,i,t[s],11,-358537222),i=St(i,o,n,r,t[s+3],16,-722521979),r=St(r,i,o,n,t[s+6],23,76029189),n=St(n,r,i,o,t[s+9],4,-640364487),o=St(o,n,r,i,t[s+12],11,-421815835),i=St(i,o,n,r,t[s+15],16,530742520),r=St(r,i,o,n,t[s+2],23,-995338651),n=Ct(n,r,i,o,t[s],6,-198630844),o=Ct(o,n,r,i,t[s+7],10,1126891415),i=Ct(i,o,n,r,t[s+14],15,-1416354905),r=Ct(r,i,o,n,t[s+5],21,-57434055),n=Ct(n,r,i,o,t[s+12],6,1700485571),o=Ct(o,n,r,i,t[s+3],10,-1894986606),i=Ct(i,o,n,r,t[s+10],15,-1051523),r=Ct(r,i,o,n,t[s+1],21,-2054922799),n=Ct(n,r,i,o,t[s+8],6,1873313359),o=Ct(o,n,r,i,t[s+15],10,-30611744),i=Ct(i,o,n,r,t[s+6],15,-1560198380),r=Ct(r,i,o,n,t[s+13],21,1309151649),n=Ct(n,r,i,o,t[s+4],6,-145523070),o=Ct(o,n,r,i,t[s+11],10,-1120210379),i=Ct(i,o,n,r,t[s+2],15,718787259),r=Ct(r,i,o,n,t[s+9],21,-343485551),n=Br(n,a),r=Br(r,c),i=Br(i,u),o=Br(o,l)}return[n,r,i,o]}function Vj(t){if(t.length===0)return[];let e=t.length*8,n=new Uint32Array(UC(e));for(let r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Br(t,e){let n=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(n>>16)<<16|n&65535}function jj(t,e){return t<<e|t>>>32-e}function wd(t,e,n,r,i,o){return Br(jj(Br(Br(e,t),Br(r,o)),i),n)}function _t(t,e,n,r,i,o,s){return wd(e&n|~e&r,t,e,i,o,s)}function wt(t,e,n,r,i,o,s){return wd(e&r|n&~r,t,e,i,o,s)}function St(t,e,n,r,i,o,s){return wd(e^n^r,t,e,i,o,s)}function Ct(t,e,n,r,i,o,s){return wd(n^(e|~r),t,e,i,o,s)}var Bj=kj;Sd.default=Bj});var zC=P(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.default=void 0;var Uj=HC(Jg()),$j=HC($C());function HC(t){return t&&t.__esModule?t:{default:t}}var Hj=(0,Uj.default)("v3",48,$j.default),zj=Hj;Cd.default=zj});var qC=P(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.default=void 0;var qj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wj={randomUUID:qj};Dd.default=Wj});var KC=P(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.default=void 0;var WC=GC(qC()),Gj=GC(Kg()),Kj=Ka();function GC(t){return t&&t.__esModule?t:{default:t}}function Yj(t,e,n){if(WC.default.randomUUID&&!e&&!t)return WC.default.randomUUID();t=t||{};let r=t.random||(t.rng||Gj.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return(0,Kj.unsafeStringify)(r)}var Qj=Yj;Id.default=Qj});var YC=P(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.default=void 0;function Zj(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function ev(t,e){return t<<e|t>>>32-e}function Xj(t){let e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let s=unescape(encodeURIComponent(t));t=[];for(let a=0;a<s.length;++a)t.push(s.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let r=t.length/4+2,i=Math.ceil(r/16),o=new Array(i);for(let s=0;s<i;++s){let a=new Uint32Array(16);for(let c=0;c<16;++c)a[c]=t[s*64+c*4]<<24|t[s*64+c*4+1]<<16|t[s*64+c*4+2]<<8|t[s*64+c*4+3];o[s]=a}o[i-1][14]=(t.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){let a=new Uint32Array(80);for(let h=0;h<16;++h)a[h]=o[s][h];for(let h=16;h<80;++h)a[h]=ev(a[h-3]^a[h-8]^a[h-14]^a[h-16],1);let c=n[0],u=n[1],l=n[2],d=n[3],f=n[4];for(let h=0;h<80;++h){let p=Math.floor(h/20),m=ev(c,5)+Zj(p,u,l,d)+f+e[p]+a[h]>>>0;f=d,d=l,l=ev(u,30)>>>0,u=c,c=m}n[0]=n[0]+c>>>0,n[1]=n[1]+u>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+f>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Jj=Xj;xd.default=Jj});var ZC=P(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.default=void 0;var e2=QC(Jg()),t2=QC(YC());function QC(t){return t&&t.__esModule?t:{default:t}}var n2=(0,e2.default)("v5",80,t2.default),r2=n2;Td.default=r2});var XC=P(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.default=void 0;var i2="00000000-0000-0000-0000-000000000000";Md.default=i2});var JC=P(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.default=void 0;var o2=s2(Wa());function s2(t){return t&&t.__esModule?t:{default:t}}function a2(t){if(!(0,o2.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var c2=a2;Ad.default=c2});var tv=P(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});Object.defineProperty(_n,"NIL",{enumerable:!0,get:function(){return h2.default}});Object.defineProperty(_n,"parse",{enumerable:!0,get:function(){return v2.default}});Object.defineProperty(_n,"stringify",{enumerable:!0,get:function(){return g2.default}});Object.defineProperty(_n,"v1",{enumerable:!0,get:function(){return u2.default}});Object.defineProperty(_n,"v3",{enumerable:!0,get:function(){return l2.default}});Object.defineProperty(_n,"v4",{enumerable:!0,get:function(){return d2.default}});Object.defineProperty(_n,"v5",{enumerable:!0,get:function(){return f2.default}});Object.defineProperty(_n,"validate",{enumerable:!0,get:function(){return m2.default}});Object.defineProperty(_n,"version",{enumerable:!0,get:function(){return p2.default}});var u2=dr(VC()),l2=dr(zC()),d2=dr(KC()),f2=dr(ZC()),h2=dr(XC()),p2=dr(JC()),m2=dr(Wa()),g2=dr(Ka()),v2=dr(Xg());function dr(t){return t&&t.__esModule?t:{default:t}}});var tD=P(ft=>{"use strict";var iv=ft&&ft.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Od=ft&&ft.__assign||function(){return Od=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Od.apply(this,arguments)},nv=ft&&ft.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},rv=ft&&ft.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(ft,"__esModule",{value:!0});ft.WebRtcPeerSendrecv=ft.WebRtcPeerSendonly=ft.WebRtcPeerRecvonly=ft.WebRtcPeer=void 0;var b2=PC(),y2=tv(),eD=Pi(),E2=ht(),_2=ur(),Ge=E2.OpenViduLogger.getInstance(),w2,Rd=function(){function t(e){var n=this;this.remoteCandidatesQueue=[],this.localCandidatesQueue=[],this.iceCandidateList=[],w2=_2.PlatformUtils.getInstance(),this.configuration=Od(Od({},e),{iceServers:e.iceServers&&e.iceServers.length>0?e.iceServers:b2(),mediaStream:e.mediaStream!==void 0?e.mediaStream:null,mode:e.mode?e.mode:"sendrecv",id:e.id?e.id:this.generateUniqueId()}),Ge.debug(`[WebRtcPeer] configuration:
`.concat(JSON.stringify(this.configuration,null,2))),this.pc=new RTCPeerConnection({iceServers:this.configuration.iceServers}),this.pc.addEventListener("icecandidate",function(r){if(r.candidate!==null){var i=r.candidate,o=new RTCIceCandidate(i);n.configuration.onIceCandidate(o),o.candidate!==""&&n.localCandidatesQueue.push(o)}}),this.pc.addEventListener("signalingstatechange",function(){return nv(n,void 0,void 0,function(){var r,i;return rv(this,function(o){switch(o.label){case 0:if(this.pc.signalingState!=="stable")return[3,6];o.label=1;case 1:if(!(this.iceCandidateList.length>0))return[3,6];r=this.iceCandidateList.shift(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.pc.addIceCandidate(r)];case 3:return o.sent(),[3,5];case 4:return i=o.sent(),Ge.error("Error when calling RTCPeerConnection#addIceCandidate for RTCPeerConnection "+this.getId(),i),[3,5];case 5:return[3,1];case 6:return[2]}})})})}return t.prototype.getId=function(){return this.configuration.id},t.prototype.dispose=function(){if(Ge.debug("Disposing WebRtcPeer"),this.pc){if(this.pc.signalingState==="closed")return;this.pc.close(),this.remoteCandidatesQueue=[],this.localCandidatesQueue=[]}},t.prototype.createOfferLegacy=function(){this.configuration.mediaStream&&this.deprecatedPeerConnectionTrackApi();var e=this.configuration.mediaConstraints.audio,n=this.configuration.mediaConstraints.video,r={offerToReceiveAudio:this.configuration.mode!=="sendonly"&&e,offerToReceiveVideo:this.configuration.mode!=="sendonly"&&n};return Ge.debug("[createOfferLegacy] RTCPeerConnection.createOffer() options:",JSON.stringify(r)),this.pc.createOffer(r)},t.prototype.createOffer=function(){var e,n,r,i,o,s,a,c;return nv(this,void 0,void 0,function(){var u,l,d,f,h,p,m,b,y,O,w,x,D,T,C,g,M,I,N,B,Y,S,E,I;return rv(this,function(A){switch(A.label){case 0:if("addTransceiver"in this.pc)Ge.debug("[createOffer] Method RTCPeerConnection.addTransceiver() is available; using it");else return Ge.warn("[createOffer] Method RTCPeerConnection.addTransceiver() is NOT available; using LEGACY offerToReceive{Audio,Video}"),[2,this.createOfferLegacy()];if(this.configuration.mode==="recvonly")return[3,7];if(!this.configuration.mediaStream)throw new Error("[WebRtcPeer.createOffer] Direction is '".concat(this.configuration.mode,"', but no stream was configured to be sent"));u=0,l=this.configuration.mediaStream.getTracks(),A.label=1;case 1:if(!(u<l.length))return[3,6];if(d=l[u],f={direction:this.configuration.mode,streams:[this.configuration.mediaStream]},d.kind==="video"&&this.configuration.simulcast)for(h=d.getSettings(),p=d.getConstraints(),m=(r=(n=(e=h.width)!==null&&e!==void 0?e:p.width.ideal)!==null&&n!==void 0?n:p.width)!==null&&r!==void 0?r:0,b=(s=(o=(i=h.height)!==null&&i!==void 0?i:p.height.ideal)!==null&&o!==void 0?o:p.height)!==null&&s!==void 0?s:0,Ge.info("[createOffer] Video track dimensions: ".concat(m,"x").concat(b)),y=m*b,O=0,y>=960*540?O=3:y>=480*270?O=2:O=1,f.sendEncodings=[],w=0;w<O;w++)x=Math.pow(2,O-w-1),D={rid:"rdiv"+x.toString(),scalabilityMode:"L1T1"},["detail","text"].includes(d.contentHint)?(D.scaleResolutionDownBy=1,D.maxFramerate=Math.floor(30/x)):D.scaleResolutionDownBy=x,f.sendEncodings.push(D);if(T=this.pc.addTransceiver(d,f),d.kind!=="video")return[3,5];if(C=T.sender.getParameters(),g=!1,!((a=C.degradationPreference)===null||a===void 0)&&a.length||(["detail","text"].includes(d.contentHint)?C.degradationPreference="maintain-resolution":C.degradationPreference="balanced",Ge.info("[createOffer] Video sender Degradation Preference set: ".concat(C.degradationPreference)),g=!0),this.configuration.simulcast&&((c=C.encodings)===null||c===void 0?void 0:c.length)!==f.sendEncodings.length&&(C.encodings=f.sendEncodings,g=!0),!g)return[3,5];Ge.debug("[createOffer] Setting new RTCRtpSendParameters to video sender"),A.label=2;case 2:return A.trys.push([2,4,,5]),[4,T.sender.setParameters(C)];case 3:return A.sent(),[3,5];case 4:throw M=A.sent(),I="[WebRtcPeer.createOffer] Cannot set RTCRtpSendParameters to video sender",M instanceof Error&&(I+=": ".concat(M.message)),new Error(I);case 5:return u++,[3,1];case 6:return[3,8];case 7:for(N=0,B=["audio","video"];N<B.length;N++)Y=B[N],this.configuration.mediaConstraints[Y]&&(this.configuration.mediaStream=new MediaStream,this.pc.addTransceiver(Y,{direction:this.configuration.mode,streams:[this.configuration.mediaStream]}));A.label=8;case 8:return A.trys.push([8,10,,11]),[4,this.pc.createOffer()];case 9:return S=A.sent(),[3,11];case 10:throw E=A.sent(),I="[WebRtcPeer.createOffer] Browser failed creating an SDP Offer",E instanceof Error&&(I+=": ".concat(E.message)),new Error(I);case 11:return[2,S]}})})},t.prototype.deprecatedPeerConnectionTrackApi=function(){for(var e=0,n=this.configuration.mediaStream.getTracks();e<n.length;e++){var r=n[e];this.pc.addTrack(r,this.configuration.mediaStream)}},t.prototype.createAnswer=function(){var e=this;return new Promise(function(n,r){if("getTransceivers"in e.pc){Ge.debug("[createAnswer] Method RTCPeerConnection.getTransceivers() is available; using it");for(var i=function(f){if(!e.configuration.mediaConstraints[f])return"continue";var h=e.pc.getTransceivers().find(function(p){return p.receiver.track.kind===f});if(h)h.direction=e.configuration.mode;else return{value:r(new Error("".concat(f," requested, but no transceiver was created from remote description")))}},o=0,s=["audio","video"];o<s.length;o++){var a=s[o],c=i(a);if(typeof c=="object")return c.value}e.pc.createAnswer().then(function(f){return n(f)}).catch(function(f){return r(f)})}else{var u=void 0,l=!0;if(e.configuration.mediaConstraints){u=typeof e.configuration.mediaConstraints.audio=="boolean"?e.configuration.mediaConstraints.audio:!0,l=typeof e.configuration.mediaConstraints.video=="boolean"?e.configuration.mediaConstraints.video:!0;var d={offerToReceiveAudio:u,offerToReceiveVideo:l};e.pc.createAnswer(d).then(function(f){return n(f)}).catch(function(f){return r(f)})}}})},t.prototype.processLocalOffer=function(e){var n=this;return new Promise(function(r,i){n.pc.setLocalDescription(e).then(function(){var o=n.pc.localDescription;return o?(Ge.debug("Local description set",o.sdp),r()):i("Local description is not defined")}).catch(function(o){return i(o)})})},t.prototype.processRemoteOffer=function(e){var n=this;return new Promise(function(r,i){var o={type:"offer",sdp:e};if(Ge.debug("SDP offer received, setting remote description",o),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set remote description");n.setRemoteDescription(o).then(function(){return r()}).catch(function(s){return i(s)})})},t.prototype.processLocalAnswer=function(e){var n=this;return new Promise(function(r,i){if(Ge.debug("SDP answer created, setting local description"),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set local description");n.pc.setLocalDescription(e).then(function(){return r()}).catch(function(o){return i(o)})})},t.prototype.processRemoteAnswer=function(e){var n=this;return new Promise(function(r,i){var o={type:"answer",sdp:e};if(Ge.debug("SDP answer received, setting remote description"),n.pc.signalingState==="closed")return i("RTCPeerConnection is closed when trying to set remote description");n.setRemoteDescription(o).then(function(){r()}).catch(function(s){return i(s)})})},t.prototype.setRemoteDescription=function(e){return nv(this,void 0,void 0,function(){return rv(this,function(n){return[2,this.pc.setRemoteDescription(e)]})})},t.prototype.addIceCandidate=function(e){var n=this;return new Promise(function(r,i){switch(Ge.debug("Remote ICE candidate received",e),n.remoteCandidatesQueue.push(e),n.pc.signalingState){case"closed":i(new Error("PeerConnection object is closed"));break;case"stable":n.pc.remoteDescription?n.pc.addIceCandidate(e).then(function(){return r()}).catch(function(o){return i(o)}):(n.iceCandidateList.push(e),r());break;default:n.iceCandidateList.push(e),r()}})},t.prototype.addIceConnectionStateChangeListener=function(e){var n=this;this.pc.addEventListener("iceconnectionstatechange",function(){var r=n.pc.iceConnectionState;switch(r){case"disconnected":var i="IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "disconnected". Possible network disconnection';Ge.warn(i),n.configuration.onIceConnectionStateException(eD.ExceptionEventName.ICE_CONNECTION_DISCONNECTED,i);break;case"failed":var o="IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') to "failed"';Ge.error(o),n.configuration.onIceConnectionStateException(eD.ExceptionEventName.ICE_CONNECTION_FAILED,o);break;case"closed":Ge.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "closed"');break;case"new":Ge.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "new"');break;case"checking":Ge.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "checking"');break;case"connected":Ge.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "connected"');break;case"completed":Ge.log("IceConnectionState of RTCPeerConnection "+n.configuration.id+" ("+e+') change to "completed"');break}})},t.prototype.generateUniqueId=function(){return(0,y2.v4)()},t}();ft.WebRtcPeer=Rd;var S2=function(t){iv(e,t);function e(n){return n.mode="recvonly",t.call(this,n)||this}return e}(Rd);ft.WebRtcPeerRecvonly=S2;var C2=function(t){iv(e,t);function e(n){return n.mode="sendonly",t.call(this,n)||this}return e}(Rd);ft.WebRtcPeerSendonly=C2;var D2=function(t){iv(e,t);function e(n){return n.mode="sendrecv",t.call(this,n)||this}return e}(Rd);ft.WebRtcPeerSendrecv=D2});var nD=P(Ur=>{"use strict";var Ko=Ur&&Ur.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Yo=Ur&&Ur.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.WebRtcStats=void 0;var I2=ht(),x2=ur(),Li=I2.OpenViduLogger.getInstance(),Qo,T2=function(){function t(e){this.stream=e,this.STATS_ITEM_NAME="webrtc-stats-config",this.webRtcStatsEnabled=!1,this.statsInterval=1,Qo=x2.PlatformUtils.getInstance()}return t.prototype.isEnabled=function(){return this.webRtcStatsEnabled},t.prototype.initWebRtcStats=function(){var e=this,n;try{n=localStorage.getItem(this.STATS_ITEM_NAME)}catch{}if(n){this.webRtcStatsEnabled=!0;var r=JSON.parse(n);Li.warn("WebRtc stats enabled for stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId),Li.warn("localStorage item: "+JSON.stringify(r)),this.POST_URL=r.httpEndpoint,this.statsInterval=r.interval,this.webRtcStatsIntervalId=setInterval(function(){return Ko(e,void 0,void 0,function(){return Yo(this,function(i){switch(i.label){case 0:return[4,this.sendStatsToHttpEndpoint()];case 1:return i.sent(),[2]}})})},this.statsInterval*1e3)}else Li.debug("WebRtc stats not enabled")},t.prototype.getSelectedIceCandidateInfo=function(){var e=this;return new Promise(function(n,r){return Ko(e,void 0,void 0,function(){var i,o,s,a,c,u,l,d,f,h,p,m,b,y,D,T,O,w,M,x,D,T,C,g,M;return Yo(this,function(N){switch(N.label){case 0:return[4,this.stream.getRTCPeerConnection().getStats()];case 1:if(i=N.sent(),s=new Map,a=new Map,c=new Map,i.forEach(function(B){switch(B.type==="transport"&&(Qo.isChromium()||Qo.isSafariBrowser()||Qo.isReactNative())&&(o=B),B.type){case"candidate-pair":s.set(B.id,B);break;case"local-candidate":a.set(B.id,B);break;case"remote-candidate":c.set(B.id,B);break}}),o!=null)l=o.selectedCandidatePairId,u=s.get(l);else for(d=s.size,f=s.values(),h=0;h<d;h++)if(p=f.next().value,p.selected){u=p;break}if(m=u.localCandidateId,b=u.remoteCandidateId,y=a.get(m),y)for(D=this.stream.getLocalIceCandidateList(),T=D.filter(function(B){return!!B.candidate&&(B.candidate.indexOf(y.ip)>=0||B.candidate.indexOf(y.address)>=0)&&B.candidate.indexOf(y.port)>=0}),y.raw=[],O=0,w=T;O<w.length;O++)M=w[O],y.raw.push(M.candidate);else y="ERROR: No active local ICE candidate. Probably ICE-TCP is being used";if(x=c.get(b),x)for(D=this.stream.getRemoteIceCandidateList(),T=D.filter(function(B){return!!B.candidate&&(B.candidate.indexOf(x.ip)>=0||B.candidate.indexOf(x.address)>=0)&&B.candidate.indexOf(x.port)>=0}),x.raw=[],C=0,g=T;C<g.length;C++)M=g[C],x.raw.push(M.candidate);else x="ERROR: No active remote ICE candidate. Probably ICE-TCP is being used";return[2,n({localCandidate:y,remoteCandidate:x})]}})})})},t.prototype.stopWebRtcStats=function(){this.webRtcStatsEnabled&&(clearInterval(this.webRtcStatsIntervalId),Li.warn("WebRtc stats stopped for disposed stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId))},t.prototype.sendStats=function(e,n){return Ko(this,void 0,void 0,function(){var r,i;return Yo(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r={headers:{"Content-type":"application/json"},body:JSON.stringify(n),method:"POST"},[4,fetch(e,r)];case 1:return o.sent(),[3,3];case 2:return i=o.sent(),Li.error("sendStats error: ".concat(JSON.stringify(i))),[3,3];case 3:return[2]}})})},t.prototype.sendStatsToHttpEndpoint=function(){return Ko(this,void 0,void 0,function(){var e,n,r;return Yo(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.getCommonStats()];case 1:return e=i.sent(),n=this.generateJSONStatsResponse(e),[4,this.sendStats(this.POST_URL,n)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),Li.log(r),[3,4];case 4:return[2]}})})},t.prototype.getCommonStats=function(){return Ko(this,void 0,void 0,function(){var e=this;return Yo(this,function(n){return[2,new Promise(function(r,i){return Ko(e,void 0,void 0,function(){var o,s,a,c,u,l=this;return Yo(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.stream.getRTCPeerConnection().getStats()];case 1:return o=d.sent(),s=this.getWebRtcStatsResponseOutline(),a=["framesReceived","framesDropped","framesSent","frameHeight","frameWidth"],c=["availableOutgoingBitrate","currentRoundTripTime"],o.forEach(function(f){var h=f.mediaType!=null?f.mediaType:f.kind,p=function(m,b){f[b]!=null&&s[m]!=null&&(!h&&a.indexOf(b)>-1&&(h="video"),m!=null&&h!=null&&b!=null&&s[m][h]!=null?s[m][h][b]=Number(f[b]):m!=null&&b!=null&&c.includes(b)&&(s[m][b]=Number(f[b])))};switch(f.type){case"outbound-rtp":p("outbound","bytesSent"),p("outbound","packetsSent"),p("outbound","framesEncoded"),p("outbound","nackCount"),p("outbound","firCount"),p("outbound","pliCount"),p("outbound","qpSum");break;case"inbound-rtp":p("inbound","bytesReceived"),p("inbound","packetsReceived"),p("inbound","packetsLost"),p("inbound","jitter"),p("inbound","framesDecoded"),p("inbound","nackCount"),p("inbound","firCount"),p("inbound","pliCount");break;case"track":p("inbound","jitterBufferDelay"),p("inbound","framesReceived"),p("outbound","framesDropped"),p("outbound","framesSent"),p(l.stream.isLocal()?"outbound":"inbound","frameHeight"),p(l.stream.isLocal()?"outbound":"inbound","frameWidth");break;case"candidate-pair":p("candidatepair","currentRoundTripTime"),p("candidatepair","availableOutgoingBitrate");break}}),(!s?.candidatepair||Object.keys(s.candidatepair).length===0)&&delete s.candidatepair,[2,r(s)];case 2:return u=d.sent(),Li.error("Error getting common stats: ",u),[2,i(u)];case 3:return[2]}})})})]})})},t.prototype.generateJSONStatsResponse=function(e){return{"@timestamp":new Date().toISOString(),participant_id:this.stream.connection.data,session_id:this.stream.session.sessionId,platform:Qo.getName(),platform_description:Qo.getDescription(),stream:"webRTC",webrtc_stats:e}},t.prototype.getWebRtcStatsResponseOutline=function(){return this.stream.isLocal()?{outbound:{audio:{},video:{}},candidatepair:{}}:{inbound:{audio:{},video:{}}}},t}();Ur.WebRtcStats=T2});var ov=P(Zo=>{"use strict";var M2=Zo&&Zo.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.PublisherSpeakingEvent=void 0;var A2=yt(),O2=function(t){M2(e,t);function e(n,r,i,o){var s=t.call(this,!1,n,r)||this;return s.type=r,s.connection=i,s.streamId=o,s}return e.prototype.callDefaultBehavior=function(){},e}(A2.Event);Zo.PublisherSpeakingEvent=O2});var Nd=P(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.TypeOfVideo=void 0;var R2;(function(t){t.CAMERA="CAMERA",t.SCREEN="SCREEN",t.CUSTOM="CUSTOM",t.IPCAM="IPCAM"})(R2=Ya.TypeOfVideo||(Ya.TypeOfVideo={}))});var iD=P((gQ,rD)=>{"use strict";rD.exports=Pd;function Pd(){}Pd.mixin=function(t){var e=t.prototype||t;e.isWildEmitter=!0,e.on=function(n,r,i){this.callbacks=this.callbacks||{};var o=arguments.length===3,s=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return a._groupName=s,(this.callbacks[n]=this.callbacks[n]||[]).push(a),this},e.once=function(n,r,i){var o=this,s=arguments.length===3,a=s?arguments[1]:void 0,c=s?arguments[2]:arguments[1];function u(){o.off(n,u),c.apply(this,arguments)}return this.on(n,a,u),this},e.releaseGroup=function(n){this.callbacks=this.callbacks||{};var r,i,o,s;for(r in this.callbacks)for(s=this.callbacks[r],i=0,o=s.length;i<o;i++)s[i]._groupName===n&&(s.splice(i,1),i--,o--);return this},e.off=function(n,r){this.callbacks=this.callbacks||{};var i=this.callbacks[n],o;return i?arguments.length===1?(delete this.callbacks[n],this):(o=i.indexOf(r),o!==-1&&(i.splice(o,1),i.length===0&&delete this.callbacks[n]),this):this},e.emit=function(n){this.callbacks=this.callbacks||{};var r=[].slice.call(arguments,1),i=this.callbacks[n],o=this.getWildcardCallbacks(n),s,a,c,u;if(i)for(u=i.slice(),s=0,a=u.length;s<a&&u[s];++s)u[s].apply(this,r);if(o)for(a=o.length,u=o.slice(),s=0,a=u.length;s<a&&u[s];++s)u[s].apply(this,[n].concat(r));return this},e.getWildcardCallbacks=function(n){this.callbacks=this.callbacks||{};var r,i,o=[];for(r in this.callbacks)i=r.split("*"),(r==="*"||i.length===2&&n.slice(0,i[0].length)===i[0])&&(o=o.concat(this.callbacks[r]));return o}};Pd.mixin(Pd)});var sD=P((vQ,oD)=>{"use strict";var N2=iD();function P2(t,e){var n=-1/0;t.getFloatFrequencyData(e);for(var r=4,i=e.length;r<i;r++)e[r]>n&&e[r]<0&&(n=e[r]);return n}var sv;typeof window<"u"&&(sv=window.AudioContext||window.webkitAudioContext);var wn=null;oD.exports=function(t,r){var n=new N2;if(!sv)return n;var r=r||{},i=r.smoothing||.1,o=r.interval||50,s=r.threshold,a=r.play,c=r.history||10,u=!0;wn=r.audioContext||wn||new sv;var l,d,f;f=wn.createAnalyser(),f.fftSize=512,f.smoothingTimeConstant=i,d=new Float32Array(f.frequencyBinCount),t.jquery&&(t=t[0]),t instanceof HTMLAudioElement||t instanceof HTMLVideoElement?(l=wn.createMediaElementSource(t),typeof a>"u"&&(a=!0),s=s||-50):(l=wn.createMediaStreamSource(t),s=s||-50),l.connect(f),a&&f.connect(wn.destination),n.speaking=!1,n.suspend=function(){return wn.suspend()},n.resume=function(){return wn.resume()},Object.defineProperty(n,"state",{get:function(){return wn.state}}),wn.onstatechange=function(){n.emit("state_change",wn.state)},n.setThreshold=function(m){s=m},n.setInterval=function(m){o=m},n.stop=function(){u=!1,n.emit("volume_change",-100,s),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),f.disconnect(),l.disconnect()},n.speakingHistory=[];for(var h=0;h<c;h++)n.speakingHistory.push(0);var p=function(){setTimeout(function(){if(u){var m=P2(f,d);n.emit("volume_change",m,s);var b=0;if(m>s&&!n.speaking){for(var y=n.speakingHistory.length-3;y<n.speakingHistory.length;y++)b+=n.speakingHistory[y];b>=2&&(n.speaking=!0,n.emit("speaking"))}else if(m<s&&n.speaking){for(var y=0;y<n.speakingHistory.length;y++)b+=n.speakingHistory[y];b==0&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(m>s)),p()}},o)};return p(),n}});var Fd=P(zr=>{"use strict";var zn=zr&&zr.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},qn=zr&&zr.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(zr,"__esModule",{value:!0});zr.Stream=void 0;var av=ad(),k2=gd(),cv=tD(),F2=nD(),Qa=Pi(),$r=ov(),aD=hd(),kd=Oi(),Je=Ni(),Hr=Nd(),L2=ht(),V2=ur(),j2=tv(),B2=sD(),cD=ud(),we=L2.OpenViduLogger.getInstance(),uD,U2=function(){function t(e,n){var r=this;this.isSubscribeToRemote=!1,this.isLocalStreamReadyToPublish=!1,this.isLocalStreamPublished=!1,this.publishedOnce=!1,this.harkSpeakingEnabled=!1,this.harkSpeakingEnabledOnce=!1,this.harkStoppedSpeakingEnabled=!1,this.harkStoppedSpeakingEnabledOnce=!1,this.harkVolumeChangeEnabled=!1,this.harkVolumeChangeEnabledOnce=!1,this.ee=new cD,uD=V2.PlatformUtils.getInstance(),this.session=e,n.hasOwnProperty("id")?(this.inboundStreamOpts=n,this.streamId=this.inboundStreamOpts.id,this.creationTime=this.inboundStreamOpts.createdAt,this.hasAudio=this.inboundStreamOpts.hasAudio,this.hasVideo=this.inboundStreamOpts.hasVideo,this.hasAudio&&(this.audioActive=this.inboundStreamOpts.audioActive),this.hasVideo&&(this.videoActive=this.inboundStreamOpts.videoActive,this.typeOfVideo=this.inboundStreamOpts.typeOfVideo?this.inboundStreamOpts.typeOfVideo:void 0,this.frameRate=this.inboundStreamOpts.frameRate===-1?void 0:this.inboundStreamOpts.frameRate,this.videoDimensions=this.inboundStreamOpts.videoDimensions),this.inboundStreamOpts.filter&&Object.keys(this.inboundStreamOpts.filter).length>0&&(this.inboundStreamOpts.filter.lastExecMethod&&Object.keys(this.inboundStreamOpts.filter.lastExecMethod).length===0&&delete this.inboundStreamOpts.filter.lastExecMethod,this.filter=this.inboundStreamOpts.filter)):(this.outboundStreamOpts=n,this.hasAudio=this.isSendAudio(),this.hasVideo=this.isSendVideo(),this.hasAudio&&(this.audioActive=!!this.outboundStreamOpts.publisherProperties.publishAudio),this.hasVideo&&(this.videoActive=!!this.outboundStreamOpts.publisherProperties.publishVideo,this.frameRate=this.outboundStreamOpts.publisherProperties.frameRate,typeof MediaStreamTrack<"u"&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?this.typeOfVideo=Hr.TypeOfVideo.CUSTOM:this.typeOfVideo=this.isSendScreen()?Hr.TypeOfVideo.SCREEN:Hr.TypeOfVideo.CAMERA),this.outboundStreamOpts.publisherProperties.filter&&(this.filter=this.outboundStreamOpts.publisherProperties.filter)),this.ee.on("mediastream-updated",function(){var i;r.streamManager.updateMediaStream(r.mediaStream),we.debug("Video srcObject ["+((i=r.mediaStream)===null||i===void 0?void 0:i.id)+"] updated in stream ["+r.streamId+"]")})}return t.prototype.reconnect=function(){return this.reconnectStream("API")},t.prototype.applyFilter=function(e,n){var r=this;return new Promise(function(i,o){return zn(r,void 0,void 0,function(){var s,a,c,u,l,d,f=this;return qn(this,function(h){if(this.filter)return[2,o(new Je.OpenViduError(Je.OpenViduErrorName.GENERIC_ERROR,"There is already a filter applied to Stream "+this.streamId))];if(s=function(p,m){if(p)return we.error("Error applying filter for Stream "+f.streamId,p),p.code===401?o(new Je.OpenViduError(Je.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to apply a filter")):o(p);we.info("Filter successfully applied on Stream "+f.streamId);var b=f.filter;return f.filter=new av.Filter(e,n),f.filter.stream=f,m&&(f.session.emitEvent("streamPropertyChanged",[new kd.StreamPropertyChangedEvent(f.session,f,"filter",f.filter,b,"applyFilter")]),f.streamManager.emitEvent("streamPropertyChanged",[new kd.StreamPropertyChangedEvent(f.streamManager,f,"filter",f.filter,b,"applyFilter")])),i(f.filter)},e.startsWith("VB:")){if(!this.hasVideo)return[2,o(new Je.OpenViduError(Je.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The Virtual Background filter requires a video track to be applied"))];if(!this.mediaStream||this.streamManager.videos.length===0)return[2,o(new Je.OpenViduError(Je.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The StreamManager requires some video element to be attached to it in order to apply a Virtual Background filter"))];if(this.session.token?a=this.session.token:a=n.token,!a)return[2,o(new Je.OpenViduError(Je.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Virtual Background requires the client to be connected to a Session or to have a "token" property available in "options" parameter with a valid OpenVidu token'))];if(c=this.session.getTokenParams(a),c.edition!=="pro"&&c.edition!=="enterprise")return[2,o(new Je.OpenViduError(Je.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"OpenVidu Virtual Background API is available from OpenVidu Pro edition onwards"))];a=encodeURIComponent(btoa(a)),we.info("Applying Virtual Background to stream "+this.streamId),u=function(){return zn(f,void 0,void 0,function(){var p,m,b,y,O,w,x;return qn(this,function(D){switch(D.label){case 0:return D.trys.push([0,8,,9]),p=this.streamId+"_"+(0,j2.v4)(),m=this.mediaStream.clone(),b=this.streamManager.videos[0].video.cloneNode(!1),b.id=VirtualBackground.VirtualBackground.SOURCE_VIDEO_PREFIX+p,b.srcObject=m,b.muted=!0,this.virtualBackgroundSourceElements={videoClone:b,mediaStreamClone:m},VirtualBackground.VirtualBackground.hideHtmlElement(b,!1),VirtualBackground.VirtualBackground.appendHtmlElementToHiddenContainer(b,p),[4,b.play()];case 1:switch(D.sent(),y=new VirtualBackground.VirtualBackground({id:p,openviduServerUrl:new URL(c.httpUri),openviduToken:a,inputVideo:b,inputResolution:"160x96",outputFramerate:24}),O=void 0,w=e,w){case"VB:blur":return[3,2];case"VB:image":return[3,4]}return[3,6];case 2:return[4,y.backgroundBlur(n)];case 3:return O=D.sent(),[3,7];case 4:return[4,y.backgroundImage(n)];case 5:return O=D.sent(),[3,7];case 6:throw new Error("Unknown Virtual Background filter: "+e);case 7:return this.virtualBackgroundSinkElements={VB:y,video:O},b.style.display="none",this.streamManager.remote?this.streamManager.replaceTrackInMediaStream(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1):this.streamManager.replaceTrackAux(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1),s(void 0,!1),[3,9];case 8:return x=D.sent(),x.name===Je.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?s(new Je.OpenViduError(Je.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,x.message),!1):s(x,!1),[3,9];case 9:return[2]}})})},typeof VirtualBackground>"u"?(l=document.createElement("script"),l.type="text/javascript",l.src=c.httpUri+"/openvidu/virtual-background/openvidu-virtual-background.js?token="+a,l.onload=function(){return zn(f,void 0,void 0,function(){var p;return qn(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,u()];case 1:return m.sent(),i(new av.Filter(e,n)),[3,3];case 2:return p=m.sent(),o(p),[3,3];case 3:return[2]}})})},document.body.appendChild(l)):u().then(function(){return i(new av.Filter(e,n))}).catch(function(p){return o(p)})}else{if(!this.session.sessionConnected())return[2,o(this.session.notConnectedError())];we.info("Applying server filter to stream "+this.streamId),n=n??{},d=n,typeof d!="string"&&(d=JSON.stringify(d)),this.session.openvidu.sendRequest("applyFilter",{streamId:this.streamId,type:e,options:d},function(p,m){s(p,!0)})}return[2]})})})},t.prototype.removeFilter=function(){return zn(this,void 0,void 0,function(){return qn(this,function(e){switch(e.label){case 0:return[4,this.removeFilterAux(!1)];case 1:return[2,e.sent()]}})})},t.prototype.getRTCPeerConnection=function(){return this.webRtcPeer.pc},t.prototype.getMediaStream=function(){return this.mediaStream},t.prototype.removeFilterAux=function(e){var n=this;return new Promise(function(r,i){return zn(n,void 0,void 0,function(){var o,s,a,c=this,u;return qn(this,function(l){switch(l.label){case 0:if(o=function(d,f){if(d)return delete c.filter,we.error("Error removing filter for Stream "+c.streamId,d),d.code===401?i(new Je.OpenViduError(Je.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to remove a filter")):i(d);we.info("Filter successfully removed from Stream "+c.streamId);var h=c.filter;return delete c.filter,f&&(c.session.emitEvent("streamPropertyChanged",[new kd.StreamPropertyChangedEvent(c.session,c,"filter",c.filter,h,"applyFilter")]),c.streamManager.emitEvent("streamPropertyChanged",[new kd.StreamPropertyChangedEvent(c.streamManager,c,"filter",c.filter,h,"applyFilter")])),r()},!this.filter)return[3,11];if(!(!((u=this.filter)===null||u===void 0)&&u.type.startsWith("VB:")))return[3,9];l.label=1;case 1:return l.trys.push([1,7,,8]),s=this.virtualBackgroundSourceElements.mediaStreamClone,e?[3,5]:this.streamManager.remote?(this.streamManager.replaceTrackInMediaStream(s.getVideoTracks()[0],!1),[3,4]):[3,2];case 2:return[4,this.streamManager.replaceTrackAux(s.getVideoTracks()[0],!1)];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:s.getTracks().forEach(function(d){return d.stop()}),l.label=6;case 6:return this.virtualBackgroundSinkElements.VB.cleanUp(),delete this.virtualBackgroundSinkElements,delete this.virtualBackgroundSourceElements,[2,o(void 0,!1)];case 7:return a=l.sent(),[2,o(a,!1)];case 8:return[3,10];case 9:if(!this.session.sessionConnected())return[2,i(this.session.notConnectedError())];we.info("Removing filter of stream "+this.streamId),this.session.openvidu.sendRequest("removeFilter",{streamId:this.streamId},function(d,f){return o(d,!0)}),l.label=10;case 10:return[3,12];case 11:return[2,i(new Je.OpenViduError(Je.OpenViduErrorName.GENERIC_ERROR,"Stream "+this.streamId+" has no filter applied"))];case 12:return[2]}})})})},t.prototype.setMediaStream=function(e){this.mediaStream=e},t.prototype.updateMediaStreamInVideos=function(){this.ee.emitEvent("mediastream-updated",[])},t.prototype.getWebRtcPeer=function(){return this.webRtcPeer},t.prototype.subscribeToMyRemote=function(e){this.isSubscribeToRemote=e},t.prototype.setOutboundStreamOptions=function(e){this.outboundStreamOpts=e},t.prototype.subscribe=function(){var e=this;return new Promise(function(n,r){e.initWebRtcPeerReceive(!1).then(function(){return n()}).catch(function(i){return r(i)})})},t.prototype.publish=function(){var e=this;return new Promise(function(n,r){e.isLocalStreamReadyToPublish?e.initWebRtcPeerSend(!1).then(function(){return n()}).catch(function(i){return r(i)}):e.ee.once("stream-ready-to-publish",function(){e.publish().then(function(){return n()}).catch(function(i){return r(i)})})})},t.prototype.disposeWebRtcPeer=function(){var e;this.webRtcPeer&&(this.webRtcPeer.dispose(),e=this.webRtcPeer.getId()),this.stopWebRtcStats(),we.info((this.outboundStreamOpts?"Outbound ":"Inbound ")+"RTCPeerConnection with id ["+e+"] from 'Stream' with id ["+this.streamId+"] is now closed")},t.prototype.disposeMediaStream=function(){return zn(this,void 0,void 0,function(){var e;return qn(this,function(n){switch(n.label){case 0:if(!(this.filter&&this.filter.type.startsWith("VB:")))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.removeFilterAux(!0)];case 2:return n.sent(),console.debug("Success removing Virtual Background filter for stream ".concat(this.streamId)),[3,4];case 3:return e=n.sent(),console.error("Error removing Virtual Background filter for stream ".concat(this.streamId),e),[3,4];case 4:return this.mediaStream&&(this.mediaStream.getAudioTracks().forEach(function(r){r.stop()}),this.mediaStream.getVideoTracks().forEach(function(r){r.stop()}),delete this.mediaStream),this.localMediaStreamWhenSubscribedToRemote&&(this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach(function(r){r.stop()}),this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach(function(r){r.stop()}),delete this.localMediaStreamWhenSubscribedToRemote),this.speechEvent&&(this.speechEvent.stop&&this.speechEvent.stop(),delete this.speechEvent),we.info((this.outboundStreamOpts?"Local ":"Remote ")+"MediaStream from 'Stream' with id ["+this.streamId+"] is now disposed"),[2]}})})},t.prototype.displayMyRemote=function(){return this.isSubscribeToRemote},t.prototype.isSendAudio=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.audioSource!==null&&this.outboundStreamOpts.publisherProperties.audioSource!==!1},t.prototype.isSendVideo=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.videoSource!==null&&this.outboundStreamOpts.publisherProperties.videoSource!==!1},t.prototype.isSendScreen=function(){var e=!1;if(typeof MediaStreamTrack<"u"&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack){var n=this.outboundStreamOpts.publisherProperties.videoSource.getSettings();n.displaySurface&&(e=["monitor","window","browser"].includes(n.displaySurface))}return!e&&uD.isElectron()&&(e=typeof this.outboundStreamOpts.publisherProperties.videoSource=="string"&&this.outboundStreamOpts.publisherProperties.videoSource.startsWith("screen:")),e||(e=this.outboundStreamOpts.publisherProperties.videoSource==="screen"),!!this.outboundStreamOpts&&e},t.prototype.enableHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabled&&this.speechEvent&&(this.harkSpeakingEnabled=!0,this.speechEvent.on("speaking",function(){e.session.emitEvent("publisherStartSpeaking",[new $r.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new $r.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)]),e.harkSpeakingEnabledOnce=!1}))},t.prototype.enableOnceHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabledOnce&&this.speechEvent&&(this.harkSpeakingEnabledOnce=!0,this.speechEvent.once("speaking",function(){e.harkSpeakingEnabledOnce&&(e.session.emitEvent("publisherStartSpeaking",[new $r.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new $r.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)])),e.disableHarkSpeakingEvent(!0)}))},t.prototype.disableHarkSpeakingEvent=function(e){if(this.speechEvent){if(this.harkSpeakingEnabledOnce=!1,e){if(this.harkSpeakingEnabled)return}else this.harkSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabled&&this.speechEvent&&(this.harkStoppedSpeakingEnabled=!0,this.speechEvent.on("stopped_speaking",function(){e.session.emitEvent("publisherStopSpeaking",[new $r.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new $r.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)]),e.harkStoppedSpeakingEnabledOnce=!1}))},t.prototype.enableOnceHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabledOnce&&this.speechEvent&&(this.harkStoppedSpeakingEnabledOnce=!0,this.speechEvent.once("stopped_speaking",function(){e.harkStoppedSpeakingEnabledOnce&&(e.session.emitEvent("publisherStopSpeaking",[new $r.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new $r.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)])),e.disableHarkStoppedSpeakingEvent(!0)}))},t.prototype.disableHarkStoppedSpeakingEvent=function(e){if(this.speechEvent){if(this.harkStoppedSpeakingEnabledOnce=!1,e){if(this.harkStoppedSpeakingEnabled)return}else this.harkStoppedSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce?this.speechEvent.off("stopped_speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableHarkVolumeChangeEvent=function(e){var n=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabled||e)&&(this.harkVolumeChangeEnabled=!0,this.speechEvent.on("volume_change",function(r){var i=n.speechEvent.oldVolumeValue,o={newValue:r,oldValue:i};n.speechEvent.oldVolumeValue=r,n.streamManager.emitEvent("streamAudioVolumeChange",[new aD.StreamManagerEvent(n.streamManager,"streamAudioVolumeChange",o)])})):this.harkVolumeChangeEnabled=!0},t.prototype.enableOnceHarkVolumeChangeEvent=function(e){var n=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabledOnce||e)&&(this.harkVolumeChangeEnabledOnce=!0,this.speechEvent.once("volume_change",function(r){var i=n.speechEvent.oldVolumeValue,o={newValue:r,oldValue:i};n.speechEvent.oldVolumeValue=r,n.disableHarkVolumeChangeEvent(!0),n.streamManager.emitEvent("streamAudioVolumeChange",[new aD.StreamManagerEvent(n.streamManager,"streamAudioVolumeChange",o)])})):this.harkVolumeChangeEnabledOnce=!0},t.prototype.disableHarkVolumeChangeEvent=function(e){if(this.speechEvent){if(this.harkVolumeChangeEnabledOnce=!1,e){if(this.harkVolumeChangeEnabled)return}else this.harkVolumeChangeEnabled=!1;this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("volume_change"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.isLocal=function(){return!this.inboundStreamOpts&&!!this.outboundStreamOpts},t.prototype.getSelectedIceCandidate=function(){var e=this;return new Promise(function(n,r){e.webRtcStats.getSelectedIceCandidateInfo().then(function(i){return n(i)}).catch(function(i){return r(i)})})},t.prototype.getRemoteIceCandidateList=function(){return this.webRtcPeer.remoteCandidatesQueue},t.prototype.getLocalIceCandidateList=function(){return this.webRtcPeer.localCandidatesQueue},t.prototype.streamIceConnectionStateBroken=function(){if(!this.getWebRtcPeer()||!this.getRTCPeerConnection())return!1;if(this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop)return we.warn('OpenVidu Browser advanced configuration option "forceMediaReconnectionAfterNetworkDrop" is enabled. Stream '.concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") will force a reconnection")),!0;var e=this.getRTCPeerConnection().iceConnectionState;return e!=="connected"&&e!=="completed"},t.prototype.setHarkListenerIfNotExists=function(){if(this.mediaStream){if(!this.speechEvent){var e=this.harkOptions?this.harkOptions:this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{};e.interval=typeof e.interval=="number"?e.interval:100,e.threshold=typeof e.threshold=="number"?e.threshold:-50,this.speechEvent=B2(this.mediaStream,e)}return!0}return!1},t.prototype.setupReconnectionEventEmitter=function(e,n){return this.reconnectionEventEmitter==null?(this.reconnectionEventEmitter=new cD,!1):(console.warn("Trying to reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but an ongoing reconnection process is active. Waiting for response...")),this.reconnectionEventEmitter.once("success",function(){return e()}),this.reconnectionEventEmitter.once("error",function(r){return n(r)}),!0)},t.prototype.initWebRtcPeerSend=function(e){var n=this;return new Promise(function(r,i){var o;if(e){if(n.setupReconnectionEventEmitter(r,i))return}else n.initHarkEvents();var s=function(){var l;return e&&((l=n.reconnectionEventEmitter)===null||l===void 0||l.emitEvent("success"),delete n.reconnectionEventEmitter),r()},a=function(l){var d;return e&&((d=n.reconnectionEventEmitter)===null||d===void 0||d.emitEvent("error",[l]),delete n.reconnectionEventEmitter),i(l)},c=function(l){we.debug("Sending SDP offer to publish as "+n.streamId,l);var d=e?"reconnectStream":"publishVideo",f;if(e)f={stream:n.streamId,sdpString:l};else{var h=void 0;n.isSendVideo()&&(h=typeof MediaStreamTrack<"u"&&n.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?Hr.TypeOfVideo.CUSTOM:n.isSendScreen()?Hr.TypeOfVideo.SCREEN:Hr.TypeOfVideo.CAMERA),f={doLoopback:n.displayMyRemote()||!1,hasAudio:n.isSendAudio(),hasVideo:n.isSendVideo(),audioActive:n.audioActive,videoActive:n.videoActive,typeOfVideo:h,frameRate:n.frameRate?n.frameRate:-1,videoDimensions:JSON.stringify(n.videoDimensions),filter:n.outboundStreamOpts.publisherProperties.filter,sdpOffer:l}}n.session.openvidu.sendRequest(d,f,function(p,m){p?p.code===401?a(new Je.OpenViduError(Je.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to publish")):a("Error on publishVideo: "+JSON.stringify(p)):n.webRtcPeer.processRemoteAnswer(m.sdpAnswer).then(function(){n.streamId=m.id,n.creationTime=m.createdAt,n.isLocalStreamPublished=!0,n.publishedOnce=!0,n.displayMyRemote()&&(n.localMediaStreamWhenSubscribedToRemote=n.mediaStream,n.remotePeerSuccessfullyEstablished(e)),e?n.ee.emitEvent("stream-reconnected-by-publisher",[]):n.ee.emitEvent("stream-created-by-publisher",[]),n.initWebRtcStats(),we.info("'Publisher' ("+n.streamId+") successfully "+(e?"reconnected":"published")+" to session"),s()}).catch(function(b){a(b)})})},u={mediaConstraints:{audio:n.hasAudio,video:n.hasVideo},simulcast:(o=n.outboundStreamOpts.publisherProperties.videoSimulcast)!==null&&o!==void 0?o:n.session.openvidu.videoSimulcast,onIceCandidate:n.connection.sendIceCandidate.bind(n.connection),onIceConnectionStateException:n.onIceConnectionStateExceptionHandler.bind(n),iceServers:n.getIceServersConf(),mediaStream:n.mediaStream,mediaServer:n.session.openvidu.mediaServer,typeOfVideo:n.typeOfVideo?Hr.TypeOfVideo[n.typeOfVideo]:void 0};n.session.openvidu.mediaServer!=="mediasoup"&&(u.simulcast=!1),e&&n.disposeWebRtcPeer(),n.displayMyRemote()?n.webRtcPeer=new cv.WebRtcPeerSendrecv(u):n.webRtcPeer=new cv.WebRtcPeerSendonly(u),n.webRtcPeer.addIceConnectionStateChangeListener("publisher of "+n.connection.connectionId),n.webRtcPeer.createOffer().then(function(l){n.webRtcPeer.processLocalOffer(l).then(function(){c(l.sdp)}).catch(function(d){a(new Error("(publish) SDP process local offer error: "+JSON.stringify(d)))})}).catch(function(l){a(new Error("(publish) SDP create offer error: "+JSON.stringify(l)))})})},t.prototype.finalResolveForSubscription=function(e,n){var r;return we.info("'Subscriber' ("+this.streamId+") successfully "+(e?"reconnected":"subscribed")),this.remotePeerSuccessfullyEstablished(e),this.initWebRtcStats(),e&&((r=this.reconnectionEventEmitter)===null||r===void 0||r.emitEvent("success"),delete this.reconnectionEventEmitter),n()},t.prototype.finalRejectForSubscription=function(e,n,r){var i;return we.error("Error for 'Subscriber' ("+this.streamId+") while trying to "+(e?"reconnect":"subscribe")+": "+n.toString()),e&&((i=this.reconnectionEventEmitter)===null||i===void 0||i.emitEvent("error",[n]),delete this.reconnectionEventEmitter),r(n)},t.prototype.initWebRtcPeerReceive=function(e){var n=this;return new Promise(function(r,i){e&&n.setupReconnectionEventEmitter(r,i)||(n.session.openvidu.mediaServer==="mediasoup"?n.initWebRtcPeerReceiveFromServer(e).then(function(){return n.finalResolveForSubscription(e,r)}).catch(function(o){return n.finalRejectForSubscription(e,o,i)}):n.initWebRtcPeerReceiveFromClient(e).then(function(){return n.finalResolveForSubscription(e,r)}).catch(function(o){return n.finalRejectForSubscription(e,o,i)}))})},t.prototype.initWebRtcPeerReceiveFromClient=function(e){var n=this;return new Promise(function(r,i){n.completeWebRtcPeerReceive(e,!1).then(function(o){n.webRtcPeer.processRemoteAnswer(o.sdpAnswer).then(function(){return r()}).catch(function(s){return i(s)})}).catch(function(o){return i(o)})})},t.prototype.initWebRtcPeerReceiveFromServer=function(e){var n=this;return new Promise(function(r,i){n.session.openvidu.sendRequest("prepareReceiveVideoFrom",{sender:n.streamId,reconnect:e},function(o,s){if(o)return i(new Error("Error on prepareReceiveVideoFrom: "+JSON.stringify(o)));n.completeWebRtcPeerReceive(e,!1,s.sdpOffer).then(function(){return r()}).catch(function(a){return i(a)})})})},t.prototype.completeWebRtcPeerReceive=function(e,n,r){var i=this;return new Promise(function(o,s){we.debug("'Session.subscribe(Stream)' called");var a=function(u){we.debug("Sending local SDP ".concat(r?"answer":"offer"," to subscribe to ").concat(i.streamId),u);var l=e?"reconnectStream":"receiveVideoFrom",d={};d[e?"stream":"sender"]=i.streamId,r?d[e?"sdpString":"sdpAnswer"]=u:d.sdpOffer=u,e&&(d.forciblyReconnect=n),i.session.openvidu.sendRequest(l,d,function(f,h){return f?s(new Error("Error on "+l+" : "+JSON.stringify(f))):o(h)})},c={mediaConstraints:{audio:i.hasAudio,video:i.hasVideo},simulcast:!1,onIceCandidate:i.connection.sendIceCandidate.bind(i.connection),onIceConnectionStateException:i.onIceConnectionStateExceptionHandler.bind(i),iceServers:i.getIceServersConf(),mediaServer:i.session.openvidu.mediaServer,typeOfVideo:i.typeOfVideo?Hr.TypeOfVideo[i.typeOfVideo]:void 0};e&&i.disposeWebRtcPeer(),i.webRtcPeer=new cv.WebRtcPeerRecvonly(c),i.webRtcPeer.addIceConnectionStateChangeListener(i.streamId),r?i.webRtcPeer.processRemoteOffer(r).then(function(){i.webRtcPeer.createAnswer().then(function(u){i.webRtcPeer.processLocalAnswer(u).then(function(){a(u.sdp)}).catch(function(l){return s(new Error("(subscribe) SDP process local answer error: "+JSON.stringify(l)))})}).catch(function(u){return s(new Error("(subscribe) SDP create answer error: "+JSON.stringify(u)))})}).catch(function(u){return s(new Error("(subscribe) SDP process remote offer error: "+JSON.stringify(u)))}):i.webRtcPeer.createOffer().then(function(u){i.webRtcPeer.processLocalOffer(u).then(function(){a(u.sdp)}).catch(function(l){return s(new Error("(subscribe) SDP process local offer error: "+JSON.stringify(l)))})}).catch(function(u){return s(new Error("(subscribe) SDP create offer error: "+JSON.stringify(u)))})})},t.prototype.remotePeerSuccessfullyEstablished=function(e){e&&this.mediaStream!=null&&this.disposeMediaStream(),this.mediaStream=new MediaStream;for(var n,r=0,i=this.webRtcPeer.pc.getReceivers();r<i.length;r++)n=i[r],n.track&&this.mediaStream.addTrack(n.track);if(we.debug("Peer remote stream",this.mediaStream),this.mediaStream){if(this.streamManager instanceof k2.Subscriber){if(this.mediaStream.getAudioTracks()[0]){var o=e?this.audioActive:!!this.streamManager.properties.subscribeToAudio;this.mediaStream.getAudioTracks()[0].enabled=o}if(this.mediaStream.getVideoTracks()[0]){var o=e?this.videoActive:!!this.videoActive&&!!this.streamManager.properties.subscribeToVideo;this.mediaStream.getVideoTracks()[0].enabled=o}}this.updateMediaStreamInVideos(),this.initHarkEvents()}},t.prototype.initHarkEvents=function(){this.mediaStream.getAudioTracks()[0]&&(this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!0,this.streamManager)&&this.enableOnceHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.streamManager)&&this.enableHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!0,this.streamManager)&&this.enableOnceHarkStoppedSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.streamManager)&&this.enableHarkStoppedSpeakingEvent(),this.harkVolumeChangeEnabledOnce&&this.enableOnceHarkVolumeChangeEvent(!0),this.harkVolumeChangeEnabled&&this.enableHarkVolumeChangeEvent(!0))},t.prototype.onIceConnectionStateExceptionHandler=function(e,n,r){switch(e){case Qa.ExceptionEventName.ICE_CONNECTION_FAILED:this.onIceConnectionFailed();break;case Qa.ExceptionEventName.ICE_CONNECTION_DISCONNECTED:this.onIceConnectionDisconnected();break}this.session.emitEvent("exception",[new Qa.ExceptionEvent(this.session,e,this,n,r)])},t.prototype.onIceConnectionFailed=function(){we.log("[ICE_CONNECTION_FAILED] Handling ICE_CONNECTION_FAILED event. Reconnecting stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",")")),this.reconnectStreamAndLogResultingIceConnectionState(Qa.ExceptionEventName.ICE_CONNECTION_FAILED)},t.prototype.onIceConnectionDisconnected=function(){var e=this;we.log("[ICE_CONNECTION_DISCONNECTED] Handling ICE_CONNECTION_DISCONNECTED event. Waiting for ICE to be restored and reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") if not possible"));var n=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3;this.awaitWebRtcPeerConnectionState(n).then(function(r){switch(r){case"failed":we.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") is now failed after ICE_CONNECTION_DISCONNECTED"));break;case"connected":case"completed":we.log("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") automatically restored after ICE_CONNECTION_DISCONNECTED. Current ICE connection state: ").concat(r));break;case"closed":case"checking":case"new":case"disconnected":we.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") couldn't be restored after ICE_CONNECTION_DISCONNECTED event. Current ICE connection state after ").concat(n," ms: ").concat(r)),e.reconnectStreamAndLogResultingIceConnectionState(Qa.ExceptionEventName.ICE_CONNECTION_DISCONNECTED);break}})},t.prototype.reconnectStreamAndLogResultingIceConnectionState=function(e){return zn(this,void 0,void 0,function(){var n,r;return qn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.reconnectStreamAndReturnIceConnectionState(e)];case 1:switch(n=i.sent(),n){case"connected":case"completed":we.log("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") successfully reconnected after ").concat(e,". Current ICE connection state: ").concat(n));break;default:we.error("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") failed to reconnect after ").concat(e,". Current ICE connection state: ").concat(n));break}return[3,3];case 2:return r=i.sent(),we.error("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after ").concat(e,": ").concat(r)),[3,3];case 3:return[2]}})})},t.prototype.reconnectStreamAndReturnIceConnectionState=function(e){return zn(this,void 0,void 0,function(){var n,r;return qn(this,function(i){switch(i.label){case 0:we.log("[".concat(e,"] Reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after event ").concat(e)),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.reconnectStream(e)];case 2:return i.sent(),n=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3,[2,this.awaitWebRtcPeerConnectionState(n)];case 3:return r=i.sent(),we.warn("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber","). Reason: ").concat(r)),[2,this.awaitWebRtcPeerConnectionState(1)];case 4:return[2]}})})},t.prototype.awaitWebRtcPeerConnectionState=function(e){return zn(this,void 0,void 0,function(){var n,r,i,o;return qn(this,function(s){switch(s.label){case 0:n=this.getRTCPeerConnection().iceConnectionState,r=150,i=Math.ceil(e/r),o=0,s.label=1;case 1:return o<i?(n=this.getRTCPeerConnection().iceConnectionState,n==="connected"||n==="completed"?[3,4]:[4,new Promise(function(a){return setTimeout(a,r)})]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2,n]}})})},t.prototype.reconnectStream=function(e){return zn(this,void 0,void 0,function(){var n,r;return qn(this,function(i){switch(i.label){case 0:return[4,this.isWebsocketConnected(e,3e3)];case 1:if(n=i.sent(),n)return we.log("[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") and the websocket is opened")),this.isLocal()?[2,this.initWebRtcPeerSend(!0)]:[2,this.initWebRtcPeerReceive(!0)];throw r="[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but the websocket wasn't opened"),we.error(r),Error(r)}})})},t.prototype.isWebsocketConnected=function(e,n){var r=this;return new Promise(function(i,o){var s=r.session.openvidu.getWsReadyState();if(s===1){var a=setTimeout(function(){return console.warn("[".concat(e,"] Websocket timeout of ").concat(n,"ms")),i(!1)},n);r.session.openvidu.sendRequest("echo",{},function(c,u){return clearTimeout(a),c?(console.warn("[".concat(e,"] Websocket 'echo' returned error: ").concat(c)),i(!1)):i(!0)})}else return console.warn("[".concat(e,"] Websocket readyState is ").concat(s)),i(!1)})},t.prototype.initWebRtcStats=function(){this.webRtcStats=new F2.WebRtcStats(this),this.webRtcStats.initWebRtcStats()},t.prototype.stopWebRtcStats=function(){this.webRtcStats&&this.webRtcStats.isEnabled()&&this.webRtcStats.stopWebRtcStats()},t.prototype.getIceServersConf=function(){var e;return this.session.openvidu.advancedConfiguration.iceServers?e=this.session.openvidu.advancedConfiguration.iceServers==="freeice"?void 0:this.session.openvidu.advancedConfiguration.iceServers:this.session.openvidu.iceServers?e=this.session.openvidu.iceServers:e=void 0,e},t.prototype.gatherStatsForPeer=function(){var e=this;return new Promise(function(n,r){e.isLocal()?e.getRTCPeerConnection().getSenders().forEach(function(i){return i.getStats().then(function(o){o.forEach(function(s){if(e.isReportWanted(s)){var a={};a.type=s.type,a.timestamp=s.timestamp,a.id=s.id,s.type==="outbound-rtp"&&(a.ssrc=s.ssrc,a.firCount=s.firCount,a.pliCount=s.pliCount,a.nackCount=s.nackCount,a.qpSum=s.qpSum,s.kind?a.mediaType=s.kind:s.mediaType?a.mediaType=s.mediaType:a.mediaType=s.id.indexOf("VideoStream")!==-1?"video":"audio",a.mediaType==="video"&&(a.framesEncoded=s.framesEncoded),a.packetsSent=s.packetsSent,a.bytesSent=s.bytesSent),s.type==="candidate-pair"&&s.totalRoundTripTime!==void 0&&(a.availableOutgoingBitrate=s.availableOutgoingBitrate,a.rtt=s.currentRoundTripTime,a.averageRtt=s.totalRoundTripTime/s.responsesReceived),s.type==="remote-inbound-rtp"||s.type,we.log(a)}})})}):e.getRTCPeerConnection().getReceivers().forEach(function(i){return i.getStats().then(function(o){o.forEach(function(s){if(e.isReportWanted(s)){var a={};a.type=s.type,a.timestamp=s.timestamp,a.id=s.id,s.type==="inbound-rtp"&&(a.ssrc=s.ssrc,a.firCount=s.firCount,a.pliCount=s.pliCount,a.nackCount=s.nackCount,a.qpSum=s.qpSum,s.kind?a.mediaType=s.kind:s.mediaType?a.mediaType=s.mediaType:a.mediaType=s.id.indexOf("VideoStream")!==-1?"video":"audio",a.mediaType==="video"&&(a.framesDecoded=s.framesDecoded),a.packetsReceived=s.packetsReceived,a.packetsLost=s.packetsLost,a.jitter=s.jitter,a.bytesReceived=s.bytesReceived),s.type==="candidate-pair"&&s.totalRoundTripTime!==void 0&&(a.availableIncomingBitrate=s.availableIncomingBitrate,a.rtt=s.currentRoundTripTime,a.averageRtt=s.totalRoundTripTime/s.responsesReceived),s.type==="remote-inbound-rtp"||s.type,we.log(a)}})})})})},t.prototype.isReportWanted=function(e){return e.type==="inbound-rtp"&&!this.isLocal()||e.type==="outbound-rtp"&&this.isLocal()||e.type==="candidate-pair"&&e.nominated&&e.bytesSent>0},t}();zr.Stream=U2});var uv=P(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.Connection=void 0;var $2=Fd(),H2=ht(),lD=Pi(),Za=H2.OpenViduLogger.getInstance(),z2=function(){function t(e,n){this.session=e,this.disposed=!1;var r="'Connection' created ";n.role?(this.localOptions=n,this.connectionId=this.localOptions.id,this.creationTime=this.localOptions.createdAt,this.data=this.localOptions.metadata,this.rpcSessionId=this.localOptions.sessionId,this.role=this.localOptions.role,this.record=this.localOptions.record,r+="(local)"):(this.remoteOptions=n,this.connectionId=this.remoteOptions.id,this.creationTime=this.remoteOptions.createdAt,this.remoteOptions.metadata&&(this.data=this.remoteOptions.metadata),this.remoteOptions.streams&&this.initRemoteStreams(this.remoteOptions.streams),r+="(remote) with 'connectionId' ["+this.remoteOptions.id+"]"),Za.info(r)}return t.prototype.sendIceCandidate=function(e){var n=this;this.disposed?Za.warn("Connection ".concat(this.connectionId," disposed when trying to send an ICE candidate. ICE candidate not sent")):(Za.debug((this.stream.outboundStreamOpts?"Local":"Remote")+"candidate for"+this.connectionId,e),this.session.openvidu.sendRequest("onIceCandidate",{endpointName:this.connectionId,candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex},function(r,i){r&&(Za.error("Error sending ICE candidate: "+JSON.stringify(r)),n.session.emitEvent("exception",[new lD.ExceptionEvent(n.session,lD.ExceptionEventName.ICE_CANDIDATE_ERROR,n.session,"There was an unexpected error on the server-side processing an ICE candidate generated and sent by the client-side",r)]))}))},t.prototype.initRemoteStreams=function(e){var n=this;e.forEach(function(r){var i={id:r.id,createdAt:r.createdAt,connection:n,hasAudio:r.hasAudio,hasVideo:r.hasVideo,audioActive:r.audioActive,videoActive:r.videoActive,typeOfVideo:r.typeOfVideo,frameRate:r.frameRate,videoDimensions:r.videoDimensions?JSON.parse(r.videoDimensions):void 0,filter:r.filter?r.filter:void 0},o=new $2.Stream(n.session,i);n.addStream(o)}),Za.info("Remote 'Connection' with 'connectionId' ["+this.connectionId+"] is now configured for receiving Streams with options: ",this.stream.inboundStreamOpts)},t.prototype.addStream=function(e){e.connection=this,this.stream=e},t.prototype.removeStream=function(){delete this.stream},t.prototype.dispose=function(){this.disposed=!0,this.removeStream()},t}();Ld.Connection=z2});var lv=P(Xo=>{"use strict";var q2=Xo&&Xo.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Xo,"__esModule",{value:!0});Xo.ConnectionEvent=void 0;var W2=yt(),G2=function(t){q2(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i)||this;return a.connection=o,a.reason=s,a}return e.prototype.callDefaultBehavior=function(){},e}(W2.Event);Xo.ConnectionEvent=G2});var dv=P(Jo=>{"use strict";var K2=Jo&&Jo.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.FilterEvent=void 0;var Y2=yt(),Q2=function(t){K2(e,t);function e(n,r,i){var o=t.call(this,!1,n,r)||this;return o.data=i,o}return e.prototype.callDefaultBehavior=function(){},e}(Y2.Event);Jo.FilterEvent=Q2});var fv=P(es=>{"use strict";var Z2=es&&es.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(es,"__esModule",{value:!0});es.RecordingEvent=void 0;var X2=yt(),J2=function(t){Z2(e,t);function e(n,r,i,o,s){var a=t.call(this,!1,n,r)||this;return a.id=i,o!==i&&(a.name=o),a.reason=s,a}return e.prototype.callDefaultBehavior=function(){},e}(X2.Event);es.RecordingEvent=J2});var Vd=P(ts=>{"use strict";var eB=ts&&ts.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ts,"__esModule",{value:!0});ts.SessionDisconnectedEvent=void 0;var tB=yt(),nB=ht(),rB=nB.OpenViduLogger.getInstance(),iB=function(t){eB(e,t);function e(n,r){var i=t.call(this,!0,n,"sessionDisconnected")||this;return i.reason=r,i}return e.prototype.callDefaultBehavior=function(){rB.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'");var n=this.target;n.remoteConnections.forEach(function(r){var i,o,s,a,c,u,l,d,f=r.connectionId;if(!((i=n.remoteConnections.get(f))===null||i===void 0)&&i.stream){(o=n.remoteConnections.get(f))===null||o===void 0||o.stream.disposeWebRtcPeer(),(s=n.remoteConnections.get(f))===null||s===void 0||s.stream.disposeMediaStream(),!((a=n.remoteConnections.get(f))===null||a===void 0)&&a.stream.streamManager&&((c=n.remoteConnections.get(f))===null||c===void 0||c.stream.streamManager.removeAllVideos());var h=(l=(u=n.remoteConnections.get(f))===null||u===void 0?void 0:u.stream)===null||l===void 0?void 0:l.streamId;h&&n.remoteStreamsCreated.delete(h),(d=n.remoteConnections.get(f))===null||d===void 0||d.dispose()}n.remoteConnections.delete(f)})},e}(tB.Event);ts.SessionDisconnectedEvent=iB});var hv=P(ns=>{"use strict";var oB=ns&&ns.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ns,"__esModule",{value:!0});ns.SignalEvent=void 0;var sB=yt(),aB=function(t){oB(e,t);function e(n,r,i,o){var s=t.call(this,!1,n,"signal")||this;return r&&(s.type="signal:"+r),s.data=i,s.from=o,s}return e.prototype.callDefaultBehavior=function(){},e}(sB.Event);ns.SignalEvent=aB});var pv=P(rs=>{"use strict";var cB=rs&&rs.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(rs,"__esModule",{value:!0});rs.SpeechToTextEvent=void 0;var uB=yt(),lB=function(t){cB(e,t);function e(n,r,i,o,s,a){var c=t.call(this,!1,n,"speechToTextMessage")||this;return c.connection=r,c.text=i,c.reason=o,c.raw=s,c.lang=a,c}return e.prototype.callDefaultBehavior=function(){},e}(uB.Event);rs.SpeechToTextEvent=lB});var jd=P(is=>{"use strict";var dB=is&&is.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(is,"__esModule",{value:!0});is.StreamEvent=void 0;var fB=yt(),hB=Bd(),pB=Xa(),mB=ht(),dD=mB.OpenViduLogger.getInstance(),gB=function(t){dB(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i)||this;return a.stream=o,a.reason=s,a}return e.prototype.callDefaultBehavior=function(){if(this.type==="streamDestroyed"){if(this.target instanceof pB.Session)dD.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'"),this.stream.disposeWebRtcPeer();else if(this.target instanceof hB.Publisher){dD.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Publisher'"),clearInterval(this.target.screenShareResizeInterval),this.stream.isLocalStreamReadyToPublish=!1;for(var n=this.target.openvidu.publishers,r=0;r<n.length;r++)if(n[r]===this.target){n.splice(r,1);break}}this.stream.disposeMediaStream(),this.stream.streamManager&&this.stream.streamManager.removeAllVideos(),this.stream.session.remoteStreamsCreated.delete(this.stream.streamId);var i=this.stream.session.remoteConnections.get(this.stream.connection.connectionId);if(i&&i.remoteOptions)for(var o=i.remoteOptions.streams,r=o.length-1;r>=0;--r)o[r].id===this.stream.streamId&&o.splice(r,1)}},e}(fB.Event);is.StreamEvent=gB});var mv=P(os=>{"use strict";var vB=os&&os.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(os,"__esModule",{value:!0});os.ConnectionPropertyChangedEvent=void 0;var bB=yt(),yB=function(t){vB(e,t);function e(n,r,i,o,s){var a=t.call(this,!1,n,"connectionPropertyChanged")||this;return a.connection=r,a.changedProperty=i,a.newValue=o,a.oldValue=s,a}return e.prototype.callDefaultBehavior=function(){},e}(bB.Event);os.ConnectionPropertyChangedEvent=yB});var gv=P(ss=>{"use strict";var EB=ss&&ss.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ss,"__esModule",{value:!0});ss.NetworkQualityLevelChangedEvent=void 0;var _B=yt(),wB=function(t){EB(e,t);function e(n,r,i,o){var s=t.call(this,!1,n,"networkQualityLevelChanged")||this;return s.newValue=r,s.oldValue=i,s.connection=o,s}return e.prototype.callDefaultBehavior=function(){},e}(_B.Event);ss.NetworkQualityLevelChangedEvent=wB});var vv=P((MQ,fD)=>{"use strict";var SB=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};fD.exports=SB});var bv=P((AQ,hD)=>{"use strict";var CB="2.0.0",DB=Number.MAX_SAFE_INTEGER||9007199254740991,IB=16;hD.exports={SEMVER_SPEC_VERSION:CB,MAX_LENGTH:256,MAX_SAFE_INTEGER:DB,MAX_SAFE_COMPONENT_LENGTH:IB}});var mD=P((qr,pD)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:yv}=bv(),xB=vv();qr=pD.exports={};var TB=qr.re=[],G=qr.src=[],K=qr.t={},MB=0,le=(t,e,n)=>{let r=MB++;xB(t,r,e),K[t]=r,G[r]=e,TB[r]=new RegExp(e,n?"g":void 0)};le("NUMERICIDENTIFIER","0|[1-9]\\d*");le("NUMERICIDENTIFIERLOOSE","[0-9]+");le("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");le("MAINVERSION",`(${G[K.NUMERICIDENTIFIER]})\\.(${G[K.NUMERICIDENTIFIER]})\\.(${G[K.NUMERICIDENTIFIER]})`);le("MAINVERSIONLOOSE",`(${G[K.NUMERICIDENTIFIERLOOSE]})\\.(${G[K.NUMERICIDENTIFIERLOOSE]})\\.(${G[K.NUMERICIDENTIFIERLOOSE]})`);le("PRERELEASEIDENTIFIER",`(?:${G[K.NUMERICIDENTIFIER]}|${G[K.NONNUMERICIDENTIFIER]})`);le("PRERELEASEIDENTIFIERLOOSE",`(?:${G[K.NUMERICIDENTIFIERLOOSE]}|${G[K.NONNUMERICIDENTIFIER]})`);le("PRERELEASE",`(?:-(${G[K.PRERELEASEIDENTIFIER]}(?:\\.${G[K.PRERELEASEIDENTIFIER]})*))`);le("PRERELEASELOOSE",`(?:-?(${G[K.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${G[K.PRERELEASEIDENTIFIERLOOSE]})*))`);le("BUILDIDENTIFIER","[0-9A-Za-z-]+");le("BUILD",`(?:\\+(${G[K.BUILDIDENTIFIER]}(?:\\.${G[K.BUILDIDENTIFIER]})*))`);le("FULLPLAIN",`v?${G[K.MAINVERSION]}${G[K.PRERELEASE]}?${G[K.BUILD]}?`);le("FULL",`^${G[K.FULLPLAIN]}$`);le("LOOSEPLAIN",`[v=\\s]*${G[K.MAINVERSIONLOOSE]}${G[K.PRERELEASELOOSE]}?${G[K.BUILD]}?`);le("LOOSE",`^${G[K.LOOSEPLAIN]}$`);le("GTLT","((?:<|>)?=?)");le("XRANGEIDENTIFIERLOOSE",`${G[K.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);le("XRANGEIDENTIFIER",`${G[K.NUMERICIDENTIFIER]}|x|X|\\*`);le("XRANGEPLAIN",`[v=\\s]*(${G[K.XRANGEIDENTIFIER]})(?:\\.(${G[K.XRANGEIDENTIFIER]})(?:\\.(${G[K.XRANGEIDENTIFIER]})(?:${G[K.PRERELEASE]})?${G[K.BUILD]}?)?)?`);le("XRANGEPLAINLOOSE",`[v=\\s]*(${G[K.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[K.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[K.XRANGEIDENTIFIERLOOSE]})(?:${G[K.PRERELEASELOOSE]})?${G[K.BUILD]}?)?)?`);le("XRANGE",`^${G[K.GTLT]}\\s*${G[K.XRANGEPLAIN]}$`);le("XRANGELOOSE",`^${G[K.GTLT]}\\s*${G[K.XRANGEPLAINLOOSE]}$`);le("COERCE",`(^|[^\\d])(\\d{1,${yv}})(?:\\.(\\d{1,${yv}}))?(?:\\.(\\d{1,${yv}}))?(?:$|[^\\d])`);le("COERCERTL",G[K.COERCE],!0);le("LONETILDE","(?:~>?)");le("TILDETRIM",`(\\s*)${G[K.LONETILDE]}\\s+`,!0);qr.tildeTrimReplace="$1~";le("TILDE",`^${G[K.LONETILDE]}${G[K.XRANGEPLAIN]}$`);le("TILDELOOSE",`^${G[K.LONETILDE]}${G[K.XRANGEPLAINLOOSE]}$`);le("LONECARET","(?:\\^)");le("CARETTRIM",`(\\s*)${G[K.LONECARET]}\\s+`,!0);qr.caretTrimReplace="$1^";le("CARET",`^${G[K.LONECARET]}${G[K.XRANGEPLAIN]}$`);le("CARETLOOSE",`^${G[K.LONECARET]}${G[K.XRANGEPLAINLOOSE]}$`);le("COMPARATORLOOSE",`^${G[K.GTLT]}\\s*(${G[K.LOOSEPLAIN]})$|^$`);le("COMPARATOR",`^${G[K.GTLT]}\\s*(${G[K.FULLPLAIN]})$|^$`);le("COMPARATORTRIM",`(\\s*)${G[K.GTLT]}\\s*(${G[K.LOOSEPLAIN]}|${G[K.XRANGEPLAIN]})`,!0);qr.comparatorTrimReplace="$1$2$3";le("HYPHENRANGE",`^\\s*(${G[K.XRANGEPLAIN]})\\s+-\\s+(${G[K.XRANGEPLAIN]})\\s*$`);le("HYPHENRANGELOOSE",`^\\s*(${G[K.XRANGEPLAINLOOSE]})\\s+-\\s+(${G[K.XRANGEPLAINLOOSE]})\\s*$`);le("STAR","(<|>)?=?\\s*\\*");le("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");le("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var vD=P((OQ,gD)=>{"use strict";var AB=["includePrerelease","loose","rtl"],OB=t=>t?typeof t!="object"?{loose:!0}:AB.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};gD.exports=OB});var _D=P((RQ,ED)=>{"use strict";var bD=/^[0-9]+$/,yD=(t,e)=>{let n=bD.test(t),r=bD.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},RB=(t,e)=>yD(e,t);ED.exports={compareIdentifiers:yD,rcompareIdentifiers:RB}});var _v=P((NQ,DD)=>{"use strict";var Ud=vv(),{MAX_LENGTH:wD,MAX_SAFE_INTEGER:$d}=bv(),{re:SD,t:CD}=mD(),NB=vD(),{compareIdentifiers:as}=_D(),Ev=class t{constructor(e,n){if(n=NB(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>wD)throw new TypeError(`version is longer than ${wD} characters`);Ud("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?SD[CD.LOOSE]:SD[CD.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>$d||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$d||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$d||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<$d)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ud("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),as(this.major,e.major)||as(this.minor,e.minor)||as(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(Ud("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return as(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(Ud("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return as(r,i)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(as(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};DD.exports=Ev});var xD=P((PQ,ID)=>{"use strict";var PB=_v(),kB=(t,e)=>new PB(t,e).major;ID.exports=kB});var MD=P((kQ,TD)=>{"use strict";var FB=_v(),LB=(t,e)=>new FB(t,e).minor;TD.exports=LB});var Xa=P(Wn=>{"use strict";var VB=Wn&&Wn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wv=Wn&&Wn.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Sv=Wn&&Wn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.Session=void 0;var Hd=uv(),jB=ad(),BB=gd(),UB=fd(),zd=lv(),$B=dv(),Cv=fv(),HB=Vd(),qd=hv(),zB=pv(),Ja=jd(),AD=Oi(),qB=mv(),OD=gv(),cn=Ni(),Dv=qa(),ND=ht(),WB=ur(),Iv=xD(),xv=MD(),RD=Pi(),J=ND.OpenViduLogger.getInstance(),Fe,GB=function(t){VB(e,t);function e(n){var r=t.call(this)||this;return r.streamManagers=[],r.remoteStreamsCreated=new Map,r.remoteConnections=new Map,Fe=WB.PlatformUtils.getInstance(),r.openvidu=n,r}return e.prototype.connect=function(n,r){var i=this;return new Promise(function(o,s){if(i.processToken(n),i.openvidu.checkSystemRequirements())i.options={sessionId:i.sessionId,participantId:n,metadata:r?i.stringClientMetadata(r):""},i.connectAux(n).then(function(){return o()}).catch(function(a){return s(a)});else return s(new cn.OpenViduError(cn.OpenViduErrorName.BROWSER_NOT_SUPPORTED,"Browser "+Fe.getName()+" (version "+Fe.getVersion()+") for "+Fe.getFamily()+" is not supported in OpenVidu"))})},e.prototype.disconnect=function(){this.leave(!1,"disconnect")},e.prototype.subscribe=function(n,r,i,o){var s={};i&&typeof i!="function"?s={insertMode:typeof i.insertMode<"u"?typeof i.insertMode=="string"?Dv.VideoInsertMode[i.insertMode]:s.insertMode:Dv.VideoInsertMode.APPEND,subscribeToAudio:typeof i.subscribeToAudio<"u"?i.subscribeToAudio:!0,subscribeToVideo:typeof i.subscribeToVideo<"u"?i.subscribeToVideo:!0}:s={insertMode:Dv.VideoInsertMode.APPEND,subscribeToAudio:!0,subscribeToVideo:!0};var a=void 0;if(i&&typeof i=="function"?a=i:o&&(a=o),!this.sessionConnected())throw a!==void 0&&a(this.notConnectedError()),this.notConnectedError();J.info("Subscribing to "+n.connection.connectionId),n.subscribe().then(function(){J.info("Subscribed correctly to "+n.connection.connectionId),a!==void 0&&a(void 0)}).catch(function(u){a!==void 0&&a(u)});var c=new BB.Subscriber(n,r,s);return c.targetElement&&n.streamManager.createVideoElement(c.targetElement,s.insertMode),c},e.prototype.subscribeAsync=function(n,r,i){var o=this;return new Promise(function(s,a){if(!o.sessionConnected())return a(o.notConnectedError());var c,u=function(l){return l?a(l):s(c)};i?c=o.subscribe(n,r,i,u):c=o.subscribe(n,r,u)})},e.prototype.unsubscribe=function(n){var r=this;return new Promise(function(i,o){if(r.sessionConnected()){var s=n.stream.connection.connectionId;J.info("Unsubscribing from "+s),r.openvidu.sendRequest("unsubscribeFromVideo",{sender:n.stream.connection.connectionId},function(a,c){return a?(J.error("Error unsubscribing from "+s),o(a)):(J.info("Unsubscribed correctly from "+s),n.stream.streamManager.removeAllVideos(),n.stream.disposeWebRtcPeer(),n.stream.disposeMediaStream(),i())})}else return o(r.notConnectedError())})},e.prototype.publish=function(n){var r=this;return new Promise(function(i,o){if(!r.sessionConnected())return o(r.notConnectedError());n.session=r,n.stream.session=r,n.stream.publishedOnce?n.initialize().then(function(){r.connection.addStream(n.stream),n.reestablishStreamPlayingEvent(),n.stream.publish().then(function(){return r.sendVideoData(n,8,!0,5),i()}).catch(function(s){return o(s)})}).catch(function(s){return o(s)}):(r.connection.addStream(n.stream),n.stream.publish().then(function(){return r.sendVideoData(n,8,!0,5),i()}).catch(function(s){return o(s)}))})},e.prototype.unpublish=function(n){var r=this;return new Promise(function(i,o){if(!r.sessionConnected())throw r.notConnectedError();var s=n.stream;if(s.connection){if(s.connection!==r.connection)return o(new Error("The associated Connection object of this Publisher is not your local Connection.  Only moderators can force unpublish on remote Streams via 'forceUnpublish' method"));J.info("Unpublishing local media ("+s.connection.connectionId+")"),r.openvidu.sendRequest("unpublishVideo",function(a,c){if(a)return o(a);J.info("Media unpublished correctly"),s.disposeWebRtcPeer(),s.connection.stream==s&&delete s.connection.stream;var u=new Ja.StreamEvent(!0,n,"streamDestroyed",n.stream,"unpublish");return n.emitEvent("streamDestroyed",[u]),u.callDefaultBehavior(),i()})}else return o(new Error("The associated Connection object of this Publisher is null"))})},e.prototype.forceDisconnect=function(n){var r=this;return new Promise(function(i,o){if(!r.sessionConnected())return o(r.notConnectedError());J.info("Forcing disconnect for connection "+n.connectionId),r.openvidu.sendRequest("forceDisconnect",{connectionId:n.connectionId},function(s,a){return s?(J.error("Error forcing disconnect for Connection "+n.connectionId,s),s.code===401?o(new cn.OpenViduError(cn.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force a disconnection")):o(s)):(J.info("Forcing disconnect correctly for Connection "+n.connectionId),i())})})},e.prototype.forceUnpublish=function(n){var r=this;return new Promise(function(i,o){if(!r.sessionConnected())return o(r.notConnectedError());J.info("Forcing unpublish for stream "+n.streamId),r.openvidu.sendRequest("forceUnpublish",{streamId:n.streamId},function(s,a){return s?(J.error("Error forcing unpublish for Stream "+n.streamId,s),s.code===401?o(new cn.OpenViduError(cn.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force an unpublishing")):o(s)):(J.info("Forcing unpublish correctly for Stream "+n.streamId),i())})})},e.prototype.signal=function(n){var r=this;return new Promise(function(i,o){if(!r.sessionConnected())return o(r.notConnectedError());var s={};if(n.to&&n.to.length>0){var a=[];n.to.forEach(function(u){u.connectionId&&a.push(u.connectionId)}),s.to=a}else s.to=[];s.data=n.data?n.data:"";var c=n.type?n.type:"signal";c&&c.substring(0,7)!=="signal:"&&(c="signal:"+c),s.type=c,r.openvidu.sendRequest("sendMessage",{message:JSON.stringify(s)},function(u,l){return u?o(u):i()})})},e.prototype.subscribeToSpeechToText=function(n,r){var i=this;return new Promise(function(o,s){i.openvidu.sendRequest("subscribeToSpeechToText",{connectionId:n.connection.connectionId,lang:r},function(a,c){return a?s(a):o()})})},e.prototype.unsubscribeFromSpeechToText=function(n){var r=this;return new Promise(function(i,o){r.openvidu.sendRequest("unsubscribeFromSpeechToText",{connectionId:n.connection.connectionId},function(s,a){return s?o(s):i()})})},e.prototype.on=function(n,r){var i,o,s,a;return t.prototype.onAux.call(this,n,"Event '"+n+"' triggered by 'Session'",r),n==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(c){var u;!((u=c.stream)===null||u===void 0)&&u.hasAudio&&c.stream.enableHarkSpeakingEvent()}),!((o=(i=this.connection)===null||i===void 0?void 0:i.stream)===null||o===void 0)&&o.hasAudio&&this.connection.stream.enableHarkSpeakingEvent()),n==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(c){var u;!((u=c.stream)===null||u===void 0)&&u.hasAudio&&c.stream.enableHarkStoppedSpeakingEvent()}),!((a=(s=this.connection)===null||s===void 0?void 0:s.stream)===null||a===void 0)&&a.hasAudio&&this.connection.stream.enableHarkStoppedSpeakingEvent()),this},e.prototype.once=function(n,r){var i,o,s,a;return t.prototype.onceAux.call(this,n,"Event '"+n+"' triggered once by 'Session'",r),n==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(c){var u;!((u=c.stream)===null||u===void 0)&&u.hasAudio&&c.stream.enableOnceHarkSpeakingEvent()}),!((o=(i=this.connection)===null||i===void 0?void 0:i.stream)===null||o===void 0)&&o.hasAudio&&this.connection.stream.enableOnceHarkSpeakingEvent()),n==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(c){var u;!((u=c.stream)===null||u===void 0)&&u.hasAudio&&c.stream.enableOnceHarkStoppedSpeakingEvent()}),!((a=(s=this.connection)===null||s===void 0?void 0:s.stream)===null||a===void 0)&&a.hasAudio&&this.connection.stream.enableOnceHarkStoppedSpeakingEvent()),this},e.prototype.off=function(n,r){var i=this,o,s,a,c;return t.prototype.offAux.call(this,n,r),n==="publisherStartSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1)||(this.remoteConnections.forEach(function(u){var l;!((l=u.stream)===null||l===void 0)&&l.streamManager&&(i.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,u.stream.streamManager)||u.stream.disableHarkSpeakingEvent(!1))}),!((s=(o=this.connection)===null||o===void 0?void 0:o.stream)===null||s===void 0)&&s.streamManager&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkSpeakingEvent(!1)))),n==="publisherStopSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1)||(this.remoteConnections.forEach(function(u){var l;!((l=u.stream)===null||l===void 0)&&l.streamManager&&(i.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,u.stream.streamManager)||u.stream.disableHarkStoppedSpeakingEvent(!1))}),!((c=(a=this.connection)===null||a===void 0?void 0:a.stream)===null||c===void 0)&&c.streamManager&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkStoppedSpeakingEvent(!1)))),this},e.prototype.onParticipantJoined=function(n){var r=this;this.getConnection(n.id,"").then(function(i){J.warn("Connection "+i.connectionId+" already exists in connections list")}).catch(function(i){var o=new Hd.Connection(r,n);r.remoteConnections.set(n.id,o),r.ee.emitEvent("connectionCreated",[new zd.ConnectionEvent(!1,r,"connectionCreated",o,"")])})},e.prototype.onParticipantLeft=function(n){var r=this;this.getRemoteConnection(n.connectionId,"onParticipantLeft").then(function(i){if(i.stream){var o=i.stream,s=new Ja.StreamEvent(!0,r,"streamDestroyed",o,n.reason);r.ee.emitEvent("streamDestroyed",[s]),s.callDefaultBehavior(),r.remoteStreamsCreated.delete(o.streamId)}i.dispose(),r.remoteConnections.delete(i.connectionId),r.ee.emitEvent("connectionDestroyed",[new zd.ConnectionEvent(!1,r,"connectionDestroyed",i,n.reason)])}).catch(function(i){J.error(i)})},e.prototype.onParticipantPublished=function(n){var r=this,i=function(s){r.remoteConnections.set(s.connectionId,s),r.remoteStreamsCreated.get(s.stream.streamId)||r.ee.emitEvent("streamCreated",[new Ja.StreamEvent(!1,r,"streamCreated",s.stream,"")]),r.remoteStreamsCreated.set(s.stream.streamId,!0)},o;this.getRemoteConnection(n.id,"onParticipantPublished").then(function(s){o=s,n.metadata=s.data,o.remoteOptions=n,o.initRemoteStreams(n.streams),i(o)}).catch(function(s){o=new Hd.Connection(r,n),i(o)})},e.prototype.onParticipantUnpublished=function(n){var r=this;n.connectionId===this.connection.connectionId?this.stopPublisherStream(n.reason):this.getRemoteConnection(n.connectionId,"onParticipantUnpublished").then(function(i){var o=new Ja.StreamEvent(!0,r,"streamDestroyed",i.stream,n.reason);if(r.ee.emitEvent("streamDestroyed",[o]),o.callDefaultBehavior(),i.stream!=null){var s=i.stream.streamId;r.remoteStreamsCreated.delete(s),i.removeStream()}}).catch(function(i){J.error(i)})},e.prototype.onParticipantEvicted=function(n){n.connectionId===this.connection.connectionId&&this.sessionId&&!this.connection.disposed&&this.leave(!0,n.reason)},e.prototype.onNewMessage=function(n){var r=this;J.info("New signal: "+JSON.stringify(n));var i=n.type?n.type.replace(/^(signal:)/,""):void 0;n.from?this.getConnection(n.from,"Connection '"+n.from+"' unknown when 'onNewMessage'. Existing remote connections: "+JSON.stringify(this.remoteConnections.keys())+". Existing local connection: "+this.connection.connectionId).then(function(o){r.ee.emitEvent("signal",[new qd.SignalEvent(r,i,n.data,o)]),n.type&&n.type!=="signal"&&r.ee.emitEvent(n.type,[new qd.SignalEvent(r,i,n.data,o)])}).catch(function(o){J.error(o)}):(this.ee.emitEvent("signal",[new qd.SignalEvent(this,i,n.data,void 0)]),n.type&&n.type!=="signal"&&this.ee.emitEvent(n.type,[new qd.SignalEvent(this,i,n.data,void 0)]))},e.prototype.onStreamPropertyChanged=function(n){var r=this,i=function(o){var s,a;if(o.stream&&o.stream.streamId===n.streamId){var c=o.stream,u=void 0;switch(n.property){case"audioActive":u=c.audioActive,n.newValue=n.newValue==="true",c.audioActive=n.newValue;break;case"videoActive":u=c.videoActive,n.newValue=n.newValue==="true",c.videoActive=n.newValue;var l=(a=(s=c?.getMediaStream())===null||s===void 0?void 0:s.getVideoTracks())===null||a===void 0?void 0:a[0];l&&!l.enabled&&c.videoActive&&(l.enabled=!0);break;case"videoTrack":n.newValue=JSON.parse(n.newValue);break;case"audioTrack":n.newValue=JSON.parse(n.newValue);break;case"videoDimensions":u=c.videoDimensions,n.newValue=JSON.parse(JSON.parse(n.newValue)),c.videoDimensions=n.newValue;break;case"filter":u=c.filter,n.newValue=Object.keys(n.newValue).length>0?n.newValue:void 0,n.newValue!==void 0?(c.filter=new jB.Filter(n.newValue.type,n.newValue.options),c.filter.stream=c,n.newValue.lastExecMethod&&(c.filter.lastExecMethod=n.newValue.lastExecMethod)):delete c.filter,n.newValue=c.filter;break}r.ee.emitEvent("streamPropertyChanged",[new AD.StreamPropertyChangedEvent(r,c,n.property,n.newValue,u,n.reason)]),c.streamManager&&c.streamManager.emitEvent("streamPropertyChanged",[new AD.StreamPropertyChangedEvent(c.streamManager,c,n.property,n.newValue,u,n.reason)])}else J.error("No stream with streamId '"+n.streamId+"' found for connection '"+n.connectionId+"' on 'streamPropertyChanged' event")};n.connectionId===this.connection.connectionId?i(this.connection):this.getRemoteConnection(n.connectionId,"onStreamPropertyChanged").then(function(o){i(o)}).catch(function(o){J.error(o)})},e.prototype.onConnectionPropertyChanged=function(n){var r;switch(n.property){case"role":r=this.connection.role.slice(),this.connection.role=n.newValue,this.connection.localOptions.role=n.newValue;break;case"record":r=this.connection.record,n.newValue=n.newValue==="true",this.connection.record=n.newValue,this.connection.localOptions.record=n.newValue;break}this.ee.emitEvent("connectionPropertyChanged",[new qB.ConnectionPropertyChangedEvent(this,this.connection,n.property,n.newValue,r)])},e.prototype.onNetworkQualityLevelChangedChanged=function(n){var r=this;n.connectionId===this.connection.connectionId?this.ee.emitEvent("networkQualityLevelChanged",[new OD.NetworkQualityLevelChangedEvent(this,n.newValue,n.oldValue,this.connection)]):this.getConnection(n.connectionId,"Connection not found for connectionId "+n.connectionId).then(function(i){r.ee.emitEvent("networkQualityLevelChanged",[new OD.NetworkQualityLevelChangedEvent(r,n.newValue,n.oldValue,i)])}).catch(function(i){J.error(i)})},e.prototype.recvIceCandidate=function(n){var r={candidate:n.candidate,sdpMLineIndex:n.sdpMLineIndex,sdpMid:n.sdpMid},i=new RTCIceCandidate(r);this.getConnection(n.senderConnectionId,"Connection not found for connectionId "+n.senderConnectionId+" owning endpoint "+n.endpointName+". Ice candidate will be ignored: "+i).then(function(o){var s=o.stream;s.getWebRtcPeer().addIceCandidate(i).catch(function(a){J.error("Error adding candidate for "+s.streamId+" stream of endpoint "+n.endpointName+": "+a)})}).catch(function(o){J.error(o)})},e.prototype.onSessionClosed=function(n){J.info("Session closed: "+JSON.stringify(n));var r=n.sessionId;r!==void 0?this.ee.emitEvent("session-closed",[{session:r}]):J.warn("Session undefined on session closed",n)},e.prototype.onLostConnection=function(n){J.warn("Lost connection in Session "+this.sessionId),this.sessionId&&this.connection&&!this.connection.disposed&&this.leave(!0,n)},e.prototype.onRecoveredConnection=function(){J.info("Recovered connection in Session "+this.sessionId),this.reconnectBrokenStreams(),this.ee.emitEvent("reconnected",[])},e.prototype.onMediaError=function(n){J.error("Media error: "+JSON.stringify(n));var r=n.error;r?this.ee.emitEvent("error-media",[{error:r}]):J.warn("Received undefined media error:",n)},e.prototype.onRecordingStarted=function(n){this.ee.emitEvent("recordingStarted",[new Cv.RecordingEvent(this,"recordingStarted",n.id,n.name)])},e.prototype.onRecordingStopped=function(n){this.ee.emitEvent("recordingStopped",[new Cv.RecordingEvent(this,"recordingStopped",n.id,n.name,n.reason)])},e.prototype.onBroadcastStarted=function(){this.ee.emitEvent("broadcastStarted",[])},e.prototype.onBroadcastStopped=function(){this.ee.emitEvent("broadcastStopped",[])},e.prototype.onFilterEventDispatched=function(n){var r=this,i=n.connectionId;this.getConnection(i,"No connection found for connectionId "+i).then(function(o){J.info('Filter event of type "'.concat(n.eventType,'" dispatched'));var s=o.stream;if(!s||!s.filter)return J.error('Filter event of type "'.concat(n.eventType,'" dispatched for stream ').concat(s.streamId," but there is no ").concat(s?"filter":"stream"," defined"));var a=s.filter.handlers.get(n.eventType);if(!a||typeof a!="function"){var c=Array.from(s.filter.handlers.keys());return J.error('Filter event of type "'.concat(n.eventType,'" not handled or not a function! Active filter events: ').concat(c.join(",")))}else a.call(r,new $B.FilterEvent(s.filter,n.eventType,n.data))})},e.prototype.onForciblyReconnectSubscriber=function(n){var r=this;return new Promise(function(i,o){r.getRemoteConnection(n.connectionId,"onForciblyReconnectSubscriber").then(function(s){if(s.stream&&s.stream.streamId===n.streamId){var a=s.stream;if(a.setupReconnectionEventEmitter(i,o)){if(a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent!=null)return a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=n,o("Ongoing forced subscriber reconnection");a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=n;var c=function(){var l=a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent;delete a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent,r.onForciblyReconnectSubscriber(l)};a.reconnectionEventEmitter.once("success",function(){c()}),a.reconnectionEventEmitter.once("error",function(){c()});return}a.completeWebRtcPeerReceive(!0,!0,n.sdpOffer).then(function(){return a.finalResolveForSubscription(!0,i)}).catch(function(l){return a.finalRejectForSubscription(!0,"Error while forcibly reconnecting remote stream ".concat(n.streamId,": ").concat(l.toString()),o)})}else{var u="No stream with streamId '"+n.streamId+"' found for connection '"+n.connectionId+"' on 'streamPropertyChanged' event";return J.error(u),o(u)}}).catch(function(s){return J.error(s),o(s)})})},e.prototype.reconnectBrokenStreams=function(){J.info("Re-establishing media connections...");var n=!1;this.connection.stream&&this.connection.stream.streamIceConnectionStateBroken()&&(J.warn("Re-establishing Publisher "+this.connection.stream.streamId),this.connection.stream.initWebRtcPeerSend(!0),n=!0),this.remoteConnections.forEach(function(r){r.stream&&r.stream.streamIceConnectionStateBroken()&&(J.warn("Re-establishing Subscriber "+r.stream.streamId),r.stream.initWebRtcPeerReceive(!0),n=!0)}),n||J.info("There were no media streams in need of a reconnection")},e.prototype.onSpeechToTextMessage=function(n){return wv(this,void 0,void 0,function(){var r,i;return Sv(this,function(o){switch(o.label){case 0:return[4,this.getConnection(n.connectionId,"No connection found for connectionId "+n.connectionId)];case 1:return r=o.sent(),i=new zB.SpeechToTextEvent(this,r,n.text,n.reason.toLowerCase(),n.raw,n.lang),this.ee.emitEvent("speechToTextMessage",[i]),[2]}})})},e.prototype.onSpeechToTextDisconnected=function(n){return wv(this,void 0,void 0,function(){return Sv(this,function(r){return this.emitEvent("exception",[new RD.ExceptionEvent(this,RD.ExceptionEventName.SPEECH_TO_TEXT_DISCONNECTED,this,n.message)]),[2]})})},e.prototype.emitEvent=function(n,r){this.ee.emitEvent(n,r)},e.prototype.leave=function(n,r){var i=this;if(n=!!n,J.info("Leaving Session (forced="+n+")"),this.stopVideoDataIntervals(),this.connection){if(!this.connection.disposed&&!n?this.openvidu.sendRequest("leaveRoom",function(s,a){s&&J.error("leaveRoom error: ".concat(JSON.stringify(s))),i.openvidu.closeWs()}):this.openvidu.closeWs(),this.stopPublisherStream(r),!this.connection.disposed){var o=new HB.SessionDisconnectedEvent(this,r);this.ee.emitEvent("sessionDisconnected",[o]),o.callDefaultBehavior()}}else J.warn("You were not connected to the session "+this.sessionId);J.flush()},e.prototype.initializeParams=function(n){var r={token:n||"",session:this.sessionId,platform:Fe.getDescription()?Fe.getDescription():"unknown",sdkVersion:this.openvidu.libraryVersion,metadata:this.options.metadata?this.options.metadata:"",secret:this.openvidu.getSecret(),recorder:this.openvidu.getRecorder(),stt:this.openvidu.getStt()};return r},e.prototype.sendVideoData=function(n,r,i,o){var s=this,a,c;if(r===void 0&&(r=1),i===void 0&&(i=!1),o===void 0&&(o=1),Fe.isChromeBrowser()||Fe.isChromeMobileBrowser()||Fe.isOperaBrowser()||Fe.isOperaMobileBrowser()||Fe.isEdgeBrowser()||Fe.isEdgeMobileBrowser()||Fe.isElectron()||Fe.isSafariBrowser()&&!Fe.isIonicIos()||Fe.isAndroidBrowser()||Fe.isSamsungBrowser()||Fe.isIonicAndroid()||Fe.isIOSWithSafari()){var u=function(){return wv(s,void 0,void 0,function(){var d,f,h;return Sv(this,function(p){switch(p.label){case 0:return d=n.stream.getRTCPeerConnection(),d.connectionState!=="connected"?[3,2]:[4,d.getStats()];case 1:f=p.sent(),h=[],f.forEach(function(m){"frameWidth"in m&&"frameHeight"in m&&h.length===0&&h.push(m)}),h.length>0&&this.openvidu.sendRequest("videoData",{height:h[0].frameHeight,width:h[0].frameWidth,videoActive:n.stream.videoActive!=null?n.stream.videoActive:!1,audioActive:n.stream.audioActive!=null?n.stream.audioActive:!1},function(m,b){m&&J.error("Error sending 'videoData' event",m)}),p.label=2;case 2:return[2]}})})};if(i){var l=1;this.videoDataInterval=setInterval(function(){l<o?(l++,u()):clearInterval(s.videoDataInterval)},r*1e3)}else this.videoDataTimeout=setTimeout(u,r*1e3)}else Fe.isFirefoxBrowser()||Fe.isFirefoxMobileBrowser()||Fe.isIonicIos()||Fe.isReactNative()?this.openvidu.sendRequest("videoData",{height:((a=n.stream.videoDimensions)===null||a===void 0?void 0:a.height)||0,width:((c=n.stream.videoDimensions)===null||c===void 0?void 0:c.width)||0,videoActive:n.stream.videoActive!=null?n.stream.videoActive:!1,audioActive:n.stream.audioActive!=null?n.stream.audioActive:!1},function(d,f){d&&J.error("Error sending 'videoData' event",d)}):J.error("Browser "+Fe.getName()+" (version "+Fe.getVersion()+") for "+Fe.getFamily()+" is not supported in OpenVidu for Network Quality")},e.prototype.sessionConnected=function(){return this.connection!=null},e.prototype.notConnectedError=function(){return new cn.OpenViduError(cn.OpenViduErrorName.OPENVIDU_NOT_CONNECTED,"There is no connection to the session. Method 'Session.connect' must be successfully completed first")},e.prototype.anySpeechEventListenerEnabled=function(n,r,i){var o=this.ee.getListeners(n);r&&(o=o.filter(function(u){return u.once}));var s=o.length;if(s>0)return!0;var a=0;if(i){var c=i.ee.getListeners(n);r&&(c=c.filter(function(u){return u.once})),a=c.length}return a>0},e.prototype.getTokenParams=function(n){var r=n.match(/^(wss?)\:\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(r){var i={protocol:r[1],host:r[2],hostname:r[3],port:r[4],pathname:r[5],search:r[6],hash:r[7]},o=n.split("?"),s=decodeURI(o[1]).split("&").map(function(a){return a.split("=")}).reduce(function(a,c){var u=c[0],l=c[1];return a[u]=l,a},{});return{sessionId:s.sessionId,secret:s.secret,recorder:s.recorder,stt:s.stt,webrtcStatsInterval:s.webrtcStatsInterval,sendBrowserLogs:s.sendBrowserLogs,edition:s.edition,wsUri:i.protocol+"://"+i.host+"/openvidu",httpUri:"https://"+i.host}}else throw new Error('Token not valid: "'.concat(n,'"'))},e.prototype.connectAux=function(n){var r=this;return new Promise(function(i,o){r.openvidu.startWs(function(s){if(s)return o(s);var a=r.initializeParams(n);r.openvidu.sendRequest("joinRoom",a,function(c,u){if(c)return o(c);r.processJoinRoomResponse(u,n),r.connection=new Hd.Connection(r,u);var l={connections:new Array,streams:new Array},d=u.value;return d.forEach(function(f){var h=new Hd.Connection(r,f);r.remoteConnections.set(h.connectionId,h),l.connections.push(h),h.stream&&(r.remoteStreamsCreated.set(h.stream.streamId,!0),l.streams.push(h.stream))}),r.ee.emitEvent("connectionCreated",[new zd.ConnectionEvent(!1,r,"connectionCreated",r.connection,"")]),l.connections.forEach(function(f){r.ee.emitEvent("connectionCreated",[new zd.ConnectionEvent(!1,r,"connectionCreated",f,"")])}),l.streams.forEach(function(f){r.ee.emitEvent("streamCreated",[new Ja.StreamEvent(!1,r,"streamCreated",f,"")])}),u.recordingId&&u.recordingName&&r.ee.emitEvent("recordingStarted",[new Cv.RecordingEvent(r,"recordingStarted",u.recordingId,u.recordingName)]),i()})})})},e.prototype.stopPublisherStream=function(n){this.connection.stream&&(this.connection.stream.disposeWebRtcPeer(),this.connection.stream.isLocalStreamPublished&&this.connection.stream.ee.emitEvent("local-stream-destroyed",[n]))},e.prototype.stopVideoDataIntervals=function(){clearInterval(this.videoDataInterval),clearTimeout(this.videoDataTimeout)},e.prototype.stringClientMetadata=function(n){return typeof n!="string"?JSON.stringify(n):n},e.prototype.getConnection=function(n,r){var i=this;return new Promise(function(o,s){var a=i.remoteConnections.get(n);return a?o(a):i.connection.connectionId===n?o(i.connection):s(new cn.OpenViduError(cn.OpenViduErrorName.GENERIC_ERROR,r))})},e.prototype.getRemoteConnection=function(n,r){var i=this;return new Promise(function(o,s){var a=i.remoteConnections.get(n);if(a)return o(a);var c="Remote connection "+n+" unknown when '"+r+"'. Existing remote connections: "+JSON.stringify(i.remoteConnections.keys());return s(new cn.OpenViduError(cn.OpenViduErrorName.GENERIC_ERROR,c))})},e.prototype.processToken=function(n){var r=this.getTokenParams(n);this.sessionId=r.sessionId,r.secret&&(this.openvidu.secret=r.secret),r.recorder&&(this.openvidu.recorder=!0),r.stt&&(this.openvidu.stt=!0),r.webrtcStatsInterval&&(this.openvidu.webrtcStatsInterval=r.webrtcStatsInterval),r.sendBrowserLogs&&(this.openvidu.sendBrowserLogs=r.sendBrowserLogs),this.openvidu.isAtLeastPro=r.edition==="pro"||r.edition==="enterprise",this.openvidu.isEnterprise=r.edition==="enterprise",this.openvidu.wsUri=r.wsUri,this.openvidu.httpUri=r.httpUri},e.prototype.processJoinRoomResponse=function(n,r){if(this.sessionId=n.session,n.customIceServers!=null&&n.customIceServers.length>0){this.openvidu.iceServers=[];for(var i=0,o=n.customIceServers;i<o.length;i++){var s=o[i],a={urls:[s.url]};J.log("STUN/TURN server IP: "+s.url),s.username!=null&&s.credential!=null&&(a.username=s.username,a.credential=s.credential,J.log("TURN credentials ["+s.username+":"+s.credential+"]")),this.openvidu.iceServers.push(a)}}this.openvidu.role=n.role,this.openvidu.finalUserId=n.finalUserId,this.openvidu.mediaServer=n.mediaServer,this.openvidu.videoSimulcast=n.videoSimulcast,this.capabilities={subscribe:!0,publish:this.openvidu.role!=="SUBSCRIBER",forceUnpublish:this.openvidu.role==="MODERATOR",forceDisconnect:this.openvidu.role==="MODERATOR"},J.info("openvidu-server version: "+n.version),n.life!=null&&(this.openvidu.life=n.life);var c=xv(n.version)-xv(this.openvidu.libraryVersion);Iv(n.version)!==Iv(this.openvidu.libraryVersion)||!(c==0||c==1)?J.error("openvidu-browser (".concat(this.openvidu.libraryVersion,") and openvidu-server (").concat(n.version,") versions are incompatible. ")+"Errors are likely to occur. openvidu-browser SDK is only compatible with the same version or the immediately following minor version of an OpenVidu deployment"):c==1&&J.warn("openvidu-browser version ".concat(this.openvidu.libraryVersion," does not match openvidu-server version ").concat(n.version,". ")+"These versions are still compatible with each other, but openvidu-browser version must be updated as soon as possible to ".concat(Iv(n.version),".").concat(xv(n.version),".x. ")+"This client using openvidu-browser ".concat(this.openvidu.libraryVersion," will become incompatible with the next release of openvidu-server")),ND.OpenViduLogger.configureJSNLog(this.openvidu,r),this.token=r},e}(UB.EventDispatcher);Wn.Session=GB});var Bd=P(Kn=>{"use strict";var KB=Kn&&Kn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fr=Kn&&Kn.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},hr=Kn&&Kn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.Publisher=void 0;var YB=Xa(),QB=Fd(),ZB=md(),ec=jd(),Wd=Oi(),mt=Ni(),XB=ht(),JB=ur(),Gd=Nd(),Gn=XB.OpenViduLogger.getInstance(),Sn,eU=function(t){KB(e,t);function e(n,r,i){var o=t.call(this,new QB.Stream(i.session?i.session:new YB.Session(i),{publisherProperties:r,mediaConstraints:{}}),n)||this;return o.accessAllowed=!1,o.isSubscribedToRemote=!1,o.accessDenied=!1,Sn=JB.PlatformUtils.getInstance(),o.properties=r,o.openvidu=i,o.stream.ee.on("local-stream-destroyed",function(s){o.stream.isLocalStreamPublished=!1;var a=new ec.StreamEvent(!0,o,"streamDestroyed",o.stream,s);o.emitEvent("streamDestroyed",[a]),a.callDefaultBehavior()}),o}return e.prototype.publishAudio=function(n){var r=this;if(this.stream.audioActive!==n){var i=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream();i.getAudioTracks().forEach(function(o){o.enabled=n}),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"audioActive",newValue:n,reason:"publishAudio"},function(o,s){o?Gn.error("Error sending 'streamPropertyChanged' event",o):(r.session.emitEvent("streamPropertyChanged",[new Wd.StreamPropertyChangedEvent(r.session,r.stream,"audioActive",n,!n,"publishAudio")]),r.emitEvent("streamPropertyChanged",[new Wd.StreamPropertyChangedEvent(r,r.stream,"audioActive",n,!n,"publishAudio")]),r.session.sendVideoData(r.stream.streamManager))}),this.stream.audioActive=n,Gn.info("'Publisher' has "+(n?"published":"unpublished")+" its audio stream")}},e.prototype.publishVideo=function(n,r){var i=this;return new Promise(function(o,s){return fr(i,void 0,void 0,function(){var a,c,u,l,d,f,h=this;return hr(this,function(p){switch(p.label){case 0:return this.stream.videoActive===n?[3,9]:(a=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),c=!1,a.getVideoTracks().forEach(function(m){m.enabled=n,!n&&r===!0?m.stop():n&&m.readyState==="ended"&&(c=!0)}),!n&&r===!0&&this.stream.filter&&this.stream.filter.type.startsWith("VB:")?(this.stream.lastVBFilter=this.stream.filter,[4,this.stream.removeFilterAux(!0)]):[3,2]);case 1:p.sent(),p.label=2;case 2:return c?(u=a.getVideoTracks()[0],a.removeTrack(u),l=function(m){return fr(h,void 0,void 0,function(){var b=this;return hr(this,function(y){switch(y.label){case 0:return a.addTrack(m),this.stream.isLocalStreamPublished?[4,this.replaceTrackInRtcRtpSender(m)]:[3,2];case 1:y.sent(),y.label=2;case 2:return this.stream.lastVBFilter&&setTimeout(function(){return fr(b,void 0,void 0,function(){var O,w;return hr(this,function(x){switch(x.label){case 0:return O=this.stream.lastVBFilter.options,w=this.stream.lastVBFilter.lastExecMethod,w&&w.method==="update"&&(O=Object.assign({},O,w.params)),[4,this.stream.applyFilter(this.stream.lastVBFilter.type,O)];case 1:return x.sent(),delete this.stream.lastVBFilter,[2]}})})},1),[2]}})})},r&&r instanceof MediaStreamTrack?[4,l(r)]:[3,4]):[3,8];case 3:return p.sent(),[3,8];case 4:return p.trys.push([4,7,,8]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:this.stream.lastVideoTrackConstraints})];case 5:return d=p.sent(),[4,l(d.getVideoTracks()[0])];case 6:return p.sent(),[3,8];case 7:return f=p.sent(),[2,s(f)];case 8:return this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"videoActive",newValue:n,reason:"publishVideo"},function(m,b){m?Gn.error("Error sending 'streamPropertyChanged' event",m):(h.session.emitEvent("streamPropertyChanged",[new Wd.StreamPropertyChangedEvent(h.session,h.stream,"videoActive",n,!n,"publishVideo")]),h.emitEvent("streamPropertyChanged",[new Wd.StreamPropertyChangedEvent(h,h.stream,"videoActive",n,!n,"publishVideo")]),h.session.sendVideoData(h.stream.streamManager))}),this.stream.videoActive=n,Gn.info("'Publisher' has "+(n?"published":"unpublished")+" its video stream"),[2,o()];case 9:return[2]}})})})},e.prototype.subscribeToRemote=function(n){n=n!==void 0?n:!0,this.isSubscribedToRemote=n,this.stream.subscribeToMyRemote(n)},e.prototype.on=function(n,r){var i=this;return t.prototype.on.call(this,n,r),n==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new ec.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.on("stream-created-by-publisher",function(){i.emitEvent("streamCreated",[new ec.StreamEvent(!1,i,"streamCreated",i.stream,"")])})),n==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),n==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},e.prototype.once=function(n,r){var i=this;return t.prototype.once.call(this,n,r),n==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new ec.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.once("stream-created-by-publisher",function(){i.emitEvent("streamCreated",[new ec.StreamEvent(!1,i,"streamCreated",i.stream,"")])})),n==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),n==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},e.prototype.off=function(n,r){return t.prototype.off.call(this,n,r),this},e.prototype.replaceTrack=function(n){return fr(this,void 0,void 0,function(){return hr(this,function(r){return[2,this.replaceTrackAux(n,!0)]})})},e.prototype.initialize=function(){var n=this;return new Promise(function(r,i){return fr(n,void 0,void 0,function(){var o,s,a,c,u,l,d,f,h,p,m,b,b,y,O,w=this,x,D;return hr(this,function(T){switch(T.label){case 0:o={},s={},a=2e3,u=function(C){return w.accessDenied=!0,w.accessAllowed=!1,Gn.error("Publisher initialization failed. ".concat(C.name,": ").concat(C.message)),i(C)},l=function(C){var g,M;if(w.accessAllowed=!0,w.accessDenied=!1,typeof MediaStreamTrack<"u"&&w.properties.audioSource instanceof MediaStreamTrack&&(C.removeTrack(C.getAudioTracks()[0]),C.addTrack(w.properties.audioSource)),typeof MediaStreamTrack<"u"&&w.properties.videoSource instanceof MediaStreamTrack&&(C.removeTrack(C.getVideoTracks()[0]),C.addTrack(w.properties.videoSource)),C.getAudioTracks()[0]){var N=w.stream.audioActive!==void 0&&w.stream.audioActive!==null?w.stream.audioActive:!!w.stream.outboundStreamOpts.publisherProperties.publishAudio;C.getAudioTracks()[0].enabled=N}if(C.getVideoTracks()[0]){var N=w.stream.videoActive!==void 0&&w.stream.videoActive!==null?w.stream.videoActive:!!w.stream.outboundStreamOpts.publisherProperties.publishVideo;C.getVideoTracks()[0].enabled=N}for(var B=0,Y=C.getAudioTracks();B<Y.length;B++){var S=Y[B];!((g=S.contentHint)===null||g===void 0)&&g.length||(S.contentHint="",Gn.info("Audio track Content Hint set: '".concat(S.contentHint,"'")))}for(var E=0,I=C.getVideoTracks();E<I.length;E++){var S=I[E];if(!(!((M=S.contentHint)===null||M===void 0)&&M.length)){switch(w.stream.typeOfVideo){case Gd.TypeOfVideo.SCREEN:S.contentHint="detail";break;case Gd.TypeOfVideo.CUSTOM:Gn.warn("CUSTOM type video track was provided without Content Hint!"),S.contentHint="motion";break;case Gd.TypeOfVideo.CAMERA:case Gd.TypeOfVideo.IPCAM:default:S.contentHint="motion";break}Gn.info("Video track Content Hint set: '".concat(S.contentHint,"'"))}}return w.initializeVideoReference(C),w.stream.displayMyRemote()||w.stream.updateMediaStreamInVideos(),delete w.firstVideoElement,w.stream.isSendVideo()?w.getVideoDimensions().then(function(A){w.stream.videoDimensions={width:A.width,height:A.height},w.stream.isSendScreen()&&(w.stream.isSendAudio()&&C.getAudioTracks().length===0&&(w.stream.audioActive=!1,w.stream.hasAudio=!1,w.stream.outboundStreamOpts.publisherProperties.publishAudio=!1,w.stream.outboundStreamOpts.publisherProperties.audioSource=!1),w.screenShareResizeInterval=setInterval(function(){var F=C.getVideoTracks()[0].getSettings(),R=F.width,q=F.height,ae=R!=null&&R!==w.stream.videoDimensions.width,Se=q!=null&&q!==w.stream.videoDimensions.height;w.stream.isLocalStreamPublished&&(ae||Se)&&w.openvidu.sendVideoDimensionsChangedEvent(w,"screenResized",w.stream.videoDimensions.width,w.stream.videoDimensions.height,R||0,q||0)},650)),w.stream.isLocalStreamReadyToPublish=!0,w.stream.ee.emitEvent("stream-ready-to-publish",[])}):(w.stream.isLocalStreamReadyToPublish=!0,w.stream.ee.emitEvent("stream-ready-to-publish",[])),r()},d=function(C,g){return fr(w,void 0,void 0,function(){var M,N;return hr(this,function(B){switch(B.label){case 0:if(this.clearPermissionDialogTimer(c,a),!(this.stream.isSendScreen()&&this.properties.audioSource!=="screen"&&this.stream.isSendAudio()))return[3,5];s.audio=g,s.video=!1,c=Date.now(),this.setPermissionDialogTimer(a),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(s)];case 2:return M=B.sent(),this.clearPermissionDialogTimer(c,a),C.addTrack(M.getAudioTracks()[0]),l(C),[3,4];case 3:return N=B.sent(),this.clearPermissionDialogTimer(c,a),C.getAudioTracks().forEach(function(Y){Y.stop()}),C.getVideoTracks().forEach(function(Y){Y.stop()}),u(this.openvidu.generateAudioDeviceError(N,o)),[2];case 4:return[3,6];case 5:l(C),B.label=6;case 6:return[2]}})})},f=function(C){return fr(w,void 0,void 0,function(){var g,M,N,Y,B,Y,S;return hr(this,function(E){switch(E.label){case 0:switch(Gn.error("getMediaError: ".concat(C.toString())),this.clearPermissionDialogTimer(c,a),C.name==="Error"&&(C.name=C.constructor.name),N=C.name.toLowerCase(),N){case"notfounderror":return[3,1];case"notallowederror":return[3,5];case"overconstrainederror":return[3,6];case"aborterror":return[3,10];case"notreadableerror":return[3,10]}return[3,11];case 1:return E.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:o.video})];case 2:return Y=E.sent(),Y.getVideoTracks().forEach(function(I){I.stop()}),g=mt.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,M=C.toString(),u(new mt.OpenViduError(g,M)),[3,4];case 3:return B=E.sent(),g=mt.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,M=B.toString(),u(new mt.OpenViduError(g,M)),[3,4];case 4:return[3,12];case 5:return g=this.stream.isSendScreen()?mt.OpenViduErrorName.SCREEN_CAPTURE_DENIED:mt.OpenViduErrorName.DEVICE_ACCESS_DENIED,M=C.toString(),u(new mt.OpenViduError(g,M)),[3,12];case 6:return E.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:o.video})];case 7:return Y=E.sent(),Y.getVideoTracks().forEach(function(I){I.stop()}),C.constraint.toLowerCase()==="deviceid"?(g=mt.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,M="Audio input device with deviceId '"+o.audio.deviceId.exact+"' not found"):(g=mt.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,M="Audio input device doesn't support the value passed for constraint '"+C.constraint+"'"),u(new mt.OpenViduError(g,M)),[3,9];case 8:return S=E.sent(),S.constraint.toLowerCase()==="deviceid"?(g=mt.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,M="Video input device with deviceId '"+o.video.deviceId.exact+"' not found"):(g=mt.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,M="Video input device doesn't support the value passed for constraint '"+S.constraint+"'"),u(new mt.OpenViduError(g,M)),[3,9];case 9:return[3,12];case 10:return g=mt.OpenViduErrorName.DEVICE_ALREADY_IN_USE,M=C.toString(),u(new mt.OpenViduError(g,M)),[3,12];case 11:return g=mt.OpenViduErrorName.GENERIC_ERROR,M=C.toString(),u(new mt.OpenViduError(g,M)),[3,12];case 12:return[2]}})})},T.label=1;case 1:return T.trys.push([1,14,,15]),[4,this.openvidu.generateMediaConstraints(this.properties)];case 2:return h=T.sent(),h.videoTrack&&h.audioTrack||h.audioTrack&&((x=h.constraints)===null||x===void 0?void 0:x.video)===!1||h.videoTrack&&((D=h.constraints)===null||D===void 0?void 0:D.audio)===!1?(l(this.openvidu.addAlreadyProvidedTracks(h,new MediaStream,this.stream)),[3,13]):[3,3];case 3:o=h.constraints,p={mediaConstraints:o,publisherProperties:this.properties},this.stream.setOutboundStreamOptions(p),m=o.audio===void 0?!0:o.audio,s.audio=this.stream.isSendScreen()?!1:m,s.video=o.video,c=Date.now(),this.setPermissionDialogTimer(a),T.label=4;case 4:return T.trys.push([4,11,,13]),this.stream.isSendScreen()&&navigator.mediaDevices.getDisplayMedia&&!Sn.isElectron()?[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:this.properties.audioSource==="screen"})]:[3,7];case 5:return b=T.sent(),this.openvidu.addAlreadyProvidedTracks(h,b),[4,d(b,m)];case 6:return T.sent(),[3,10];case 7:return this.stream.lastVideoTrackConstraints=s.video,[4,navigator.mediaDevices.getUserMedia(s)];case 8:return b=T.sent(),this.openvidu.addAlreadyProvidedTracks(h,b,this.stream),[4,d(b,m)];case 9:T.sent(),T.label=10;case 10:return[3,13];case 11:return y=T.sent(),[4,f(y)];case 12:return T.sent(),[3,13];case 13:return[3,15];case 14:return O=T.sent(),u(O),[3,15];case 15:return[2]}})})})},e.prototype.replaceTrackAux=function(n,r){return fr(this,void 0,void 0,function(){var i,o;return hr(this,function(s){switch(s.label){case 0:i=n.enabled,n.kind==="video"?n.enabled=this.stream.videoActive:n.kind==="audio"&&(n.enabled=this.stream.audioActive),s.label=1;case 1:return s.trys.push([1,5,,6]),this.stream.isLocalStreamPublished?(this.replaceTrackInMediaStream(n,r),[4,this.replaceTrackInRtcRtpSender(n)]):[3,3];case 2:return[2,s.sent()];case 3:return[2,this.replaceTrackInMediaStream(n,r)];case 4:return[3,6];case 5:throw o=s.sent(),n.enabled=i,o;case 6:return[2]}})})},e.prototype.getVideoDimensions=function(){var n=this;return new Promise(function(r,i){var o=(Sn.isIonicIos()||Sn.isIOSWithSafari())&&n.videoReference.readyState<1,s,a=function(){var c,u;if(typeof n.stream.getMediaStream().getVideoTracks()[0].getSettings=="function"){var l=n.stream.getMediaStream().getVideoTracks()[0].getSettings();c=l.width||n.videoReference.videoWidth,u=l.height||n.videoReference.videoHeight}else Gn.warn("MediaStreamTrack does not have getSettings method on "+Sn.getDescription()),c=n.videoReference.videoWidth,u=n.videoReference.videoHeight;return s!=null&&n.videoReference.removeEventListener("loadedmetadata",s),o&&document.body.removeChild(n.videoReference),r({width:c,height:u})};n.videoReference.readyState>=1?a():(s=function(){if(n.videoReference.videoWidth)a();else var c=setInterval(function(){n.videoReference.videoWidth&&(clearInterval(c),a())},40)},n.videoReference.addEventListener("loadedmetadata",s),o&&document.body.appendChild(n.videoReference))})},e.prototype.reestablishStreamPlayingEvent=function(){this.ee.getListeners("streamPlaying").length>0&&this.addPlayEventToFirstVideo()},e.prototype.initializeVideoReference=function(n){this.videoReference=document.createElement("video"),this.videoReference.style.display="none",this.videoReference.muted=!0,this.videoReference.autoplay=!0,this.videoReference.controls=!1,(Sn.isSafariBrowser()||Sn.isIPhoneOrIPad()&&(Sn.isChromeMobileBrowser()||Sn.isEdgeMobileBrowser()||Sn.isOperaMobileBrowser()||Sn.isFirefoxMobileBrowser()))&&(this.videoReference.playsInline=!0),this.stream.setMediaStream(n),this.firstVideoElement&&this.createVideoElement(this.firstVideoElement.targetElement,this.properties.insertMode),this.videoReference.srcObject=this.stream.getMediaStream()},e.prototype.replaceTrackInMediaStream=function(n,r){var i=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),o;n.kind==="video"?(o=i.getVideoTracks()[0],r&&(this.stream.lastVideoTrackConstraints=n.getConstraints())):o=i.getAudioTracks()[0],o.enabled=!1,o.stop(),i.removeTrack(o),i.addTrack(n);var s={oldLabel:o?.label||"",newLabel:n?.label||""};n.kind==="video"&&r?(this.openvidu.sendNewVideoDimensionsIfRequired(this,"trackReplaced",50,30),this.openvidu.sendTrackChangedEvent(this,s.oldLabel,s.newLabel,"videoTrack"),this.stream.isLocalStreamPublished&&this.session.sendVideoData(this.stream.streamManager,5,!0,5)):n.kind==="audio"&&r&&this.openvidu.sendTrackChangedEvent(this,s.oldLabel,s.newLabel,"audioTrack"),n.kind==="audio"&&(this.stream.disableHarkSpeakingEvent(!1),this.stream.disableHarkStoppedSpeakingEvent(!1),this.stream.disableHarkVolumeChangeEvent(!1),this.stream.initHarkEvents())},e.prototype.setPermissionDialogTimer=function(n){var r=this;this.permissionDialogTimeout=setTimeout(function(){r.emitEvent("accessDialogOpened",[])},n)},e.prototype.clearPermissionDialogTimer=function(n,r){clearTimeout(this.permissionDialogTimeout),Date.now()-n>r&&this.emitEvent("accessDialogClosed",[])},e.prototype.replaceTrackInRtcRtpSender=function(n){return fr(this,void 0,void 0,function(){var r,i;return hr(this,function(o){switch(o.label){case 0:if(r=this.stream.getRTCPeerConnection().getSenders(),n.kind==="video"){if(i=r.find(function(s){return!!s.track&&s.track.kind==="video"}),!i)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else if(n.kind==="audio"){if(i=r.find(function(s){return!!s.track&&s.track.kind==="audio"}),!i)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else throw new Error("Unknown track kind "+n.kind);return[4,i.replaceTrack(n)];case 1:return o.sent(),[2]}})})},e}(ZB.StreamManager);Kn.Publisher=eU});var FD=P(kD=>{"use strict";globalThis.getScreenId=function(t,e,n){if(navigator.userAgent.indexOf("Edge")!==-1&&(navigator.msSaveOrOpenBlob||navigator.msSaveBlob)){e({video:!0});return}if(navigator.mozGetUserMedia){e(null,"firefox",{video:{mozMediaSource:t,mediaSource:t}});return}globalThis.addEventListener("message",r);function r(i){i.data&&(i.data.chromeMediaSourceId&&(i.data.chromeMediaSourceId==="PermissionDeniedError"?e("permission-denied"):e(null,i.data.chromeMediaSourceId,PD(null,i.data.chromeMediaSourceId,i.data.canRequestAudioTrack)),globalThis.removeEventListener("message",r)),i.data.chromeExtensionStatus&&(e(i.data.chromeExtensionStatus,null,PD(i.data.chromeExtensionStatus)),globalThis.removeEventListener("message",r)))}setTimeout(n?function(){Kd(n)}:Kd,100)};function PD(t,e,n){var r={audio:!1,video:{mandatory:{chromeMediaSource:t?"screen":"desktop",maxWidth:globalThis.screen.width>1920?globalThis.screen.width:1920,maxHeight:globalThis.screen.height>1080?globalThis.screen.height:1080},optional:[]}};return n&&(r.audio={mandatory:{chromeMediaSource:t?"screen":"desktop"},optional:[]}),e&&(r.video.mandatory.chromeMediaSourceId=e,r.audio&&r.audio.mandatory&&(r.audio.mandatory.chromeMediaSourceId=e)),r}function Kd(t){if(!Rt){Mv(function(){Kd(t)});return}if(!Rt.isLoaded){setTimeout(function(){Kd(t)},100);return}t?t.forEach?Rt.contentWindow.postMessage({captureCustomSourceId:t},"*"):Rt.contentWindow.postMessage({captureSourceIdWithAudio:!0},"*"):Rt.contentWindow.postMessage({captureSourceId:!0},"*")}var Rt;globalThis.getScreenConstraints=function(t){Mv(function(){getScreenId(function(e,n,r){r||(r={video:!0}),t(e,r.video)})})};function Mv(t){if(Rt){t();return}Rt=document.createElement("iframe"),Rt.onload=function(){Rt.isLoaded=!0,t()},Rt.src="https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/",Rt.style.display="none",(document.body||document.documentElement).appendChild(Rt)}globalThis.getChromeExtensionStatus=function(t){if(navigator.mozGetUserMedia){t("installed-enabled");return}globalThis.addEventListener("message",e);function e(n){n.data&&n.data.chromeExtensionStatus&&(t(n.data.chromeExtensionStatus),globalThis.removeEventListener("message",e))}setTimeout(Tv,100)};function Tv(){if(!Rt){Mv(Tv);return}if(!Rt.isLoaded){setTimeout(Tv,100);return}Rt.contentWindow.postMessage({getChromeExtensionStatus:!0},"*")}kD.getScreenId=globalThis.getScreenId});var BD=P(us=>{"use strict";var Wr="screen",Gr,cs;typeof window<"u"&&typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(Av=typeof window.InstallTrigger<"u",LD=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,tU=!!window.chrome&&!LD,window.addEventListener("message",function(t){t.origin==window.location.origin&&nU(t.data)}));var Av,LD,tU;function nU(t){if(t=="PermissionDeniedError"){if(cs)return cs("PermissionDeniedError");throw new Error("PermissionDeniedError")}t=="rtcmulticonnection-extension-loaded"&&(Wr="desktop"),t.sourceId&&cs&&cs(Gr=t.sourceId,t.canRequestAudioTrack===!0)}function rU(t){if(t){if(Wr=="desktop")return t(!0);window.postMessage("are-you-there","*"),setTimeout(function(){Wr=="screen"?t(!1):t(!0)},2e3)}}function VD(t){if(!t)throw'"callback" parameter is mandatory.';if(Gr)return t(Gr);cs=t,window.postMessage("get-sourceId","*")}function iU(t){if(!t)throw'"callback" parameter is mandatory.';if(Gr)return t(Gr);cs=t,window.postMessage("audio-plus-tab","*")}function oU(t,e){if(Av)return e("not-chrome");arguments.length!=2&&(e=t,t="lfcgfepafnobdloecchnfaclibenjold");var n=document.createElement("img");n.src="chrome-extension://"+t+"/icon.png",n.onload=function(){Wr="screen",window.postMessage("are-you-there","*"),setTimeout(function(){Wr=="screen"?e("installed-disabled"):e("installed-enabled")},2e3)},n.onerror=function(){e("not-installed")}}function sU(t){jD(t,!0)}function jD(t,e){Gr="";var n={mozMediaSource:"window",mediaSource:"window"};if(Av)return t(null,n);var r={mandatory:{chromeMediaSource:Wr,maxWidth:screen.width>1920?screen.width:1920,maxHeight:screen.height>1080?screen.height:1080},optional:[]};if(Wr=="desktop"&&!Gr){e?iU(function(i,o){r.mandatory.chromeMediaSourceId=i,o&&(r.canRequestAudioTrack=!0),t(i=="PermissionDeniedError"?i:null,r)}):VD(function(i){r.mandatory.chromeMediaSourceId=i,t(i=="PermissionDeniedError"?i:null,r)});return}Wr=="desktop"&&(r.mandatory.chromeMediaSourceId=Gr),t(null,r)}us.getScreenConstraints=jD;us.getScreenConstraintsWithAudio=sU;us.isChromeExtensionAvailable=rU;us.getChromeExtensionStatus=oU;us.getSourceId=VD});var ZD=P((BQ,Ov)=>{"use strict";var ls=typeof Reflect=="object"?Reflect:null,UD=ls&&typeof ls.apply=="function"?ls.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Yd;ls&&typeof ls.ownKeys=="function"?Yd=ls.ownKeys:Object.getOwnPropertySymbols?Yd=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Yd=function(e){return Object.getOwnPropertyNames(e)};function aU(t){console&&console.warn&&console.warn(t)}var HD=Number.isNaN||function(e){return e!==e};function Oe(){Oe.init.call(this)}Ov.exports=Oe;Ov.exports.once=dU;Oe.EventEmitter=Oe;Oe.prototype._events=void 0;Oe.prototype._eventsCount=0;Oe.prototype._maxListeners=void 0;var $D=10;function Qd(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Oe,"defaultMaxListeners",{enumerable:!0,get:function(){return $D},set:function(t){if(typeof t!="number"||t<0||HD(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");$D=t}});Oe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Oe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||HD(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function zD(t){return t._maxListeners===void 0?Oe.defaultMaxListeners:t._maxListeners}Oe.prototype.getMaxListeners=function(){return zD(this)};Oe.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")UD(c,this,n);else for(var u=c.length,l=YD(c,u),r=0;r<u;++r)UD(l[r],this,n);return!0};function qD(t,e,n,r){var i,o,s;if(Qd(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=zD(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,aU(a)}return t}Oe.prototype.addListener=function(e,n){return qD(this,e,n,!1)};Oe.prototype.on=Oe.prototype.addListener;Oe.prototype.prependListener=function(e,n){return qD(this,e,n,!0)};function cU(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function WD(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=cU.bind(r);return i.listener=n,r.wrapFn=i,i}Oe.prototype.once=function(e,n){return Qd(n),this.on(e,WD(this,e,n)),this};Oe.prototype.prependOnceListener=function(e,n){return Qd(n),this.prependListener(e,WD(this,e,n)),this};Oe.prototype.removeListener=function(e,n){var r,i,o,s,a;if(Qd(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():uU(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Oe.prototype.off=Oe.prototype.removeListener;Oe.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function GD(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?lU(i):YD(i,i.length)}Oe.prototype.listeners=function(e){return GD(this,e,!0)};Oe.prototype.rawListeners=function(e){return GD(this,e,!1)};Oe.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):KD.call(t,e)};Oe.prototype.listenerCount=KD;function KD(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Oe.prototype.eventNames=function(){return this._eventsCount>0?Yd(this._events):[]};function YD(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function uU(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function lU(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function dU(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}QD(t,e,o,{once:!0}),e!=="error"&&fU(t,i,{once:!0})})}function fU(t,e,n){typeof t.on=="function"&&QD(t,"error",e,n)}function QD(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var XD=P((UQ,Rv)=>{"use strict";typeof Object.create=="function"?Rv.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Rv.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}});var JD=P(Nv=>{"use strict";function hU(t,e){var n={jsonrpc:"2.0"};if(t.method)n.method=t.method,t.params&&(n.params=t.params),e!=null&&(n.id=e);else if(e!=null){if(t.error){if(t.result!==void 0)throw new TypeError("Both result and error are defined");n.error=t.error}else if(t.result!==void 0)n.result=t.result;else throw new TypeError("No result or error is defined");n.id=e}return JSON.stringify(n)}function pU(t){var e=t;(typeof t=="string"||t instanceof String)&&(e=JSON.parse(t));var n=e.jsonrpc;if(n!=="2.0")throw new TypeError("Invalid JsonRPC version '"+n+"': "+t);if(e.method==null){if(e.id==null)throw new TypeError("Invalid message: "+t);var r=e.result!==void 0,i=e.error!==void 0;if(r&&i)throw new TypeError("Both result and error are defined: "+t);if(!r&&!i)throw new TypeError("No result or error is defined: "+t);e.ack=e.id,delete e.id}return e}Nv.pack=hU;Nv.unpack=pU});var eI=P(Pv=>{"use strict";function mU(t){throw new TypeError("Not yet implemented")}function gU(t){throw new TypeError("Not yet implemented")}Pv.pack=mU;Pv.unpack=gU});var tI=P(kv=>{"use strict";var vU=JD(),bU=eI();kv.JsonRPC=vU;kv.XmlRPC=bU});var iI=P((qQ,rI)=>{"use strict";function nI(){var t={};this.forEach=function(e){for(var n in t){var r=t[n];for(var i in r)e(r[i])}},this.get=function(e,n){var r=t[n];if(r!=null)return r[e]},this.remove=function(e,n){var r=t[n];if(r!=null){delete r[e];for(var i in r)return!1;delete t[n]}},this.set=function(e,n,r){if(e==null)return this.remove(n,r);var i=t[r];i==null&&(t[r]=i={}),i[n]=e}}nI.prototype.pop=function(t,e){var n=this.get(t,e);if(n!=null)return this.remove(t,e),n};rI.exports=nI});var Fv=P((WQ,sI)=>{"use strict";var yU=ht().OpenViduLogger,un=yU.getInstance(),oI=2e3,EU=3e3,_U=3;function wU(t){var e=!1,n,r=t.uri,i=!1,o=new WebSocket(r);o.onopen=function(){un.debug("WebSocket connected to "+r),t.onconnected&&t.onconnected()},o.onerror=function(l){un.error("Could not connect to "+r+" (invoking onerror if defined)",l),t.onerror&&t.onerror(l)};var s=function(){o.readyState===_U?e?un.debug("Connection closed by user"):t.ismasternodecrashed()?un.error("Master Node has crashed. Stopping reconnection process"):(un.debug("Connection closed unexpectedly. Reconnecting..."),a(oI,1)):un.debug("Close callback from previous websocket. Ignoring it")};o.onclose=s;function a(l,d){if(un.debug("reconnect (attempt #"+d+", max="+l+")"),d===1){if(i){un.warn("Trying to reconnect when already reconnecting... Ignoring this reconnection.");return}else i=!0;t.onreconnecting&&t.onreconnecting()}u(l,d)}function c(l){var d=new URLSearchParams(new URL(l).search);return d.has("reconnect")||(l=Array.from(d).length>0?l+"&reconnect=true":l+"?reconnect=true"),l}function u(l,d){un.debug("Reconnection attempt #"+d),o.close(4104,"Connection closed for reconnection"),r=c(r),o=new WebSocket(r),o.onopen=function(){un.debug("Reconnected to "+r+" after "+d+" attempts..."),i=!1,n(),t.onreconnected&&t.onreconnected(),o.onclose=s},o.onerror=function(f){un.warn("Reconnection error: ",f),d===l?t.ondisconnect&&t.ondisconnect():setTimeout(function(){a(l,d+1)},EU)}}this.close=function(l,d){e=!0,o.close(l,d)},this.reconnectWs=function(){un.debug("reconnectWs"),a(oI,1)},this.send=function(l){o.send(l)},this.addEventListener=function(l,d){n=function(){o.addEventListener(l,d)},n()},this.getReadyState=function(){return o.readyState}}sI.exports=wU});var dI=P((GQ,lI)=>{"use strict";var aI=Lv(),SU=Fv(),CU=ht().OpenViduLogger;Date.now=Date.now||function(){return+new Date};var DU=5e3,cI="RECONNECTING",Zd="CONNECTED",uI="DISCONNECTED",Ke=CU.getInstance();function IU(t){var e=this,n=t.ws,r=-1,i=0,o=!0,s=!1,a,c=uI,u=n.onreconnecting,l=n.onreconnected,d=n.onconnected,f=n.onerror;t.rpc.pull=function(x,D){D.reply(null,"push")},n.onreconnecting=function(){if(Ke.debug("--------- ONRECONNECTING -----------"),c===cI){Ke.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it");return}w(),c=cI,u&&u()},n.onreconnected=function(){if(Ke.debug("--------- ONRECONNECTED -----------"),c===Zd){Ke.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it");return}c=Zd,b(),l&&l()},n.onconnected=function(){if(Ke.debug("--------- ONCONNECTED -----------"),c===Zd){Ke.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it");return}c=Zd,o=!0,O(),d&&d()},n.onerror=function(x){Ke.debug("--------- ONERROR -----------"),c=uI,w(),f&&f(x)};var h=new SU(n);Ke.debug("Connecting websocket to URI: "+n.uri);var p={request_timeout:t.rpc.requestTimeout,ping_request_timeout:t.rpc.heartbeatRequestTimeout},m=new aI(aI.packers.JsonRPC,p,h,function(x){Ke.debug("Received request: "+JSON.stringify(x));try{var D=t.rpc[x.method];D===void 0?Ke.error("Method "+x.method+" not registered in client"):D(x.params,x)}catch(T){Ke.error("Exception processing request: "+JSON.stringify(x)),Ke.error(T)}});this.send=function(x,D,T){var C=Date.now();m.encode(x,D,function(g,M){if(g){try{Ke.error("ERROR:"+g.message+" in Request: method:"+x+" params:"+JSON.stringify(D)+" request:"+g.request),g.data&&Ke.error("ERROR DATA:"+JSON.stringify(g.data))}catch{}g.requestTime=C}T&&(M!=null&&M.value!=="pong"&&Ke.debug("Response: "+JSON.stringify(M)),T(g,M))})};function b(){Ke.debug("notReconnectIfNumLessThan = "+i+" (old="+r+")"),r=i}function y(){if(o){var x=null;(i==0||i==r)&&(x={interval:t.heartbeat||DU}),i++,e.send("ping",x,function(D){return function(T,C){T&&(Ke.debug("Error in ping request #"+D+" ("+T.message+")"),D>r&&(o=!1,b(),Ke.debug("Server did not respond to ping message #"+D+". Reconnecting... "),h.reconnectWs()))}}(i))}else Ke.debug("Trying to send ping, but ping is not enabled")}function O(){s||(Ke.debug("Starting ping (if configured)"),s=!0,t.heartbeat!=null&&(a=setInterval(y,t.heartbeat),y()))}function w(){clearInterval(a),s=!1,o=!1,i=-1,m.cancel()}this.close=function(x,D){Ke.debug("Closing  with code: "+x+" because: "+D),a!=null&&(Ke.debug("Clearing ping interval"),clearInterval(a)),s=!1,o=!1,h.close(x,D)},this.reconnect=function(){h.reconnectWs()},this.resetPing=function(){o=!0,i=0,O()},this.getReadyState=function(){return h.getReadyState()}}lI.exports=IU});var hI=P(fI=>{"use strict";var xU=dI();fI.JsonRpcClient=xU});var mI=P(pI=>{"use strict";var TU=Fv();pI.WebSocketWithReconnection=TU});var Lv=P((QQ,bI)=>{"use strict";var fs=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch{fs=!0}Function.prototype.bind||(Function.prototype.bind=function(t){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var gI=ZD().EventEmitter,vI=XD(),MU=tI(),Vv=iI(),jv=5e3;function AU(t){if(!t)return{};for(var e in t){var n=t[e];typeof n=="string"&&(t[e]={response:n})}return t}function ds(t){if(t){if(t instanceof Function)return{send:t};if(t.send instanceof Function)return t;if(t.postMessage instanceof Function)return t.send=t.postMessage,t;if(t.write instanceof Function)return t.send=t.write,t;if(t.onmessage===void 0&&!(t.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function Xd(t,e){fs?(this.method=t,this.params=e):(Object.defineProperty(this,"method",{value:t,enumerable:!0}),Object.defineProperty(this,"params",{value:e,enumerable:!0}))}function hs(t,e,n,r){var i=this;if(!t)throw new SyntaxError("Packer is not defined");if(!t.pack||!t.unpack)throw new SyntaxError("Packer is invalid");var o=AU(t.responseMethods);if(e instanceof Function){if(n!=null)throw new SyntaxError("There can't be parameters after onRequest");r=e,n=void 0,e=void 0}if(e&&e.send instanceof Function){if(n&&!(n instanceof Function))throw new SyntaxError("Only a function can be after transport");r=n,n=e,e=void 0}if(n instanceof Function){if(r!=null)throw new SyntaxError("There can't be parameters after onRequest");r=n,n=void 0}if(n&&n.send instanceof Function&&r&&!(r instanceof Function))throw new SyntaxError("Only a function can be after transport");e=e||{},gI.call(this),r&&this.on("request",r),fs?this.peerID=e.peerID:Object.defineProperty(this,"peerID",{value:e.peerID});var s=e.max_retries||0;function a(D){i.decode(D.data||D)}this.getTransport=function(){return n},this.setTransport=function(D){n&&(n.removeEventListener?n.removeEventListener("message",a):n.removeListener&&n.removeListener("data",a)),D&&(D.addEventListener?D.addEventListener("message",a):D.addListener&&D.addListener("data",a)),n=ds(D)},fs||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(n);var c=e.request_timeout||jv,u=e.ping_request_timeout||c,l=e.response_timeout||jv,d=e.duplicates_timeout||jv,f=0,h=new Vv,p=new Vv,m=new Vv,b={};function y(D,T,C){var g={message:D,timeout:setTimeout(function(){p.remove(T,C)},l)};p.set(g,T,C)}function O(D,T){var C=setTimeout(function(){m.remove(D,T)},d);m.set(C,D,T)}function w(D,T,C,g,M){Xd.call(this,D,T),this.getTransport=function(){return M},this.setTransport=function(Y){M=ds(Y)},fs||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var N=p.get(C,g);M||i.getTransport()||(fs?this.duplicated=!!N:Object.defineProperty(this,"duplicated",{value:!!N}));var B=o[D];this.pack=t.pack.bind(t,this,C),this.reply=function(Y,S,E){if(Y instanceof Function||Y&&Y.send instanceof Function){if(S!=null)throw new SyntaxError("There can't be parameters after callback");E=Y,S=null,Y=void 0}else if(S instanceof Function||S&&S.send instanceof Function){if(E!=null)throw new SyntaxError("There can't be parameters after callback");E=S,S=null}E=ds(E),N&&clearTimeout(N.timeout),g!=null&&(Y&&(Y.dest=g),S&&(S.dest=g));var I;if(Y||S!=null){if(i.peerID!=null&&(Y?Y.from=i.peerID:S.from=i.peerID),B)if(B.error==null&&Y)I={error:Y};else{var A=Y?B.error:B.response;I={method:A,params:Y||S}}else I={error:Y,result:S};I=t.pack(I,C)}else N?I=N.message:I=t.pack({result:null},C);return y(I,C,g),E=E||this.getTransport()||i.getTransport(),E?E.send(I):I}}vI(w,Xd);function x(D){var T=b[D];if(T){delete b[D];var C=h.pop(T.id,T.dest);C&&(clearTimeout(C.timeout),O(T.id,T.dest))}}this.cancel=function(D){if(D)return x(D);for(var D in b)x(D)},this.close=function(){var D=this.getTransport();D&&D.close&&D.close(4003,"Cancel request"),this.cancel(),m.forEach(clearTimeout),p.forEach(function(T){clearTimeout(T.timeout)})},this.encode=function(D,T,C,g,M){if(T instanceof Function){if(C!=null)throw new SyntaxError("There can't be parameters after callback");M=T,g=void 0,C=void 0,T=void 0}else if(C instanceof Function){if(g!=null)throw new SyntaxError("There can't be parameters after callback");M=C,g=void 0,C=void 0}else if(g instanceof Function){if(M!=null)throw new SyntaxError("There can't be parameters after callback");M=g,g=void 0}i.peerID!=null&&(T=T||{},T.from=i.peerID),C!=null&&(T=T||{},T.dest=C);var N={method:D,params:T};if(M){let q=function(Te,fe){i.cancel(N),M(Te,fe)},ae=function(Te){var fe=D==="ping"?u:c;return S.timeout=setTimeout(Re,fe*Math.pow(2,Y++)),b[N]={id:B,dest:C},h.set(S,B,C),Te=Te||E||i.getTransport(),Te?Te.send(N):N},Se=function(Te){Te=ds(Te),console.warn(Y+" retry for request message:",N);var fe=m.pop(B,C);return clearTimeout(fe),ae(Te)},Re=function(){if(Y<s)return Se(g);var Te=new Error("Request has timed out");Te.request=N,Te.retry=Se,q(Te)};var I=q,A=ae,F=Se,R=Re,B=f++,Y=0;N=t.pack(N,B);var S={message:N,callback:q,responseMethods:o[D]||{}},E=ds(g);return ae(g)}return N=t.pack(N),g=g||this.getTransport(),g?g.send(N):N},this.decode=function(D,T){if(!D)throw new TypeError("Message is not defined");try{D=t.unpack(D)}catch(Re){return console.debug(Re,D)}var C=D.id,g=D.ack,M=D.method,N=D.params||{},B=N.from,Y=N.dest;if(i.peerID!=null&&B==i.peerID)return;if(C==null&&g==null){var S=new Xd(M,N);return i.emit("request",S)?void 0:S}function E(){if(T=ds(T)||i.getTransport(),T){var Re=p.get(C,B);if(Re)return T.send(Re.message)}var Te=C??g,fe=new w(M,N,Te,B,T);if(!i.emit("request",fe))return fe}function I(Re,Te,fe){Re.callback(Te,fe)}function A(Re){console.warn("Response already processed",D),clearTimeout(Re),O(g,B)}if(M){if(Y==null||Y==i.peerID){var Se=h.get(g,B);if(Se){var F=Se.responseMethods;return M==F.error?I(Se,N):M==F.response?I(Se,null,N):E()}var R=m.get(g,B);if(R)return A(R)}return E()}var q=D.error,ae=D.result;if(!(q&&q.dest&&q.dest!=i.peerID)&&!(ae&&ae.dest&&ae.dest!=i.peerID)){var Se=h.get(g,B);if(!Se){var R=m.get(g,B);return R?A(R):console.warn("No callback was defined for this message",D)}I(Se,q,ae)}}}vI(hs,gI);hs.RpcNotification=Xd;bI.exports=hs;var OU=hI(),RU=mI();hs.clients=OU;hs.clients.transports=RU;hs.packers=MU});var yI=P((ZQ,NU)=>{NU.exports={author:"OpenVidu",dependencies:{freeice:"2.2.2",hark:"1.2.3",jsnlog:"2.30.0",mime:"3.0.0",platform:"1.3.6",semver:"7.3.8",uuid:"9.0.0","wolfy87-eventemitter":"5.2.9",events:"3.3.0",inherits:"2.0.4"},description:"OpenVidu Browser",devDependencies:{"@types/node":"18.11.9","@types/platform":"1.3.4",browserify:"17.0.0",grunt:"1.5.3","grunt-cli":"1.4.3","grunt-contrib-copy":"1.0.0","grunt-contrib-sass":"2.0.0","grunt-contrib-uglify":"5.2.2","grunt-contrib-watch":"1.1.0","grunt-postcss":"0.9.0","grunt-string-replace":"1.3.3","grunt-ts":"6.0.0-beta.22",terser:"5.15.1",tsify:"5.0.4",tslint:"6.1.3",typedoc:"0.23.21",typescript:"4.9.3"},license:"Apache-2.0",main:"lib/index.js",name:"openvidu-browser",repository:{type:"git",url:"git://github.com/OpenVidu/openvidu"},scripts:{browserify:"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js Main.ts -p [ tsify ] --exclude kurento-browser-extensions --debug -o ../static/js/openvidu-browser-$VERSION.js -v","browserify-prod":"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js --debug Main.ts -p [ tsify ] --exclude kurento-browser-extensions | ../node_modules/terser/bin/terser --source-map content=inline --output ../static/js/openvidu-browser-$VERSION.min.js",build:"cd src/OpenVidu && ./../../node_modules/typescript/bin/tsc && cd ../.. && ./node_modules/typescript/bin/tsc --declaration src/index.ts --outDir ./lib --sourceMap --target es5 --lib dom,es5,es2015.promise,scripthost && rm -rf ./ts4.4 && mkdir -p ./ts4.4/lib && cp -r ./lib ./ts4.4 && find ./ts4.4/lib -type f ! -iname '*.d.ts' -delete && ./config/replace_for_ts44.sh",docs:"./generate-docs.sh"},types:"lib/index.d.ts",typesVersions:{"<4.4":{"*":["ts4.4/*"]}},version:"2.29.1"}});var CI=P(Kr=>{"use strict";var EI=Kr&&Kr.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},_I=Kr&&Kr.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.OpenVidu=void 0;var PU=Hg(),kU=Bd(),wI=Xa(),FU=Vd(),ps=Oi(),_e=Ni(),Bv=qa(),LU=ht(),VU=ur(),jU=FD(),SI=BD(),BU=Ug(),UU=ud(),$U=Lv(),HU=yI(),Le=LU.OpenViduLogger.getInstance(),be,zU=function(){function t(){var e=this;this.masterNodeHasCrashed=!1,this.publishers=[],this.secret="",this.recorder=!1,this.stt=!1,this.life=-1,this.advancedConfiguration={},this.webrtcStatsInterval=-1,this.sendBrowserLogs=BU.OpenViduLoggerConfiguration.disabled,this.isAtLeastPro=!1,this.isEnterprise=!1,this.ee=new UU,be=VU.PlatformUtils.getInstance(),this.libraryVersion=HU.version,Le.info("OpenVidu initialized"),Le.info("Platform detected: "+be.getDescription()),Le.info("openvidu-browser version: "+this.libraryVersion),(be.isMobileDevice()||be.isReactNative())&&this.onOrientationChanged(function(){e.publishers.forEach(function(n){n.stream.isLocalStreamPublished&&n.stream&&n.stream.hasVideo&&e.sendNewVideoDimensionsIfRequired(n,"deviceRotated",75,10)})})}return t.prototype.initSession=function(){return this.session=new wI.Session(this),this.session},t.prototype.initPublisher=function(e,n,r){var i;n&&typeof n!="function"?(i=n,i={audioSource:typeof i.audioSource<"u"?i.audioSource:void 0,frameRate:typeof MediaStreamTrack<"u"&&i.videoSource instanceof MediaStreamTrack?void 0:typeof i.frameRate<"u"?i.frameRate:void 0,insertMode:typeof i.insertMode<"u"?typeof i.insertMode=="string"?Bv.VideoInsertMode[i.insertMode]:i.insertMode:Bv.VideoInsertMode.APPEND,mirror:typeof i.mirror<"u"?i.mirror:!0,publishAudio:typeof i.publishAudio<"u"?i.publishAudio:!0,publishVideo:typeof i.publishVideo<"u"?i.publishVideo:!0,resolution:typeof MediaStreamTrack<"u"&&i.videoSource instanceof MediaStreamTrack?void 0:typeof i.resolution<"u"?i.resolution:"640x480",videoSource:typeof i.videoSource<"u"?i.videoSource:void 0,videoSimulcast:i.videoSimulcast,filter:i.filter}):i={insertMode:Bv.VideoInsertMode.APPEND,mirror:!0,publishAudio:!0,publishVideo:!0,resolution:"640x480"};var o=new kU.Publisher(e,i,this),s;return n&&typeof n=="function"?s=n:r&&(s=r),o.initialize().then(function(){s!==void 0&&s(void 0),o.emitEvent("accessAllowed",[])}).catch(function(a){s!==void 0&&s(a),o.emitEvent("accessDenied",[a])}),this.publishers.push(o),o},t.prototype.initPublisherAsync=function(e,n){var r=this;return new Promise(function(i,o){var s,a=function(c){return c?o(c):i(s)};n?s=r.initPublisher(e,n,a):s=r.initPublisher(e,a)})},t.prototype.initLocalRecorder=function(e){return new PU.LocalRecorder(e)},t.prototype.checkSystemRequirements=function(){return be.isIPhoneOrIPad()?be.isIOSWithSafari()||be.isChromeMobileBrowser()||be.isFirefoxMobileBrowser()||be.isOperaMobileBrowser()||be.isEdgeMobileBrowser()||be.isIonicIos():be.isChromeBrowser()||be.isChromeMobileBrowser()||be.isFirefoxBrowser()||be.isFirefoxMobileBrowser()||be.isOperaBrowser()||be.isOperaMobileBrowser()||be.isEdgeBrowser()||be.isEdgeMobileBrowser()||be.isSamsungBrowser()||be.isSafariBrowser()||be.isAndroidBrowser()||be.isElectron()||be.isNodeJs()||be.isMotorolaEdgeDevice()},t.prototype.checkScreenSharingCapabilities=function(){return be.canScreenShare()},t.prototype.getDevices=function(){return new Promise(function(e,n){navigator.mediaDevices.enumerateDevices().then(function(r){var i,o=[];if(be.isIonicAndroid()&&typeof cordova<"u"&&(!((i=cordova==null?void 0:cordova.plugins)===null||i===void 0)&&i.EnumerateDevicesPlugin))cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then(function(s){var a=[],c=[],u=[];return a=s.filter(function(l){return l.kind==="audioinput"}),c=r.filter(function(l){return l.kind==="videoinput"}),u=r.filter(function(l){return l.kind==="audioinput"}),c.forEach(function(l,d){if(l.label)o.push({kind:l.kind,deviceId:l.deviceId,label:l.label});else{var f="";d===0?f="Front Camera":d===1?f="Back Camera":f="Unknown Camera",o.push({kind:l.kind,deviceId:l.deviceId,label:f})}}),u.forEach(function(l,d){if(l.label)o.push({kind:l.kind,deviceId:l.deviceId,label:l.label});else{var f="";switch(d){case 0:f="Default";break;case 1:var h=a.filter(function(b){return b.label.includes("Built")})[0];f=h?h.label:"Built-in Microphone";break;case 2:var p=a.filter(function(b){return b.label.includes("Wired")})[0];p?f=p.label:f="Headset earpiece";break;case 3:var m=a.filter(function(b){return b.label.includes("Bluetooth")})[0];f=m?m.label:"Wireless";break;default:f="Unknown Microphone";break}o.push({kind:l.kind,deviceId:l.deviceId,label:f})}}),e(o)});else return r.forEach(function(s){(s.kind==="audioinput"||s.kind==="videoinput")&&o.push({kind:s.kind,deviceId:s.deviceId,label:s.label})}),e(o)}).catch(function(r){return Le.error("Error getting devices",r),n(r)})})},t.prototype.getUserMedia=function(e){var n,r;return EI(this,void 0,void 0,function(){var i,o,s,u,a,d,f,c,u,l,d,f,h,p=this;return _I(this,function(m){switch(m.label){case 0:i=function(b,y){return EI(p,void 0,void 0,function(){var O,w,x,D;return _I(this,function(T){switch(T.label){case 0:O=y.audio===void 0?!0:y.audio,w={audio:O,video:!1},T.label=1;case 1:return T.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(w)];case 2:return x=T.sent(),b.addTrack(x.getAudioTracks()[0]),[2,b];case 3:throw D=T.sent(),b.getAudioTracks().forEach(function(C){C.stop()}),b.getVideoTracks().forEach(function(C){C.stop()}),this.generateAudioDeviceError(D,w);case 4:return[2]}})})},m.label=1;case 1:return m.trys.push([1,20,,21]),[4,this.generateMediaConstraints(e)];case 2:return o=m.sent(),o.videoTrack&&o.audioTrack||o.audioTrack&&((n=o.constraints)===null||n===void 0?void 0:n.video)===!1||o.videoTrack&&((r=o.constraints)===null||r===void 0?void 0:r.audio)===!1?[2,this.addAlreadyProvidedTracks(o,new MediaStream)]:[3,3];case 3:if(o.videoTrack&&delete o.constraints.video,o.audioTrack&&delete o.constraints.audio,s=!1,typeof e.videoSource!="string")return[3,12];if(!(e.videoSource==="screen"||e.videoSource==="window"||be.isElectron()&&e.videoSource.startsWith("screen:")))return[3,12];if(s=!o.audioTrack&&e.audioSource!==null&&e.audioSource!==!1,!(navigator.mediaDevices.getDisplayMedia&&!be.isElectron()))return[3,11];m.label=4;case 4:return m.trys.push([4,9,,10]),[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:e.audioSource==="screen"})];case 5:return u=m.sent(),this.addAlreadyProvidedTracks(o,u),s?[4,i(u,o.constraints)]:[3,7];case 6:return[2,m.sent()];case 7:return[2,u];case 8:return[3,10];case 9:throw a=m.sent(),d=_e.OpenViduErrorName.SCREEN_CAPTURE_DENIED,f=a.toString(),new _e.OpenViduError(d,f);case 10:return[3,11];case 11:return[3,12];case 12:c=s?{video:o.constraints.video}:o.constraints,m.label=13;case 13:return m.trys.push([13,18,,19]),[4,navigator.mediaDevices.getUserMedia(c)];case 14:return u=m.sent(),this.addAlreadyProvidedTracks(o,u),s?[4,i(u,o.constraints)]:[3,16];case 15:return[2,m.sent()];case 16:return[2,u];case 17:return[3,19];case 18:throw l=m.sent(),d=void 0,f=l.toString(),e.videoSource!=="screen"?d=_e.OpenViduErrorName.DEVICE_ACCESS_DENIED:d=_e.OpenViduErrorName.SCREEN_CAPTURE_DENIED,new _e.OpenViduError(d,f);case 19:return[3,21];case 20:throw h=m.sent(),h;case 21:return[2]}})})},t.prototype.enableProdMode=function(){Le.enableProdMode()},t.prototype.setAdvancedConfiguration=function(e){this.advancedConfiguration=e},t.prototype.onOrientationChanged=function(e){globalThis.addEventListener("orientationchange",e)},t.prototype.sendNewVideoDimensionsIfRequired=function(e,n,r,i){var o=this,s,a,c,u,l=0,d=((a=(s=e?.stream)===null||s===void 0?void 0:s.videoDimensions)===null||a===void 0?void 0:a.width)||0,f=((u=(c=e?.stream)===null||c===void 0?void 0:c.videoDimensions)===null||u===void 0?void 0:u.height)||0,h=setInterval(function(){l++,l>i&&clearTimeout(h),e.getVideoDimensions().then(function(p){(p.width!==d||p.height!==f)&&(clearTimeout(h),o.sendVideoDimensionsChangedEvent(e,n,d,f,p.width,p.height))})},r)},t.prototype.sendVideoDimensionsChangedEvent=function(e,n,r,i,o,s){var a=this;e.stream.videoDimensions={width:o||0,height:s||0},this.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(e.stream.videoDimensions),reason:n},function(c,u){c?Le.error("Error sending 'streamPropertyChanged' event",c):(a.session.emitEvent("streamPropertyChanged",[new ps.StreamPropertyChangedEvent(a.session,e.stream,"videoDimensions",e.stream.videoDimensions,{width:r,height:i},n)]),e.emitEvent("streamPropertyChanged",[new ps.StreamPropertyChangedEvent(e,e.stream,"videoDimensions",e.stream.videoDimensions,{width:r,height:i},n)]),a.session.sendVideoData(e))})},t.prototype.sendTrackChangedEvent=function(e,n,r,i){var o=this,s={label:n},a={label:r},c="trackReplaced";e.stream.isLocalStreamPublished?this.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:i,newValue:a,reason:c},function(u,l){u?Le.error("Error sending 'streamPropertyChanged' event",u):(o.session.emitEvent("streamPropertyChanged",[new ps.StreamPropertyChangedEvent(o.session,e.stream,i,a,s,c)]),e.emitEvent("streamPropertyChanged",[new ps.StreamPropertyChangedEvent(e,e.stream,i,a,s,c)]))}):(this.session.emitEvent("streamPropertyChanged",[new ps.StreamPropertyChangedEvent(this.session,e.stream,i,a,s,c)]),e.emitEvent("streamPropertyChanged",[new ps.StreamPropertyChangedEvent(e,e.stream,i,a,s,c)]))},t.prototype.generateMediaConstraints=function(e){var n=this;return new Promise(function(r,i){var o={audioTrack:void 0,videoTrack:void 0,constraints:{audio:void 0,video:void 0}},s=e.audioSource,a=e.videoSource;if((s===null||s===!1)&&(o.constraints.audio=!1),(a===null||a===!1)&&(o.constraints.video=!1),o.constraints.audio===!1&&o.constraints.video===!1)return i(new _e.OpenViduError(_e.OpenViduErrorName.NO_INPUT_SOURCE_SET,"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time"));if(typeof MediaStreamTrack<"u"&&s instanceof MediaStreamTrack&&(o.audioTrack=s),typeof MediaStreamTrack<"u"&&a instanceof MediaStreamTrack&&(o.videoTrack=a),s===void 0&&(o.constraints.audio=!0),a===void 0&&(o.constraints.video={width:{ideal:640},height:{ideal:480}}),a!==null&&a!==!1){if(e.resolution){var c=e.resolution.toLowerCase().split("x"),u=Number(c[0]),l=Number(c[1]);o.constraints.video={width:{ideal:u},height:{ideal:l}}}e.frameRate&&(o.constraints.video.frameRate={ideal:e.frameRate})}return n.configureDeviceIdOrScreensharing(o,e,r,i),r(o)})},t.prototype.startWs=function(e){var n={heartbeat:5e3,ws:{uri:this.wsUri+"?sessionId="+this.session.sessionId,onconnected:e,ondisconnect:this.disconnectCallback.bind(this),onreconnecting:this.reconnectingCallback.bind(this),onreconnected:this.reconnectedCallback.bind(this),ismasternodecrashed:this.isMasterNodeCrashed.bind(this)},rpc:{requestTimeout:1e4,heartbeatRequestTimeout:5e3,participantJoined:this.session.onParticipantJoined.bind(this.session),participantPublished:this.session.onParticipantPublished.bind(this.session),participantUnpublished:this.session.onParticipantUnpublished.bind(this.session),participantLeft:this.session.onParticipantLeft.bind(this.session),participantEvicted:this.session.onParticipantEvicted.bind(this.session),recordingStarted:this.session.onRecordingStarted.bind(this.session),recordingStopped:this.session.onRecordingStopped.bind(this.session),broadcastStarted:this.session.onBroadcastStarted.bind(this.session),broadcastStopped:this.session.onBroadcastStopped.bind(this.session),sendMessage:this.session.onNewMessage.bind(this.session),streamPropertyChanged:this.session.onStreamPropertyChanged.bind(this.session),connectionPropertyChanged:this.session.onConnectionPropertyChanged.bind(this.session),networkQualityLevelChanged:this.session.onNetworkQualityLevelChangedChanged.bind(this.session),filterEventDispatched:this.session.onFilterEventDispatched.bind(this.session),iceCandidate:this.session.recvIceCandidate.bind(this.session),mediaError:this.session.onMediaError.bind(this.session),masterNodeCrashedNotification:this.onMasterNodeCrashedNotification.bind(this),forciblyReconnectSubscriber:this.session.onForciblyReconnectSubscriber.bind(this.session),speechToTextMessage:this.session.onSpeechToTextMessage.bind(this.session),speechToTextDisconnected:this.session.onSpeechToTextDisconnected.bind(this.session)}};this.jsonRpcClient=new $U.clients.JsonRpcClient(n)},t.prototype.onMasterNodeCrashedNotification=function(e){console.error("Master Node has crashed"),this.masterNodeHasCrashed=!0,this.session.onLostConnection("nodeCrashed"),this.jsonRpcClient.close(4103,"Master Node has crashed")},t.prototype.getWsReadyState=function(){return this.jsonRpcClient.getReadyState()},t.prototype.closeWs=function(){this.jsonRpcClient.close(4102,"Connection closed by client")},t.prototype.sendRequest=function(e,n,r){var i;n&&n instanceof Function&&(r=n,n={}),Le.debug('Sending request: {method:"'+e+'", params: '+JSON.stringify(n)+"}"),(i=this.jsonRpcClient)===null||i===void 0||i.send(e,n,r)},t.prototype.getWsUri=function(){return this.wsUri},t.prototype.getSecret=function(){return this.secret},t.prototype.getRecorder=function(){return this.recorder},t.prototype.getStt=function(){return this.stt},t.prototype.generateAudioDeviceError=function(e,n){e.name==="Error"&&(e.name=e.constructor.name);var r,i;switch(e.name.toLowerCase()){case"notfounderror":return r=_e.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i=e.toString(),new _e.OpenViduError(r,i);case"notallowederror":return r=_e.OpenViduErrorName.DEVICE_ACCESS_DENIED,i=e.toString(),new _e.OpenViduError(r,i);case"overconstrainederror":return e.constraint.toLowerCase()==="deviceid"?(r=_e.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i="Audio input device with deviceId '"+n.audio.deviceId.exact+"' not found"):(r=_e.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,i="Audio input device doesn't support the value passed for constraint '"+e.constraint+"'"),new _e.OpenViduError(r,i);case"notreadableerror":return r=_e.OpenViduErrorName.DEVICE_ALREADY_IN_USE,i=e.toString(),new _e.OpenViduError(r,i);default:return new _e.OpenViduError(_e.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR,e.toString())}},t.prototype.addAlreadyProvidedTracks=function(e,n,r){return e.videoTrack&&(n.addTrack(e.videoTrack),r&&(e.constraints.video?r.lastVideoTrackConstraints=e.constraints.video:r.lastVideoTrackConstraints=e.videoTrack.getConstraints())),e.audioTrack&&n.addTrack(e.audioTrack),n},t.prototype.configureDeviceIdOrScreensharing=function(e,n,r,i){var o=this,s=n.audioSource,a=n.videoSource;if(typeof s=="string"&&s!=="screen"&&(e.constraints.audio={deviceId:{exact:s}}),typeof a=="string")if(!this.isScreenShare(a))this.setVideoSource(e,a),s==="screen"&&(Le.warn('Parameter "audioSource" is set to "screen", which means rquesting audio from screen sharing source. But "videoSource" is not set to "screen". No audio source will be requested'),e.constraints.audio=!1);else if(this.checkScreenSharingCapabilities())if(be.isElectron()){var u="screen:",l=a,d=l.substr(l.indexOf(u)+u.length);return e.constraints.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:d}},r(e)}else if(this.advancedConfiguration.screenShareChromeExtension&&!(be.isFirefoxBrowser()||be.isFirefoxMobileBrowser())&&!navigator.mediaDevices.getDisplayMedia){SI.getScreenConstraints(function(h,p){if(h||p.mandatory&&p.mandatory.chromeMediaSource==="screen")if(h==="permission-denied"||h==="PermissionDeniedError"){var m=new _e.OpenViduError(_e.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return Le.error(m),i(m)}else{var b=o.advancedConfiguration.screenShareChromeExtension.split("/").pop().trim();SI.getChromeExtensionStatus(b,function(y){if(y==="installed-disabled"){var O=new _e.OpenViduError(_e.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return Le.error(O),i(O)}if(y==="not-installed"){var w=new _e.OpenViduError(_e.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,o.advancedConfiguration.screenShareChromeExtension);return Le.error(w),i(w)}});return}else return e.constraints.video=p,r(e)});return}else{if(navigator.mediaDevices.getDisplayMedia)return r(e);var f=be.isFirefoxBrowser()||be.isFirefoxMobileBrowser()?n.videoSource:void 0;jU.getScreenId(f,function(h,p,m){if(h)if(h==="not-installed"){var b=o.advancedConfiguration.screenShareChromeExtension?o.advancedConfiguration.screenShareChromeExtension:"https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold",y=new _e.OpenViduError(_e.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,b);return Le.error(y),i(y)}else if(h==="installed-disabled"){var y=new _e.OpenViduError(_e.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return Le.error(y),i(y)}else if(h==="permission-denied"){var y=new _e.OpenViduError(_e.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return Le.error(y),i(y)}else{var y=new _e.OpenViduError(_e.OpenViduErrorName.GENERIC_ERROR,"Unknown error when accessing screen share");return Le.error(y),Le.error(h),i(y)}else return e.constraints.video=m.video,r(e)});return}else{var c=new _e.OpenViduError(_e.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED,"You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0), Edge (>= 80) or Electron. Detected client: "+be.getName()+" "+be.getVersion());return Le.error(c),i(c)}},t.prototype.setVideoSource=function(e,n){e.constraints.video||(e.constraints.video={}),e.constraints.video.deviceId={exact:n}},t.prototype.disconnectCallback=function(){Le.warn("Websocket connection lost"),this.isRoomAvailable()?this.session.onLostConnection("networkDisconnect"):alert("Connection error. Please reload page.")},t.prototype.reconnectingCallback=function(){Le.warn("Websocket connection lost (reconnecting)"),this.isRoomAvailable()?this.session.emitEvent("reconnecting",[]):alert("Connection error. Please reload page.")},t.prototype.reconnectWebsocketThroughRpcConnectMethod=function(e){var n=this;this.sendRequest("connect",{sessionId:e,reconnect:!0},function(r,i){if(r)if(n.isMasterNodeCrashed())Le.warn("Master Node has crashed!");else{Le.error(r);var o=function(a,c){Le.warn(c),n.session.onLostConnection(a),n.jsonRpcClient.close(4101,"Reconnection fault: "+c)},s=function(){n.life===-1?o("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):n.sendRequest("sessionStatus",{sessionId:n.session.sessionId},function(a,c){a!=null?console.error("Error checking session status",a):n.life===c.life?o("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):o("nodeCrashed","WS successfully reconnected to OpenVidu Server but your Master Node crashed")})};r.code===40007&&r.message==="reconnection error"&&console.error("Invalid RPC sessionId. Client network disconnection or Master Node crash"),s()}else n.jsonRpcClient.resetPing(),n.session.onRecoveredConnection()})},t.prototype.reconnectedCallback=function(){if(Le.warn("Websocket reconnected"),this.isRoomAvailable())if(this.session.connection)this.reconnectWebsocketThroughRpcConnectMethod(this.session.connection.rpcSessionId);else{Le.warn("There was no previous connection when running reconnection callback");var e=new FU.SessionDisconnectedEvent(this.session,"networkDisconnect");this.session.ee.emitEvent("sessionDisconnected",[e]),e.callDefaultBehavior()}else alert("Connection error. Please reload page.")},t.prototype.isMasterNodeCrashed=function(){return this.masterNodeHasCrashed},t.prototype.isRoomAvailable=function(){return this.session!==void 0&&this.session instanceof wI.Session?!0:(Le.warn("Session instance not found"),!1)},t.prototype.isScreenShare=function(e){return e==="screen"||e==="window"||be.isElectron()&&e.startsWith("screen:")},t}();Kr.OpenVidu=zU});var II=P(DI=>{"use strict";Object.defineProperty(DI,"__esModule",{value:!0})});var MI=P(z=>{"use strict";var qU=z&&z.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),WU=z&&z.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qU(e,t,n)};Object.defineProperty(z,"__esModule",{value:!0});z.EventDispatcher=z.ExceptionEventName=z.ExceptionEvent=z.SpeechToTextEvent=z.NetworkQualityLevelChangedEvent=z.FilterEvent=z.ConnectionPropertyChangedEvent=z.StreamPropertyChangedEvent=z.VideoElementEvent=z.StreamManagerEvent=z.StreamEvent=z.SignalEvent=z.SessionDisconnectedEvent=z.RecordingEvent=z.PublisherSpeakingEvent=z.ConnectionEvent=z.Event=z.VideoInsertMode=z.TypeOfVideo=z.OpenViduErrorName=z.OpenViduError=z.LocalRecorderState=z.Filter=z.LocalRecorder=z.Connection=z.Stream=z.StreamManager=z.Subscriber=z.Publisher=z.Session=z.OpenVidu=void 0;var GU=jg(),KU=CI();Object.defineProperty(z,"OpenVidu",{enumerable:!0,get:function(){return KU.OpenVidu}});var YU=Xa();Object.defineProperty(z,"Session",{enumerable:!0,get:function(){return YU.Session}});var QU=Bd();Object.defineProperty(z,"Publisher",{enumerable:!0,get:function(){return QU.Publisher}});var ZU=gd();Object.defineProperty(z,"Subscriber",{enumerable:!0,get:function(){return ZU.Subscriber}});var XU=md();Object.defineProperty(z,"StreamManager",{enumerable:!0,get:function(){return XU.StreamManager}});var JU=Fd();Object.defineProperty(z,"Stream",{enumerable:!0,get:function(){return JU.Stream}});var e4=uv();Object.defineProperty(z,"Connection",{enumerable:!0,get:function(){return e4.Connection}});var t4=Hg();Object.defineProperty(z,"LocalRecorder",{enumerable:!0,get:function(){return t4.LocalRecorder}});var n4=ad();Object.defineProperty(z,"Filter",{enumerable:!0,get:function(){return n4.Filter}});var r4=Bg();Object.defineProperty(z,"LocalRecorderState",{enumerable:!0,get:function(){return r4.LocalRecorderState}});var xI=Ni();Object.defineProperty(z,"OpenViduError",{enumerable:!0,get:function(){return xI.OpenViduError}});Object.defineProperty(z,"OpenViduErrorName",{enumerable:!0,get:function(){return xI.OpenViduErrorName}});var i4=Nd();Object.defineProperty(z,"TypeOfVideo",{enumerable:!0,get:function(){return i4.TypeOfVideo}});var o4=qa();Object.defineProperty(z,"VideoInsertMode",{enumerable:!0,get:function(){return o4.VideoInsertMode}});var s4=yt();Object.defineProperty(z,"Event",{enumerable:!0,get:function(){return s4.Event}});var a4=lv();Object.defineProperty(z,"ConnectionEvent",{enumerable:!0,get:function(){return a4.ConnectionEvent}});var c4=ov();Object.defineProperty(z,"PublisherSpeakingEvent",{enumerable:!0,get:function(){return c4.PublisherSpeakingEvent}});var u4=fv();Object.defineProperty(z,"RecordingEvent",{enumerable:!0,get:function(){return u4.RecordingEvent}});var l4=Vd();Object.defineProperty(z,"SessionDisconnectedEvent",{enumerable:!0,get:function(){return l4.SessionDisconnectedEvent}});var d4=hv();Object.defineProperty(z,"SignalEvent",{enumerable:!0,get:function(){return d4.SignalEvent}});var f4=jd();Object.defineProperty(z,"StreamEvent",{enumerable:!0,get:function(){return f4.StreamEvent}});var h4=hd();Object.defineProperty(z,"StreamManagerEvent",{enumerable:!0,get:function(){return h4.StreamManagerEvent}});var p4=zg();Object.defineProperty(z,"VideoElementEvent",{enumerable:!0,get:function(){return p4.VideoElementEvent}});var m4=Oi();Object.defineProperty(z,"StreamPropertyChangedEvent",{enumerable:!0,get:function(){return m4.StreamPropertyChangedEvent}});var g4=mv();Object.defineProperty(z,"ConnectionPropertyChangedEvent",{enumerable:!0,get:function(){return g4.ConnectionPropertyChangedEvent}});var v4=dv();Object.defineProperty(z,"FilterEvent",{enumerable:!0,get:function(){return v4.FilterEvent}});var b4=gv();Object.defineProperty(z,"NetworkQualityLevelChangedEvent",{enumerable:!0,get:function(){return b4.NetworkQualityLevelChangedEvent}});var y4=pv();Object.defineProperty(z,"SpeechToTextEvent",{enumerable:!0,get:function(){return y4.SpeechToTextEvent}});var TI=Pi();Object.defineProperty(z,"ExceptionEvent",{enumerable:!0,get:function(){return TI.ExceptionEvent}});Object.defineProperty(z,"ExceptionEventName",{enumerable:!0,get:function(){return TI.ExceptionEventName}});var E4=fd();Object.defineProperty(z,"EventDispatcher",{enumerable:!0,get:function(){return E4.EventDispatcher}});WU(II(),z);GU.JL.setOptions({enabled:!1})});var Wv=null;var ef=1;function Ut(t){let e=Wv;return Wv=t,e}var Gv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function XI(t){if(!(rf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ef)){if(!t.producerMustRecompute(t)&&!tf(t)){t.dirty=!1,t.lastCleanEpoch=ef;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ef}}function Kv(t){return t&&(t.nextProducerIndex=0),Ut(t)}function Yv(t,e){if(Ut(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(rf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)nf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tf(t){nc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(XI(n),r!==n.version))return!0}return!1}function Qv(t){if(nc(t),rf(t))for(let e=0;e<t.producerNode.length;e++)nf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function nf(t,e){if(JI(t),nc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)nf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];nc(i),i.producerIndexOfThis[r]=e}}function rf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function JI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ex(){throw new Error}var tx=ex;function Zv(t){tx=t}function re(t){return typeof t=="function"}function ji(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rc=ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof rc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xv(o)}catch(s){e=e??[],s instanceof rc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yr(n,e)}remove(e){let{_finalizers:n}=this;n&&Yr(n,e),e instanceof t&&e._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var of=$e.EMPTY;function ic(t){return t instanceof $e||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function Xv(t){re(t)?t():t.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bi={setTimeout(t,e,...n){let{delegate:r}=Bi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Bi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oc(t){Bi.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(t);else throw t})}function gs(){}var Jv=(()=>sf("C",void 0,void 0))();function eb(t){return sf("E",void 0,t)}function tb(t){return sf("N",t,void 0)}function sf(t,e,n){return{kind:t,value:e,error:n}}var Qr=null;function Ui(t){if(fn.useDeprecatedSynchronousErrorHandling){let e=!Qr;if(e&&(Qr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qr;if(Qr=null,n)throw r}}else t()}function nb(t){fn.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=t)}var Zr=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ic(e)&&e.add(this)):this.destination=ix}static create(e,n,r){return new Qn(e,n,r)}next(e){this.isStopped?cf(tb(e),this):this._next(e)}error(e){this.isStopped?cf(eb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cf(Jv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nx=Function.prototype.bind;function af(t,e){return nx.call(t,e)}var uf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sc(r)}else sc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sc(n)}}},Qn=class extends Zr{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&af(e.next,o),error:e.error&&af(e.error,o),complete:e.complete&&af(e.complete,o)}):i=e}this.destination=new uf(i)}};function sc(t){fn.useDeprecatedSynchronousErrorHandling?nb(t):oc(t)}function rx(t){throw t}function cf(t,e){let{onStoppedNotification:n}=fn;n&&Bi.setTimeout(()=>n(t,e))}var ix={closed:!0,next:gs,error:rx,complete:gs};var $i=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function It(t){return t}function lf(...t){return df(t)}function df(t){return t.length===0?It:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=sx(n)?n:new Qn(n,r,i);return Ui(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rb(r),new r((i,o)=>{let s=new Qn({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$i](){return this}pipe(...n){return df(n)(this)}toPromise(n){return n=rb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function rb(t){var e;return(e=t??fn.Promise)!==null&&e!==void 0?e:Promise}function ox(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function sx(t){return t&&t instanceof Zr||ox(t)&&ic(t)}function ff(t){return re(t?.lift)}function ce(t){return e=>{if(ff(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new hf(t,e,n,r,i)}var hf=class extends Zr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hi(){return ce((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zi=class extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ff(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Hi()(this)}};var ib=ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ac(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ib}next(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?of:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,Yr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new he;return n.source=this,n}}return t.create=(e,n)=>new ac(e,n),t})(),ac=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:of}};var He=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pf={now(){return(pf.delegate||Date).now()},delegate:void 0};var cc=class extends $e{constructor(e,n){super()}schedule(e,n=0){return this}};var vs={setInterval(t,e,...n){let{delegate:r}=vs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=vs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var uc=class extends cc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return vs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&vs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qi.now=pf.now;var lc=class extends qi{constructor(e,n=qi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ob=new lc(uc);var Nt=new he(t=>t.complete());function sb(t){return t&&re(t.schedule)}function mf(t){return t[t.length-1]}function dc(t){return re(mf(t))?t.pop():void 0}function Cn(t){return sb(mf(t))?t.pop():void 0}function ab(t,e){return typeof mf(t)=="number"?t.pop():e}function ub(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function cb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xr(t){return this instanceof Xr?(this.v=t,this):new Xr(t)}function lb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(o[0][3],p)}}function c(f){f.value instanceof Xr?Promise.resolve(f.value.v).then(u,l):d(o[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function db(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cb=="function"?cb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var fc=t=>t&&typeof t.length=="number"&&typeof t!="function";function hc(t){return re(t?.then)}function pc(t){return re(t[$i])}function mc(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function gc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ax(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vc=ax();function bc(t){return re(t?.[vc])}function yc(t){return lb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Xr(n.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{n.releaseLock()}})}function Ec(t){return re(t?.getReader)}function Ve(t){if(t instanceof he)return t;if(t!=null){if(pc(t))return cx(t);if(fc(t))return ux(t);if(hc(t))return lx(t);if(mc(t))return fb(t);if(bc(t))return dx(t);if(Ec(t))return fx(t)}throw gc(t)}function cx(t){return new he(e=>{let n=t[$i]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ux(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lx(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,oc)})}function dx(t){return new he(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function fb(t){return new he(e=>{hx(t,e).catch(n=>e.error(n))})}function fx(t){return fb(yc(t))}function hx(t,e){var n,r,i,o;return ub(this,void 0,void 0,function*(){try{for(n=db(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _c(t,e=0){return ce((n,r)=>{n.subscribe(ue(r,i=>Pt(r,t,()=>r.next(i),e),()=>Pt(r,t,()=>r.complete(),e),i=>Pt(r,t,()=>r.error(i),e)))})}function wc(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hb(t,e){return Ve(t).pipe(wc(e),_c(e))}function pb(t,e){return Ve(t).pipe(wc(e),_c(e))}function mb(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gb(t,e){return new he(n=>{let r;return Pt(n,e,()=>{r=t[vc](),Pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Sc(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{Pt(n,e,()=>{let r=t[Symbol.asyncIterator]();Pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vb(t,e){return Sc(yc(t),e)}function bb(t,e){if(t!=null){if(pc(t))return hb(t,e);if(fc(t))return mb(t,e);if(hc(t))return pb(t,e);if(mc(t))return Sc(t,e);if(bc(t))return gb(t,e);if(Ec(t))return vb(t,e)}throw gc(t)}function Me(t,e){return e?bb(t,e):Ve(t)}function Z(...t){let e=Cn(t);return Me(t,e)}function pr(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function gf(t){return!!t&&(t instanceof he||re(t.lift)&&re(t.subscribe))}var Zn=ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return ce((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:px}=Array;function mx(t,e){return px(e)?t(...e):t(e)}function Cc(t){return ee(e=>mx(t,e))}var{isArray:gx}=Array,{getPrototypeOf:vx,prototype:bx,keys:yx}=Object;function Dc(t){if(t.length===1){let e=t[0];if(gx(e))return{args:e,keys:null};if(Ex(e)){let n=yx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ex(t){return t&&typeof t=="object"&&vx(t)===bx}function Ic(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wi(...t){let e=Cn(t),n=dc(t),{args:r,keys:i}=Dc(t);if(r.length===0)return Me([],e);let o=new he(_x(r,e,i?s=>Ic(i,s):It));return n?o.pipe(Cc(n)):o}function _x(t,e,n=It){return r=>{yb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)yb(e,()=>{let u=Me(t[c],e),l=!1;u.subscribe(ue(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yb(t,e,n){t?Pt(n,t,e):e()}function Eb(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,f=()=>{d&&!c.length&&!u&&e.complete()},h=m=>u<r?p(m):c.push(m),p=m=>{o&&e.next(m),u++;let b=!1;Ve(n(m,l++)).subscribe(ue(e,y=>{i?.(y),o?h(y):e.next(y)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){let y=c.shift();s?Pt(e,s,()=>p(y)):p(y)}f()}catch(y){e.error(y)}}))};return t.subscribe(ue(e,h,()=>{d=!0,f()})),()=>{a?.()}}function it(t,e,n=1/0){return re(e)?it((r,i)=>ee((o,s)=>e(r,o,i,s))(Ve(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>Eb(r,i,t,n)))}function bs(t=1/0){return it(It,t)}function _b(){return bs(1)}function mr(...t){return _b()(Me(t,Cn(t)))}function xc(t){return new he(e=>{Ve(t()).subscribe(e)})}function ys(...t){let e=dc(t),{args:n,keys:r}=Dc(t),i=new he(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Ve(n[l]).subscribe(ue(o,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Ic(r,a):a),o.complete())}))}});return e?i.pipe(Cc(e)):i}function vf(...t){let e=Cn(t),n=ab(t,1/0),r=t;return r.length?r.length===1?Ve(r[0]):bs(n)(Me(r,e)):Nt}function et(t,e){return ce((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function kt(t){return ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=Ve(t(s,kt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wb(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(ue(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function gr(t,e){return re(e)?it(t,e,1):it(t,1)}function Tc(t,e=ob){return ce((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(ue(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function vr(t){return ce((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ft(t){return t<=0?()=>Nt:ce((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bf(t){return ee(()=>t)}function Es(t,e=It){return t=t??wx,ce((n,r)=>{let i,o=!0;n.subscribe(ue(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function wx(t,e){return t===e}function Mc(t=Sx){return ce((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Sx(){return new Zn}function Dn(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function In(t,e){let n=arguments.length>=2;return r=>r.pipe(t?et((i,o)=>t(i,o,r)):It,Ft(1),n?vr(e):Mc(()=>new Zn))}function Gi(t){return t<=0?()=>Nt:ce((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?et((i,o)=>t(i,o,r)):It,Gi(1),n?vr(e):Mc(()=>new Zn))}function Ef(t,e){return ce(wb(t,e,arguments.length>=2,!0))}function Ki(t={}){let{connector:e=()=>new Ye,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,l=d=!1},p=()=>{let m=s;h(),m?.unsubscribe()};return ce((m,b)=>{u++,!d&&!l&&f();let y=c=c??e();b.add(()=>{u--,u===0&&!d&&!l&&(a=_f(p,i))}),y.subscribe(b),!s&&u>0&&(s=new Qn({next:O=>y.next(O),error:O=>{d=!0,f(),a=_f(h,n,O),y.error(O)},complete:()=>{l=!0,f(),a=_f(h,r),y.complete()}}),Ve(m).subscribe(s))})(o)}}function _f(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Qn({next:()=>{r.unsubscribe(),t()}});return Ve(e(...n)).subscribe(r)}function _s(t){return et((e,n)=>t<=n)}function ws(...t){let e=Cn(t);return ce((n,r)=>{(e?mr(t,n,e):mr(t,n)).subscribe(r)})}function ct(t,e){return ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ue(r,c=>{i?.unsubscribe();let u=0,l=o++;Ve(t(c,l)).subscribe(i=ue(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Jr(t){return ce((e,n)=>{Ve(t).subscribe(ue(n,()=>n.complete(),gs)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):It}function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function Ac(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Lf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Cx=Pe({__forward_ref__:Pe});function fi(t){return t.__forward_ref__=fi,t.toString=function(){return vt(this())},t}function xt(t){return cy(t)?t():t}function cy(t){return typeof t=="function"&&t.hasOwnProperty(Cx)&&t.__forward_ref__===fi}function uy(t){return t&&!!t.\u0275providers}var ly="https://g.co/ng/security#xss",k=class extends Error{constructor(e,n){super(uu(e,n)),this.code=e}};function uu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Dx=Pe({\u0275cmp:Pe}),Ix=Pe({\u0275dir:Pe}),xx=Pe({\u0275pipe:Pe}),Tx=Pe({\u0275mod:Pe}),Hc=Pe({\u0275fac:Pe}),Ss=Pe({__NG_ELEMENT_ID__:Pe}),Sb=Pe({__NG_ENV_ID__:Pe});function Ph(t){return typeof t=="string"?t:t==null?"":String(t)}function Mx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ph(t)}function Ax(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}function kh(t,e){let n=e?` in ${e}`:"";throw new k(-201,!1)}function Ox(t,e){t==null&&Rx(e,t,null,"!=")}function Rx(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Be(t){return{providers:t.providers||[],imports:t.imports||[]}}function lu(t){return Cb(t,fy)||Cb(t,hy)}function dy(t){return lu(t)!==null}function Cb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Nx(t){let e=t&&(t[fy]||t[hy]);return e||null}function Db(t){return t&&(t.hasOwnProperty(Ib)||t.hasOwnProperty(Px))?t[Ib]:null}var fy=Pe({\u0275prov:Pe}),Ib=Pe({\u0275inj:Pe}),hy=Pe({ngInjectableDef:Pe}),Px=Pe({ngInjectorDef:Pe}),pe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pe||{}),Vf;function kx(){return Vf}function xn(t){let e=Vf;return Vf=t,e}function py(t,e,n){let r=lu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&pe.Optional)return null;if(e!==void 0)return e;kh(vt(t),"Injector")}var Xn=globalThis;var W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var Fx={},Is=Fx,jf="__NG_DI_FLAG__",zc="ngTempTokenPath",Lx="ngTokenPath",Vx=/\n/gm,jx="\u0275",xb="__source",Cs;function Yi(t){let e=Cs;return Cs=t,e}function Bx(t,e=pe.Default){if(Cs===void 0)throw new k(-203,!1);return Cs===null?py(t,void 0,e):Cs.get(t,e&pe.Optional?null:void 0,e)}function L(t,e=pe.Default){return(kx()||Bx)(xt(t),e)}function j(t,e=pe.Default){return L(t,du(e))}function du(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bf(t){let e=[];for(let n=0;n<t.length;n++){let r=xt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=pe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Ux(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function my(t,e){return t[jf]=e,t.prototype[jf]=e,t}function Ux(t){return t[jf]}function $x(t,e,n,r){let i=t[zc];throw e[xb]&&i.unshift(e[xb]),t.message=Hx(`
`+t.message,i,n,r),t[Lx]=i,t[zc]=null,t}function Hx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==jx?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):vt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Vx,`
  `)}`}function Ns(t){return{toString:t}.toString()}var gy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gy||{}),On=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(On||{}),eo={},Lt=[];function vy(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Uf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];zx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function by(t){return t===3||t===4||t===6}function zx(t){return t.charCodeAt(0)===64}function xs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Tb(t,n,i,null,e[++r]):Tb(t,n,i,null,null))}}return t}function Tb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var yy="ng-template";function qx(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&vy(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function Ey(t){return t.type===4&&t.value!==yy}function Wx(t,e,n){let r=t.type===4&&!n?yy:t.value;return e===r}function Gx(t,e,n){let r=4,i=t.attrs||[],o=Qx(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!hn(r)&&!hn(c))return!1;if(s&&hn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Wx(t,c,n)||c===""&&e.length===1){if(hn(r))return!1;s=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!qx(t.attrs,u,n)){if(hn(r))return!1;s=!0}continue}let l=r&8?"class":c,d=Kx(l,i,Ey(t),n);if(d===-1){if(hn(r))return!1;s=!0;continue}if(u!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&vy(h,u,0)!==-1||r&2&&u!==f){if(hn(r))return!1;s=!0}}}}return hn(r)||s}function hn(t){return(t&1)===0}function Kx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Zx(e,t)}function _y(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gx(t,e[r],n))return!0;return!1}function Yx(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Qx(t){for(let e=0;e<t.length;e++){let n=t[e];if(by(n))return e}return t.length}function Zx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Xx(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Mb(t,e){return t?":not("+e.trim()+")":e}function Jx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!hn(s)&&(e+=Mb(o,i),i=""),r=s,o=o||!hn(r);n++}return i!==""&&(e+=Mb(o,i)),e}function eT(t){return t.map(Jx).join(",")}function tT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!hn(i))break;i=o}r++}return{attrs:e,classes:n}}function st(t){return Ns(()=>{let e=Iy(t),n=Ne(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""});xy(n);let r=t.dependencies;return n.directiveDefs=Ob(r,!1),n.pipeDefs=Ob(r,!0),n.id=iT(n),n})}function nT(t){return ti(t)||wy(t)}function rT(t){return t!==null}function Ue(t){return Ns(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ab(t,e){if(t==null)return eo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Qe(t){return Ns(()=>{let e=Iy(t);return xy(e),e})}function ti(t){return t[Dx]||null}function wy(t){return t[Ix]||null}function Sy(t){return t[xx]||null}function Cy(t){let e=ti(t)||wy(t)||Sy(t);return e!==null?e.standalone:!1}function Dy(t,e){let n=t[Tx]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function Iy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||eo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ab(t.inputs,e),outputs:Ab(t.outputs),debugInfo:null}}function xy(t){t.features?.forEach(e=>e(t))}function Ob(t,e){if(!t)return null;let n=e?Sy:nT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(rT)}function iT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var tr=0,de=1,ne=2,tt=3,mn=4,zt=5,qc=6,Ts=7,Jt=8,to=9,no=10,ot=11,Ms=12,Rb=13,co=14,gn=15,Ps=16,Qi=17,An=18,fu=19,Ty=20,Ds=21,wf=22,ni=23,Rn=25,My=1;var ri=7,Wc=8,ro=9,$t=10,io=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(io||{});function br(t){return Array.isArray(t)&&typeof t[My]=="object"}function vn(t){return Array.isArray(t)&&t[My]===!0}function Ay(t){return(t.flags&4)!==0}function hu(t){return t.componentOffset>-1}function Fh(t){return(t.flags&1)===1}function yr(t){return!!t.template}function oT(t){return(t[ne]&512)!==0}function oo(t,e){let n=t.hasOwnProperty(Hc);return n?t[Hc]:null}var $f=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function nr(){return Oy}function Oy(t){return t.type.prototype.ngOnChanges&&(t.setInput=aT),sT}nr.ngInherit=!0;function sT(){let t=Ny(this),e=t?.current;if(e){let n=t.previous;if(n===eo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function aT(t,e,n,r){let i=this.declaredInputs[n],o=Ny(t)||cT(t,{previous:eo,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new $f(c&&c.currentValue,e,a===eo),t[r]=e}var Ry="__ngSimpleChanges__";function Ny(t){return t[Ry]||null}function cT(t,e){return t[Ry]=e}var Nb=null;var Tn=function(t,e,n){Nb?.(t,e,n)},uT="svg",lT="math";function Nn(t){for(;Array.isArray(t);)t=t[tr];return t}function dT(t,e){return Nn(e[t])}function en(t,e){return Nn(e[t.index])}function Py(t,e){return t.data[e]}function fT(t,e){return t[e]}function wr(t,e){let n=e[t];return br(n)?n:n[tr]}function hT(t){return(t[ne]&4)===4}function Lh(t){return(t[ne]&128)===128}function pT(t){return vn(t[tt])}function Gc(t,e){return e==null?null:t[e]}function ky(t){t[Qi]=0}function mT(t){t[ne]&1024||(t[ne]|=1024,Lh(t)&&pu(t))}function gT(t,e){for(;t>0;)e=e[co],t--;return e}function Fy(t){t[ne]&9216&&pu(t)}function pu(t){let e=t[tt];for(;e!==null&&!(vn(e)&&e[ne]&io.HasChildViewsToRefresh||br(e)&&e[ne]&8192);){if(vn(e))e[ne]|=io.HasChildViewsToRefresh;else if(e[ne]|=8192,!Lh(e))break;e=e[tt]}}function vT(t,e){if((t[ne]&256)===256)throw new k(911,!1);t[Ds]===null&&(t[Ds]=[]),t[Ds].push(e)}var me={lFrame:Gy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bT(){return me.lFrame.elementDepthCount}function yT(){me.lFrame.elementDepthCount++}function ET(){me.lFrame.elementDepthCount--}function Ly(){return me.bindingsEnabled}function Vy(){return me.skipHydrationRootTNode!==null}function _T(t){return me.skipHydrationRootTNode===t}function wT(){me.skipHydrationRootTNode=null}function ke(){return me.lFrame.lView}function Tt(){return me.lFrame.tView}function mu(t){return me.lFrame.contextLView=t,t[Jt]}function gu(t){return me.lFrame.contextLView=null,t}function qt(){let t=jy();for(;t!==null&&t.type===64;)t=t.parent;return t}function jy(){return me.lFrame.currentTNode}function ST(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ks(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function By(){return me.lFrame.isParent}function Uy(){me.lFrame.isParent=!1}function CT(){return me.lFrame.contextLView}function DT(t){return me.lFrame.bindingIndex=t}function $y(){return me.lFrame.bindingIndex++}function Hy(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IT(){return me.lFrame.inI18n}function xT(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hf(e)}function TT(){return me.lFrame.currentDirectiveIndex}function Hf(t){me.lFrame.currentDirectiveIndex=t}function MT(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zy(){return me.lFrame.currentQueryIndex}function Vh(t){me.lFrame.currentQueryIndex=t}function AT(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[zt]:null}function qy(t,e,n){if(n&pe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&pe.Host);)if(i=AT(o),i===null||(o=o[co],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=me.lFrame=Wy();return r.currentTNode=e,r.lView=t,!0}function jh(t){let e=Wy(),n=t[de];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Wy(){let t=me.lFrame,e=t===null?null:t.child;return e===null?Gy(t):e}function Gy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ky(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Yy=Ky;function Bh(){let t=Ky();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function OT(t){return(me.lFrame.contextLView=gT(t,me.lFrame.contextLView))[Jt]}function uo(){return me.lFrame.selectedIndex}function ii(t){me.lFrame.selectedIndex=t}function Qy(){let t=me.lFrame;return Py(t.tView,t.selectedIndex)}function RT(){return me.lFrame.currentNamespace}var Zy=!0;function Uh(){return Zy}function $h(t){Zy=t}function NT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Oy(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Hh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Lc(t,e,n){Xy(t,e,3,n)}function Vc(t,e,n,r){(t[ne]&3)===n&&Xy(t,e,n,r)}function Sf(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function Xy(t,e,n,r){let i=r!==void 0?t[Qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Qi]+=65536),(a<o||o==-1)&&(PT(t,n,e,c),t[Qi]=(t[Qi]&4294901760)+c+2),c++}function Pb(t,e){Tn(4,t,e);let n=Ut(null);try{e.call(t)}finally{Ut(n),Tn(5,t,e)}}function PT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Qi]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,Pb(a,o)):Pb(a,o)}var Ji=-1,oi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function kT(t){return t instanceof oi}function FT(t){return(t.flags&8)!==0}function LT(t){return(t.flags&16)!==0}function Jy(t){return t!==Ji}function Kc(t){let e=t&32767;return t&32767}function VT(t){return t>>16}function Yc(t,e){let n=VT(t),r=e;for(;n>0;)r=r[co],n--;return r}var zf=!0;function kb(t){let e=zf;return zf=t,e}var jT=256,e0=jT-1,t0=5,BT=0,Mn={};function UT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ss)&&(r=n[Ss]),r==null&&(r=n[Ss]=BT++);let i=r&e0,o=1<<i;e.data[t+(i>>t0)]|=o}function Qc(t,e){let n=n0(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,Cf(r.data,t),Cf(e,null),Cf(r.blueprint,null));let i=zh(t,e),o=t.injectorIndex;if(Jy(i)){let s=Kc(i),a=Yc(i,e),c=a[de].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Cf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function n0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=a0(i),r===null)return Ji;if(n++,i=i[co],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function qf(t,e,n){UT(t,e,n)}function $T(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(by(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function r0(t,e,n){if(n&pe.Optional||t!==void 0)return t;kh(e,"NodeInjector")}function i0(t,e,n,r){if(n&pe.Optional&&r===void 0&&(r=null),!(n&(pe.Self|pe.Host))){let i=t[to],o=xn(void 0);try{return i?i.get(e,r,n&pe.Optional):py(e,r,n&pe.Optional)}finally{xn(o)}}return r0(r,e,n)}function o0(t,e,n,r=pe.Default,i){if(t!==null){if(e[ne]&2048&&!(r&pe.Self)){let s=WT(t,e,n,r,Mn);if(s!==Mn)return s}let o=s0(t,e,n,r,Mn);if(o!==Mn)return o}return i0(e,n,r,i)}function s0(t,e,n,r,i){let o=zT(n);if(typeof o=="function"){if(!qy(e,t,r))return r&pe.Host?r0(i,n,r):i0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&pe.Optional))kh(n);else return s}finally{Yy()}}else if(typeof o=="number"){let s=null,a=n0(t,e),c=Ji,u=r&pe.Host?e[gn][zt]:null;for((a===-1||r&pe.SkipSelf)&&(c=a===-1?zh(t,e):e[a+8],c===Ji||!Lb(r,!1)?a=-1:(s=e[de],a=Kc(c),e=Yc(c,e)));a!==-1;){let l=e[de];if(Fb(o,a,l.data)){let d=HT(a,e,n,s,r,u);if(d!==Mn)return d}c=e[a+8],c!==Ji&&Lb(r,e[de].data[a+8]===u)&&Fb(o,a,e)?(s=l,a=Kc(c),e=Yc(c,e)):a=-1}}return i}function HT(t,e,n,r,i,o){let s=e[de],a=s.data[t+8],c=r==null?hu(a)&&zf:r!=s&&(a.type&3)!==0,u=i&pe.Host&&o===a,l=jc(a,s,n,c,u);return l!==null?si(e,s,l,a):Mn}function jc(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,f=i?a+l:u;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&yr(h)&&h.type===n)return c}return null}function si(t,e,n,r){let i=t[n],o=e.data;if(kT(i)){let s=i;s.resolving&&Ax(Mx(o[n]));let a=kb(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?xn(s.injectImpl):null,l=qy(t,r,pe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&NT(n,o[n],e)}finally{u!==null&&xn(u),kb(a),s.resolving=!1,Yy()}}return i}function zT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ss)?t[Ss]:void 0;return typeof e=="number"?e>=0?e&e0:qT:e}function Fb(t,e,n){let r=1<<t;return!!(n[e+(t>>t0)]&r)}function Lb(t,e){return!(t&pe.Self)&&!(t&pe.Host&&e)}var ei=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return o0(this._tNode,this._lView,e,du(r),n)}};function qT(){return new ei(qt(),ke())}function hi(t){return Ns(()=>{let e=t.prototype.constructor,n=e[Hc]||Wf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Hc]||Wf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wf(t){return cy(t)?()=>{let e=Wf(xt(t));return e&&e()}:oo(t)}function WT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=s0(o,s,n,r|pe.Self,Mn);if(a!==Mn)return a;let c=o.parent;if(!c){let u=s[Ty];if(u){let l=u.get(n,Mn,r);if(l!==Mn)return l}c=a0(s),s=s[co]}o=c}return i}function a0(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[zt]:null}function Fs(t){return $T(qt(),t)}var Oc="__parameters__";function GT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function c0(t,e,n){return Ns(()=>{let r=GT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Oc)?c[Oc]:Object.defineProperty(c,Oc,{value:[]})[Oc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function KT(t){return typeof t=="function"}function YT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function QT(t){return t.flat(Number.POSITIVE_INFINITY)}function qh(t,e){t.forEach(n=>Array.isArray(n)?qh(n,e):e(n))}function u0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function l0(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function ZT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Wh(t,e,n){let r=Ls(t,e);return r>=0?t[r|1]=n:(r=~r,ZT(t,r,e,n)),r}function Df(t,e){let n=Ls(t,e);if(n>=0)return t[n|1]}function Ls(t,e){return XT(t,e,1)}function XT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var vu=my(c0("Optional"),8);var Gh=my(c0("SkipSelf"),4);var Vs=new W("ENVIRONMENT_INITIALIZER"),d0=new W("INJECTOR",-1),f0=new W("INJECTOR_DEF_TYPES"),Xc=class{get(e,n=Is){if(n===Is){let r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}};function lo(t){return{\u0275providers:t}}function JT(...t){return{\u0275providers:h0(!0,t),\u0275fromNgModule:!0}}function h0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return qh(e,s=>{let a=s;Gf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&p0(i,o),n}function p0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Kh(i,o=>{e(o,r)})}}function Gf(t,e,n,r){if(t=xt(t),!t)return!1;let i=null,o=Db(t),s=!o&&ti(t);if(!o&&!s){let c=t.ngModule;if(o=Db(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Gf(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{qh(o.imports,l=>{Gf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&p0(u,e)}if(!a){let u=oo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Lt},i),e({provide:f0,useValue:i,multi:!0},i),e({provide:Vs,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;Kh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Kh(t,e){for(let n of t)uy(n)&&(n=n.\u0275providers),Array.isArray(n)?Kh(n,e):e(n)}var eM=Pe({provide:String,useValue:Pe});function m0(t){return t!==null&&typeof t=="object"&&eM in t}function tM(t){return!!(t&&t.useExisting)}function nM(t){return!!(t&&t.useFactory)}function so(t){return typeof t=="function"}function rM(t){return!!t.useClass}var bu=new W("Set Injector scope."),Bc={},iM={},If;function Yh(){return If===void 0&&(If=new Xc),If}var Vt=class{},Jc=class extends Vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yf(e,s=>this.processProvider(s)),this.records.set(d0,Zi(void 0,this)),i.has("environment")&&this.records.set(Vt,Zi(void 0,this));let o=this.records.get(bu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(f0,Lt,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yi(this),r=xn(void 0),i;try{return e()}finally{Yi(n),xn(r)}}get(e,n=Is,r=pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sb))return e[Sb](this);r=du(r);let i,o=Yi(this),s=xn(void 0);try{if(!(r&pe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=uM(e)&&lu(e);u&&this.injectableDefInScope(u)?c=Zi(Kf(e),Bc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&pe.Self?Yh():this.parent;return n=r&pe.Optional&&n===Is?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[zc]=a[zc]||[]).unshift(vt(e)),o)throw a;return $x(a,e,"R3InjectorError",this.source)}else throw a}finally{xn(s),Yi(o)}}resolveInjectorInitializers(){let e=Yi(this),n=xn(void 0),r;try{let i=this.get(Vs,Lt,pe.Self);for(let o of i)o()}finally{Yi(e),xn(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){e=xt(e);let n=so(e)?e:xt(e&&e.provide),r=sM(e);if(!so(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,Bc,!0),i.factory=()=>Bf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===Bc&&(n.value=iM,n.value=n.factory()),typeof n.value=="object"&&n.value&&cM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=xt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kf(t){let e=lu(t),n=e!==null?e.factory:oo(t);if(n!==null)return n;if(t instanceof W)throw new k(204,!1);if(t instanceof Function)return oM(t);throw new k(204,!1)}function oM(t){let e=t.length;if(e>0){let r=l0(e,"?");throw new k(204,!1)}let n=Nx(t);return n!==null?()=>n.factory(t):()=>new t}function sM(t){if(m0(t))return Zi(void 0,t.useValue);{let e=g0(t);return Zi(e,Bc)}}function g0(t,e,n){let r;if(so(t)){let i=xt(t);return oo(i)||Kf(i)}else if(m0(t))r=()=>xt(t.useValue);else if(nM(t))r=()=>t.useFactory(...Bf(t.deps||[]));else if(tM(t))r=()=>L(xt(t.useExisting));else{let i=xt(t&&(t.useClass||t.provide));if(aM(t))r=()=>new i(...Bf(t.deps));else return oo(i)||Kf(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aM(t){return!!t.deps}function cM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uM(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function Yf(t,e){for(let n of t)Array.isArray(n)?Yf(n,e):n&&uy(n)?Yf(n.\u0275providers,e):e(n)}function Vb(t,e=null,n=null,r){let i=v0(t,e,n,r);return i.resolveInjectorInitializers(),i}function v0(t,e=null,n=null,r,i=new Set){let o=[n||Lt,JT(t)];return r=r||(typeof t=="object"?void 0:vt(t)),new Jc(o,e||Yh(),r||null,i)}var Sr=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Vb({name:""},i,r,"");{let o=r.name??"";return Vb({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Is,e.NULL=new Xc,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>L(d0)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Qf;function b0(t){Qf=t}function lM(){if(Qf!==void 0)return Qf;if(typeof document<"u")return document;throw new k(210,!1)}var yu=new W("AppId",{providedIn:"root",factory:()=>dM}),dM="ng",Qh=new W("Platform Initializer"),Pn=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var kn=new W("AnimationModuleType"),js=new W("CSP nonce",{providedIn:"root",factory:()=>lM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function y0(t){return t instanceof Function?t():t}function E0(t){return(t.flags&128)===128}var Jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jn||{});var _0=new Map,fM=0;function hM(){return fM++}function pM(t){_0.set(t[fu],t)}function mM(t){_0.delete(t[fu])}var jb="__ngContext__";function ai(t,e){br(e)?(t[jb]=e[fu],pM(e)):t[jb]=e}var gM;function Zh(t,e){return gM(t,e)}function Xh(t){let e=t[tt];return vn(e)?e[tt]:e}function w0(t){return C0(t[Ms])}function S0(t){return C0(t[mn])}function C0(t){for(;t!==null&&!vn(t);)t=t[mn];return t}function Xi(t,e,n,r,i){if(r!=null){let o,s=!1;vn(r)?o=r:br(r)&&(s=!0,r=r[tr]);let a=Nn(r);t===0&&n!==null?i==null?M0(e,n,a):eu(e,n,a,i||null,!0):t===1&&n!==null?eu(e,n,a,i||null,!0):t===2?OM(e,a,s):t===3&&e.destroyNode(a),o!=null&&NM(e,t,o,n,i)}}function vM(t,e){return t.createText(e)}function D0(t,e,n){return t.createElement(e,n)}function bM(t,e){let n=e[ot];Bs(t,e,n,2,null,null),e[tr]=null,e[zt]=null}function yM(t,e,n,r,i,o){r[tr]=i,r[zt]=e,Bs(t,r,n,1,i,o)}function EM(t,e){Bs(t,e,e[ot],2,null,null)}function _M(t){let e=t[Ms];if(!e)return xf(t[de],t);for(;e;){let n=null;if(br(e))n=e[Ms];else{let r=e[$t];r&&(n=r)}if(!n){for(;e&&!e[mn]&&e!==t;)br(e)&&xf(e[de],e),e=e[tt];e===null&&(e=t),br(e)&&xf(e[de],e),n=e&&e[mn]}e=n}}function wM(t,e,n,r){let i=$t+r,o=n.length;r>0&&(n[i-1][mn]=e),r<o-$t?(e[mn]=n[i],u0(n,$t+r,e)):(n.push(e),e[mn]=null),e[tt]=n;let s=e[Ps];s!==null&&n!==s&&SM(s,e);let a=e[An];a!==null&&a.insertView(t),Fy(e),e[ne]|=128}function SM(t,e){let n=t[ro],i=e[tt][tt][gn];e[gn]!==i&&(t[ne]|=io.HasTransplantedViews),n===null?t[ro]=[e]:n.push(e)}function I0(t,e){let n=t[ro],r=n.indexOf(e),i=e[tt];n.splice(r,1)}function Zf(t,e){if(t.length<=$t)return;let n=$t+e,r=t[n];if(r){let i=r[Ps];i!==null&&i!==t&&I0(i,r),e>0&&(t[n-1][mn]=r[mn]);let o=Zc(t,$t+e);bM(r[de],r);let s=o[An];s!==null&&s.detachView(o[de]),r[tt]=null,r[mn]=null,r[ne]&=-129}return r}function x0(t,e){if(!(e[ne]&256)){let n=e[ot];e[ni]&&Qv(e[ni]),n.destroyNode&&Bs(t,e,n,3,null,null),_M(e)}}function xf(t,e){if(!(e[ne]&256)){e[ne]&=-129,e[ne]|=256,DM(t,e),CM(t,e),e[de].type===1&&e[ot].destroy();let n=e[Ps];if(n!==null&&vn(e[tt])){n!==e[tt]&&I0(n,e);let r=e[An];r!==null&&r.detachView(t)}mM(e)}}function CM(t,e){let n=t.cleanup,r=e[Ts];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ts]=null);let i=e[Ds];if(i!==null){e[Ds]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function DM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof oi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Tn(4,a,c);try{c.call(a)}finally{Tn(5,a,c)}}else{Tn(4,i,o);try{o.call(i)}finally{Tn(5,i,o)}}}}}function T0(t,e,n){return IM(t,e.parent,n)}function IM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[tr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===On.None||o===On.Emulated)return null}return en(r,n)}}function eu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function M0(t,e,n){t.appendChild(e,n)}function Bb(t,e,n,r,i){r!==null?eu(t,e,n,r,i):M0(t,e,n)}function xM(t,e,n,r){t.removeChild(e,n,r)}function Jh(t,e){return t.parentNode(e)}function TM(t,e){return t.nextSibling(e)}function A0(t,e,n){return AM(t,e,n)}function MM(t,e,n){return t.type&40?en(t,n):null}var AM=MM,Ub;function ep(t,e,n,r){let i=T0(t,r,e),o=e[ot],s=r.parent||e[zt],a=A0(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Bb(o,i,n[c],a,!1);else Bb(o,i,n,a,!1);Ub!==void 0&&Ub(o,r,e,n,i)}function Uc(t,e){if(e!==null){let n=e.type;if(n&3)return en(e,t);if(n&4)return Xf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Uc(t,r);{let i=t[e.index];return vn(i)?Xf(-1,i):Nn(i)}}else{if(n&32)return Zh(e,t)()||Nn(t[e.index]);{let r=O0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xh(t[gn]);return Uc(i,r)}else return Uc(t,e.next)}}}return null}function O0(t,e){if(e!==null){let r=t[gn][zt],i=e.projection;return r.projection[i]}return null}function Xf(t,e){let n=$t+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return Uc(r,i)}return e[ri]}function OM(t,e,n){let r=Jh(t,e);r&&xM(t,r,e,n)}function tp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ai(Nn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)tp(t,e,n.child,r,i,o,!1),Xi(e,t,i,a,o);else if(c&32){let u=Zh(n,r),l;for(;l=u();)Xi(e,t,i,l,o);Xi(e,t,i,a,o)}else c&16?R0(t,e,r,n,i,o):Xi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Bs(t,e,n,r,i,o){tp(n,r,t.firstChild,e,i,o,!1)}function RM(t,e,n){let r=e[ot],i=T0(t,n,e),o=n.parent||e[zt],s=A0(o,n,e);R0(r,0,e,n,i,s)}function R0(t,e,n,r,i,o){let s=n[gn],c=s[zt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Xi(e,t,i,l,o)}else{let u=c,l=s[tt];E0(r)&&(u.flags|=128),tp(t,e,u,l,i,o,!0)}}function NM(t,e,n,r,i){let o=n[ri],s=Nn(n);o!==s&&Xi(e,t,r,o,i);for(let a=$t;a<n.length;a++){let c=n[a];Bs(c[de],c,t,e,r,o)}}function PM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),t.setStyle(n,r,i,o))}}function kM(t,e,n){t.setAttribute(e,"style",n)}function N0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function P0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Uf(t,e,r),i!==null&&N0(t,e,i),o!==null&&kM(t,e,o)}var Rc;function FM(){if(Rc===void 0&&(Rc=null,Xn.trustedTypes))try{Rc=Xn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rc}function Eu(t){return FM()?.createHTML(t)||t}var Nc;function LM(){if(Nc===void 0&&(Nc=null,Xn.trustedTypes))try{Nc=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nc}function $b(t){return LM()?.createScriptURL(t)||t}var er=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ly})`}},Jf=class extends er{getTypeName(){return"HTML"}},eh=class extends er{getTypeName(){return"Style"}},th=class extends er{getTypeName(){return"Script"}},nh=class extends er{getTypeName(){return"URL"}},rh=class extends er{getTypeName(){return"ResourceURL"}};function bn(t){return t instanceof er?t.changingThisBreaksApplicationSecurity:t}function Cr(t,e){let n=VM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ly})`)}return n===e}function VM(t){return t instanceof er&&t.getTypeName()||null}function k0(t){return new Jf(t)}function F0(t){return new eh(t)}function L0(t){return new th(t)}function V0(t){return new nh(t)}function j0(t){return new rh(t)}function jM(t){let e=new oh(t);return BM()?new ih(e):e}var ih=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Eu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},oh=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Eu(e),n}};function BM(){try{return!!new window.DOMParser().parseFromString(Eu(""),"text/html")}catch{return!1}}var UM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _u(t){return t=String(t),t.match(UM)?t:"unsafe:"+t}function rr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Us(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var B0=rr("area,br,col,hr,img,wbr"),U0=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$0=rr("rp,rt"),$M=Us($0,U0),HM=Us(U0,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zM=Us($0,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hb=Us(B0,HM,zM,$M),H0=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qM=rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WM=rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GM=Us(H0,qM,WM),KM=rr("script,style,template"),sh=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!Hb.hasOwnProperty(n))return this.sanitizedSomething=!0,!KM.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!GM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;H0[a]&&(c=_u(c)),this.buf.push(" ",s,'="',zb(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();Hb.hasOwnProperty(n)&&!B0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(zb(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},YM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QM=/([^\#-~ |!])/g;function zb(t){return t.replace(/&/g,"&amp;").replace(YM,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(QM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Pc;function z0(t,e){let n=null;try{Pc=Pc||jM(t);let r=e?String(e):"";n=Pc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Pc.getInertBodyElement(r)}while(r!==o);let a=new sh().sanitizeChildren(qb(n)||n);return Eu(a)}finally{if(n){let r=qb(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function qb(t){return"content"in t&&ZM(t)?t.content:null}function ZM(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var bt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bt||{});function XM(t){let e=W0();return e?e.sanitize(bt.URL,t)||"":Cr(t,"URL")?bn(t):_u(Ph(t))}function JM(t){let e=W0();if(e)return $b(e.sanitize(bt.RESOURCE_URL,t)||"");if(Cr(t,"ResourceURL"))return $b(bn(t));throw new k(904,!1)}function eA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?JM:XM}function q0(t,e,n){return eA(e,n)(t)}function W0(){let t=ke();return t&&t[no].sanitizer}var tA="h",nA="b";var rA=(t,e,n)=>null;function np(t,e,n=!1){return rA(t,e,n)}var ah=class{},tu=class{};function iA(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[oA]=t,e}var oA="ngComponent";var ch=class{resolveComponentFactory(e){throw iA(e)}},wu=(()=>{let e=class e{};e.NULL=new ch;let t=e;return t})();function sA(){return fo(qt(),ke())}function fo(t,e){return new ze(en(t,e))}var ze=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=sA;let t=e;return t})();function aA(t){return t instanceof ze?t.nativeElement:t}var ci=class{},pi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>cA();let t=e;return t})();function cA(){let t=ke(),e=qt(),n=wr(e.index,t);return(br(n)?n:t)[ot]}var uA=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Er=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},lA=new Er("17.0.3"),Tf={};function G0(t){return fA(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function dA(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function fA(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var uh=class{constructor(){}supports(e){return G0(e)}create(e){return new lh(e)}},hA=(t,e)=>e,lh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Wb(r,i,o)?n:r,a=Wb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;l<=p&&p<u&&(o[f]=h+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!G0(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,dA(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new dh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new nu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},fh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new fh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Wb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Gb(){return new rp([new uh])}var rp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Gb()),deps:[[e,new Gh,new vu]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new k(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:Gb});let t=e;return t})();function ru(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Nn(o)),vn(o)&&pA(o,r);let s=n.type;if(s&8)ru(t,e,n.child,r);else if(s&32){let a=Zh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=O0(e,n);if(Array.isArray(a))r.push(...a);else{let c=Xh(e[gn]);ru(c[de],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pA(t,e){for(let n=$t;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&ru(r[de],r,i,e)}t[ri]!==t[tr]&&e.push(t[ri])}var K0=[];function mA(t){return t[ni]??gA(t)}function gA(t){let e=K0.pop()??Object.create(bA);return e.lView=t,e}function vA(t){t.lView[ni]!==t&&(t.lView=null,K0.push(t))}var bA=Ne(U({},Gv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pu(t.lView)},consumerOnSignalRead(){this.lView[ni]=this}}),yA="ngOriginalError";function Mf(t){return t[yA]}var Ht=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mf(e);for(;n&&Mf(n);)n=Mf(n);return n||null}};var Y0=!1,EA=new W("",{providedIn:"root",factory:()=>Y0});var ho={};function Ze(t){Q0(Tt(),ke(),uo()+t,!1)}function Q0(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Lc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Vc(e,o,0,n)}ii(n)}function X(t,e=pe.Default){let n=ke();if(n===null)return L(t,e);let r=qt();return o0(r,n,xt(t),e)}function ip(){let t="invalid";throw new Error(t)}function _A(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ii(~i);else{let o=i,s=n[++r],a=n[++r];xT(s,o);let c=e[o];a(2,c)}}}finally{ii(-1)}}function Su(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[tr]=i,d[ne]=r|4|128|8,(u!==null||t&&t[ne]&2048)&&(d[ne]|=2048),ky(d),d[tt]=d[co]=t,d[Jt]=n,d[no]=s||t&&t[no],d[ot]=a||t&&t[ot],d[to]=c||t&&t[to]||null,d[zt]=o,d[fu]=hM(),d[qc]=l,d[Ty]=u,d[gn]=e.type==2?t[gn]:d,d}function $s(t,e,n,r,i){let o=t.data[e];if(o===null)o=wA(t,e,n,r,i),IT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ST();o.injectorIndex=s===null?-1:s.injectorIndex}return ks(o,!0),o}function wA(t,e,n,r,i){let o=jy(),s=By(),a=s?o:o&&o.parent,c=t.data[e]=TA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Z0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function X0(t,e,n,r,i){let o=uo(),s=r&2;try{ii(-1),s&&e.length>Rn&&Q0(t,e,Rn,!1),Tn(s?2:0,i),n(r,i)}finally{ii(o),Tn(s?3:1,i)}}function J0(t,e,n){if(Ay(e)){let r=Ut(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ut(r)}}}function eE(t,e,n){Ly()&&(kA(t,e,n,en(n,e)),(n.flags&64)===64&&oE(t,e,n))}function tE(t,e,n=en){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function nE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=op(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function op(t,e,n,r,i,o,s,a,c,u,l){let d=Rn+r,f=d+i,h=SA(d,f),p=typeof u=="function"?u():u;return h[de]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function SA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ho);return n}function CA(t,e,n,r){let o=r.get(EA,Y0)||n===On.ShadowDom,s=t.selectRootElement(e,o);return DA(s),s}function DA(t){IA(t)}var IA=t=>null;function xA(t,e,n,r){let i=uE(e);i.push(n),t.firstCreatePass&&lE(t).push(r,i.length-1)}function TA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Vy()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Kb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let o=t[i];r===null?Yb(n,e,i,o):r.hasOwnProperty(i)&&Yb(n,e,r[i],o)}return n}function Yb(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function MA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=Kb(d.inputs,l,c,h),u=Kb(d.outputs,l,u,p);let m=c!==null&&s!==null&&!Ey(e)?WA(c,l,s):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function AA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function OA(t,e,n,r,i,o,s,a){let c=en(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(sp(t,n,l,r,i),hu(e)&&RA(n,e.index)):e.type&3?(r=AA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function RA(t,e){let n=wr(e,t);n[ne]&16||(n[ne]|=64)}function rE(t,e,n,r){if(Ly()){let i=r===null?null:{"":-1},o=LA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&iE(t,e,n,s,i,a),i&&VA(n,r,i)}n.mergedAttrs=xs(n.mergedAttrs,n.attrs)}function iE(t,e,n,r,i,o){for(let u=0;u<r.length;u++)qf(Qc(n,e),t,r[u].type);BA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Z0(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=xs(n.mergedAttrs,l.hostAttrs),UA(t,n,e,c,l),jA(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}MA(t,n,o)}function NA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;PA(s)!=a&&s.push(a),s.push(n,r,o)}}function PA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function kA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;hu(n)&&$A(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Qc(n,e),ai(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=si(e,t,a,n);if(ai(u,e),s!==null&&qA(e,a-i,u,c,n,s),yr(c)){let l=wr(n.index,e);l[Jt]=si(e,t,a,n)}}}function oE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=TT();try{ii(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Hf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&FA(c,u)}}finally{ii(-1),Hf(s)}}function FA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function LA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(_y(e,s.selectors,!1))if(r||(r=[]),yr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;hh(t,e,c)}else r.unshift(s),hh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function hh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function VA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new k(-301,!1);r.push(e[i],o)}}}function jA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function BA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function UA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=oo(i.type,!0)),s=new oi(o,yr(i),X);t.blueprint[r]=s,n[r]=s,NA(t,e,r,Z0(t,n,i.hostVars,ho),i)}function $A(t,e,n){let r=en(e,t),i=nE(n),o=t[no].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Cu(t,Su(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function HA(t,e,n,r,i,o){let s=en(t,e);zA(e[ot],s,o,t.value,n,r,i)}function zA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ph(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function qA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++];sE(r,n,c,u,l)}}function sE(t,e,n,r,i){let o=Ut(null);try{let s=t.inputTransforms;s!==null&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Ut(o)}}function WA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}return r}function aE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cE(t,e){let n=t.contentQueries;if(n!==null){let r=Ut(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Vh(o),a.contentQueries(2,e[s],s)}}}finally{Ut(r)}}}function Cu(t,e){return t[Ms]?t[Rb][mn]=e:t[Ms]=e,t[Rb]=e,e}function ph(t,e,n){Vh(0);let r=Ut(null);try{e(t,n)}finally{Ut(r)}}function uE(t){return t[Ts]||(t[Ts]=[])}function lE(t){return t.cleanup||(t.cleanup=[])}function dE(t,e){let n=t[to],r=n?n.get(Ht,null):null;r&&r.handleError(e)}function sp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=e[s],u=t.data[s];sE(u,c,r,a,i)}}var GA=100;function KA(t,e=!0){let n=t[no],r=n.rendererFactory,i=n.afterRenderEventManager,o=!1;o||(r.begin?.(),i?.begin());try{let s=t[de],a=t[Jt];fE(s,t,s.template,a),YA(t)}catch(s){throw e&&dE(t,s),s}finally{o||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function YA(t){let e=0;for(;t[ne]&9216||t[ni]?.dirty;){if(e===GA)throw new k(103,!1);e++,mE(t,1)}}function fE(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[no].inlineEffectRunner?.flush(),jh(e);let s=null,a=null;!o&&QA(t)&&(a=mA(e),s=Kv(a));try{ky(e),DT(t.bindingStartIndex),n!==null&&X0(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Lc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Vc(e,d,0,null),Sf(e,0)}if(ZA(e),hE(e,0),t.contentQueries!==null&&cE(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Lc(e,d)}else{let d=t.contentHooks;d!==null&&Vc(e,d,1),Sf(e,1)}_A(t,e);let u=t.components;u!==null&&gE(e,u,0);let l=t.viewQuery;if(l!==null&&ph(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Lc(e,d)}else{let d=t.viewHooks;d!==null&&Vc(e,d,2),Sf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wf]){for(let d of e[wf])d();e[wf]=null}o||(e[ne]&=-73)}catch(c){throw pu(e),c}finally{a!==null&&(Yv(a,s),vA(a)),Bh()}}function QA(t){return t.type!==2}function hE(t,e){for(let n=w0(t);n!==null;n=S0(n)){n[ne]&=~io.HasChildViewsToRefresh;for(let r=$t;r<n.length;r++){let i=n[r];pE(i,e)}}}function ZA(t){for(let e=w0(t);e!==null;e=S0(e)){if(!(e[ne]&io.HasTransplantedViews))continue;let n=e[ro];for(let r=0;r<n.length;r++){let i=n[r],o=i[tt];mT(i)}}}function XA(t,e,n){let r=wr(e,t);pE(r,n)}function pE(t,e){Lh(t)&&mE(t,e)}function mE(t,e){let r=t[de],i=t[ne],o=t[ni],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&tf(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)fE(r,t,r.template,t[Jt]);else if(i&8192){hE(t,1);let a=r.components;a!==null&&gE(t,a,1)}}function gE(t,e,n){for(let r=0;r<e.length;r++)XA(t,e[r],n)}function ap(t){for(;t;){t[ne]|=64;let e=Xh(t);if(oT(t)&&!e)return t;t=e}return null}var ui=class{get rootNodes(){let e=this._lView,n=e[de];return ru(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(vn(e)){let n=e[Wc],r=n?n.indexOf(this):-1;r>-1&&(Zf(e,r),Zc(n,r))}this._attachedToViewContainer=!1}x0(this._lView[de],this._lView)}onDestroy(e){vT(this._lView,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){Fy(this._lView),this._lView[ne]|=128}detectChanges(){KA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,EM(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}},mi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JA;let t=e;return t})();function JA(t){return eO(qt(),ke(),(t&16)===16)}function eO(t,e,n){if(hu(t)&&!n){let r=wr(t.index,e);return new ui(r,r)}else if(t.type&47){let r=e[gn];return new ui(r,e)}return null}var Qb=new Set;function cp(t){Qb.has(t)||(Qb.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var mh=class extends Ye{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Af(o),i&&(i=Af(i)),s&&(s=Af(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}};function Af(t){return e=>{setTimeout(t,void 0,e)}}var ut=mh;function Zb(...t){}function tO(){let t=typeof Xn.requestAnimationFrame=="function",e=Xn[t?"requestAnimationFrame":"setTimeout"],n=Xn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ee=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=tO().nativeRequestAnimationFrame,iO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nO,Zb,Zb);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nO={};function up(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gh(t),t.isCheckStableRunning=!0,up(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gh(t))}function iO(t){let e=()=>{rO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(oO(a))return n.invokeTask(i,o,s,a);try{return Xb(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Jb(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Xb(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Jb(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,gh(t),up(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function gh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Xb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Jb(t){t._nesting--,up(t)}var vE=new W("",{providedIn:"root",factory:bE});function bE(){let t=j(Ee),e=!0,n=new he(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new he(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let s=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}});return vf(n,r.pipe(Ki()))}function oO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var sO=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function aO(t,e){let n=wr(e,t),r=n[de];cO(r,n);let i=n[tr];i!==null&&n[qc]===null&&(n[qc]=np(i,n[to])),lp(r,n,n[Jt])}function cO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lp(t,e,n){jh(e);try{let r=t.viewQuery;r!==null&&ph(1,r,n);let i=t.template;i!==null&&X0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&cE(t,e),t.staticViewQueries&&ph(2,t.viewQuery,n);let o=t.components;o!==null&&uO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Bh()}}function uO(t,e){for(let n=0;n<e.length;n++)aO(t,e[n])}function vh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Lf(i,a);else if(o==2){let c=a,u=e[++s];r=Lf(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var iu=class extends wu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ti(e);return new As(n,this.ngModule)}};function ey(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function lO(t){let e=t.toLowerCase();return e==="svg"?uT:e==="math"?lT:null}var bh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=du(r);let i=this.injector.get(e,Tf,r);return i!==Tf||n===Tf?i:this.parentInjector.get(e,n,r)}},As=class extends tu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ey(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ey(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=eT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof Vt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new bh(e,o):e,a=s.get(ci,null);if(a===null)throw new k(407,!1);let c=s.get(uA,null),u=s.get(sO,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",h=r?CA(d,r,this.componentDef.encapsulation,s):D0(d,f,lO(f)),p=4608,m=this.componentDef.onPush?576:528,b=this.componentDef.signals?p:m,y=null;h!==null&&(y=np(h,s,!0));let O=op(0,null,null,1,0,null,null,null,null,null,null),w=Su(null,O,null,b,null,null,l,d,s,null,y);jh(w);let x,D;try{let T=this.componentDef,C,g=null;T.findHostDirectiveDefs?(C=[],g=new Map,T.findHostDirectiveDefs(T,C,g),C.push(T)):C=[T];let M=dO(w,h),N=fO(M,h,T,C,w,l,d);D=Py(O,Rn),h&&mO(d,T,h,r),n!==void 0&&gO(D,this.ngContentSelectors,n),x=pO(N,T,C,g,w,[vO]),lp(O,w,null)}finally{Bh()}return new yh(this.componentType,x,fo(D,w),w,D)}},yh=class extends ah{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ui(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;sp(o[de],o,i,e,n),this.previousInputValues.set(e,n);let s=wr(this._tNode.index,o);ap(s)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dO(t,e){let n=t[de],r=Rn;return t[r]=e,$s(n,r,2,"#host",null)}function fO(t,e,n,r,i,o,s){let a=i[de];hO(r,t,e,s);let c=null;e!==null&&(c=np(e,i[to]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Su(i,nE(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&hh(a,t,r.length-1),Cu(i,d),i[t.index]=d}function hO(t,e,n,r){for(let i of t)e.mergedAttrs=xs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(vh(e,e.mergedAttrs,!0),n!==null&&P0(r,n,e))}function pO(t,e,n,r,i,o){let s=qt(),a=i[de],c=en(s,i);iE(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,f=si(i,a,d,s);ai(f,i)}oE(a,i,s),c&&ai(c,i);let u=si(i,a,s.directiveStart+s.componentOffset,s);if(t[Jt]=i[Jt]=u,o!==null)for(let l of o)l(u,e);return J0(a,s,t),u}function mO(t,e,n,r){if(r)Uf(t,n,["ng-version",lA.full]);else{let{attrs:i,classes:o}=tT(e.selectors[0]);i&&Uf(t,n,i),o&&o.length>0&&N0(t,n,o.join(" "))}}function gO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function vO(){let t=qt();Hh(ke()[de],t)}function bO(t){return Object.getPrototypeOf(t.prototype).constructor}function tn(t){let e=bO(t.type),n=!0,r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=kc(t.inputs),s.inputTransforms=kc(t.inputTransforms),s.declaredInputs=kc(t.declaredInputs),s.outputs=kc(t.outputs);let a=i.hostBindings;a&&wO(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&EO(t,c),u&&_O(t,u),Ac(t.inputs,i.inputs),Ac(t.declaredInputs,i.declaredInputs),Ac(t.outputs,i.outputs),i.inputTransforms!==null&&(s.inputTransforms===null&&(s.inputTransforms={}),Ac(s.inputTransforms,i.inputTransforms)),yr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===tn&&(n=!1)}}e=Object.getPrototypeOf(e)}yO(r)}function yO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xs(i.hostAttrs,n=xs(n,i.hostAttrs))}}function kc(t){return t===eo?{}:t===Lt?[]:t}function EO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function _O(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function wO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Dr(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Du(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function nn(t,e,n,r){let i=ke(),o=$y();if(Du(i,o,e)){let s=Tt(),a=Qy();HA(a,i,t,e,n,r)}return nn}function Fc(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function SO(t){return(t&2)==2}function CO(t,e){return t&131071|e<<17}function Eh(t){return t|2}function ao(t){return(t&131068)>>2}function Of(t,e){return t&-131069|e<<2}function DO(t){return(t&1)===1}function _h(t){return t|1}function IO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),c=ao(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ls(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let f=li(t[a+1]);t[r+1]=Fc(f,a),f!==0&&(t[f+1]=Of(t[f+1],r)),t[a+1]=CO(t[a+1],r)}else t[r+1]=Fc(a,0),a!==0&&(t[a+1]=Of(t[a+1],r)),a=r;else t[r+1]=Fc(c,0),a===0?a=r:t[c+1]=Of(t[c+1],r),c=r;u&&(t[r+1]=Eh(t[r+1])),ty(t,l,r,!0,o),ty(t,l,r,!1,o),xO(e,l,t,r,o),s=Fc(a,c),o?e.classBindings=s:e.styleBindings=s}function xO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ls(o,e)>=0&&(n[r+1]=_h(n[r+1]))}function ty(t,e,n,r,i){let o=t[n+1],s=e===null,a=r?li(o):ao(o),c=!1;for(;a!==0&&(c===!1||s);){let u=t[a],l=t[a+1];TO(u,e)&&(c=!0,t[a+1]=r?_h(l):Eh(l)),a=r?li(l):ao(l)}c&&(t[n+1]=r?Eh(o):_h(o))}function TO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ls(t,e)>=0:!1}var pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MO(t){return t.substring(pn.key,pn.keyEnd)}function AO(t){return OO(t),yE(t,EE(t,0,pn.textEnd))}function yE(t,e){let n=pn.textEnd;return n===e?-1:(e=pn.keyEnd=RO(t,pn.key=e,n),EE(t,e,n))}function OO(t){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=t.length}function EE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function RO(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function qe(t,e,n){let r=ke(),i=$y();if(Du(r,i,e)){let o=Tt(),s=Qy();OA(o,s,r,t,e,r[ot],n,!1)}return qe}function wh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";sp(t,n,o[s],s,r)}function Fn(t,e){return PO(t,e,null,!0),Fn}function _E(t){kO(UO,NO,t,!0)}function NO(t,e){for(let n=AO(e);n>=0;n=yE(e,n))Wh(t,MO(e),!0)}function PO(t,e,n,r){let i=ke(),o=Tt(),s=Hy(2);if(o.firstUpdatePass&&SE(o,t,s,r),e!==ho&&Du(i,s,e)){let a=o.data[uo()];CE(o,a,i,i[ot],t,i[s+1]=HO(e,n),r,s)}}function kO(t,e,n,r){let i=Tt(),o=Hy(2);i.firstUpdatePass&&SE(i,null,o,r);let s=ke();if(n!==ho&&Du(s,o,n)){let a=i.data[uo()];if(DE(a,r)&&!wE(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Lf(c,n||"")),wh(i,a,s,n,r)}else $O(i,a,s,s[ot],s[o+1],s[o+1]=BO(t,e,n),r,o)}}function wE(t,e){return e>=t.expandoStartIndex}function SE(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[uo()],s=wE(t,n);DE(o,r)&&e===null&&!s&&(e=!1),e=FO(i,o,e,r),IO(i,o,e,n,s,r)}}function FO(t,e,n,r){let i=MT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Rf(null,t,e,n,r),n=Os(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Rf(i,t,e,n,r),o===null){let c=LO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Rf(null,t,e,c[1],r),c=Os(c,e.attrs,r),VO(t,e,r,c))}else o=jO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function LO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ao(r)!==0)return t[li(r)]}function VO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function jO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Os(r,s,n)}return Os(r,e.attrs,n)}function Rf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Os(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Os(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Wh(t,s,n?!0:e[++o]))}return t===void 0?null:t}function BO(t,e,n){if(n==null||n==="")return Lt;let r=[],i=bn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function UO(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Wh(t,r,n)}function $O(t,e,n,r,i,o,s,a){i===ho&&(i=Lt);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;l!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,h=u<o.length?o[u+1]:void 0,p=null,m;l===d?(c+=2,u+=2,f!==h&&(p=d,m=h)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,m=h),p!==null&&CE(t,e,n,r,p,m,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}function CE(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=DO(u)?ny(c,e,n,i,ao(u),s):void 0;if(!ou(l)){ou(o)||SO(u)&&(o=ny(c,null,n,i,a,s));let d=dT(uo(),n);PM(r,s,d,i,o)}}function ny(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,f=n[i+1];f===ho&&(f=d?Lt:void 0);let h=d?Df(f,r):l===r?f:void 0;if(u&&!ou(h)&&(h=Df(c,r)),ou(h)&&(a=h,s))return a;let p=t[i+1];i=s?li(p):ao(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Df(c,r))}return a}function ou(t){return t!==void 0}function HO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(bn(t)))),t}function DE(t,e){return(t.flags&(e?8:16))!==0}var hq=new RegExp(`^(\\d+)*(${nA}|${tA})*(.*)`);var zO=(t,e)=>null;function ry(t,e){return zO(t,e)}function qO(t,e,n,r){let i=e.tView,s=t[ne]&4096?4096:16,a=Su(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Ps]=c;let u=t[An];return u!==null&&(a[An]=u.createEmbeddedView(i)),lp(i,a,n),a}function iy(t,e){return!e||E0(t)}function WO(t,e,n,r=!0){let i=e[de];if(wM(i,e,t,n),r){let o=Xf(n,t),s=e[ot],a=Jh(s,t[ri]);a!==null&&yM(i,t[zt],s,e,a,o)}}var Ir=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GO;let t=e;return t})();function GO(){let t=qt();return xE(t,ke())}var KO=Ir,IE=class extends KO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fo(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let e=zh(this._hostTNode,this._hostLView);if(Jy(e)){let n=Yc(e,this._hostLView),r=Kc(e),i=n[de].data[r+8];return new ei(i,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=oy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ry(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,iy(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!KT(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new As(ti(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let m=(s?u:this.parentInjector).get(Vt,null);m&&(o=m)}let l=ti(c.componentType??{}),d=ry(this._lContainer,l?.id??null),f=d?.firstChild??null,h=c.create(u,i,f,o);return this.insertImpl(h.hostView,a,iy(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(pT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[tt],u=new IE(c,c[zt],c[tt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return WO(s,i,o,r),e.attachToViewContainerRef(),u0(Nf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=oy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Zf(this._lContainer,n);r&&(Zc(Nf(this._lContainer),n),x0(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=Zf(this._lContainer,n);return r&&Zc(Nf(this._lContainer),n)!=null?new ui(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function oy(t){return t[Wc]}function Nf(t){return t[Wc]||(t[Wc]=[])}function xE(t,e){let n,r=e[t.index];return vn(r)?n=r:(n=aE(r,e,null,t),e[t.index]=n,Cu(e,n)),QO(n,e,t,r),new IE(n,t,e)}function YO(t,e){let n=t[ot],r=n.createComment(""),i=en(e,t),o=Jh(n,i);return eu(n,o,r,TM(n,i),!1),r}var QO=JO,ZO=(t,e,n)=>!1;function XO(t,e,n){return ZO(t,e,n)}function JO(t,e,n,r){if(t[ri])return;let i;n.type&8?i=Nn(r):i=YO(e,n),t[ri]=i}function eR(t,e,n,r,i,o,s,a,c){let u=e.consts,l=$s(e,t,4,s||null,Gc(u,a));rE(e,n,l,Gc(u,c)),Hh(e,l);let d=l.tView=op(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Hs(t,e,n,r,i,o,s,a){let c=ke(),u=Tt(),l=t+Rn,d=u.firstCreatePass?eR(l,u,c,e,n,r,i,o,s):u.data[l];ks(d,!1);let f=tR(u,c,d,t);Uh()&&ep(u,c,f,d),ai(f,c);let h=aE(f,c,f,d);return c[l]=h,Cu(c,h),XO(h,d,c),Fh(d)&&eE(u,c,d),s!=null&&tE(c,d,a),Hs}var tR=nR;function nR(t,e,n,r){return $h(!0),e[ot].createComment("")}function rR(t,e,n,r,i,o){let s=e.consts,a=Gc(s,i),c=$s(e,t,2,r,a);return rE(e,n,c,Gc(s,o)),c.attrs!==null&&vh(c,c.attrs,!1),c.mergedAttrs!==null&&vh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function oe(t,e,n,r){let i=ke(),o=Tt(),s=Rn+t,a=i[ot],c=o.firstCreatePass?rR(s,o,i,e,n,r):o.data[s],u=iR(o,i,c,a,e,t);i[s]=u;let l=Fh(c);return ks(c,!0),P0(a,u,c),(c.flags&32)!==32&&Uh()&&ep(o,i,u,c),bT()===0&&ai(u,i),yT(),l&&(eE(o,i,c),J0(o,c,i)),r!==null&&tE(i,c),oe}function ye(){let t=qt();By()?Uy():(t=t.parent,ks(t,!1));let e=t;_T(e)&&wT(),ET();let n=Tt();return n.firstCreatePass&&(Hh(n,t),Ay(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&FT(e)&&wh(n,e,ke(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&LT(e)&&wh(n,e,ke(),e.stylesWithoutHost,!1),ye}function lt(t,e,n,r){return oe(t,e,n,r),ye(),lt}var iR=(t,e,n,r,i,o)=>($h(!0),D0(r,i,RT()));function Iu(){return ke()}var su="en-US";var oR=su;function sR(t){Ox(t,"Expected localeId to be defined"),typeof t=="string"&&(oR=t.toLowerCase().replace(/_/g,"-"))}function gi(t){return!!t&&typeof t.then=="function"}function TE(t){return!!t&&typeof t.subscribe=="function"}function nt(t,e,n,r){let i=ke(),o=Tt(),s=qt();return cR(o,i,i[ot],s,t,e,r),nt}function aR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ts],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function cR(t,e,n,r,i,o,s){let a=Fh(r),u=t.firstCreatePass&&lE(t),l=e[Jt],d=uE(e),f=!0;if(r.type&3||s){let m=en(r,e),b=s?s(m):m,y=d.length,O=s?x=>s(Nn(x[r.index])):r.index,w=null;if(!s&&a&&(w=aR(t,e,i,r.index)),w!==null){let x=w.__ngLastListenerFn__||w;x.__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,f=!1}else{o=ay(r,e,l,o,!1);let x=n.listen(b,i,o);d.push(o,x),u&&u.push(i,O,y,y+1)}}else o=ay(r,e,l,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let m=p.length;if(m)for(let b=0;b<m;b+=2){let y=p[b],O=p[b+1],D=e[y][O].subscribe(o),T=d.length;d.push(o,D),u&&u.push(i,r.index,T,-(T+1))}}}function sy(t,e,n,r){try{return Tn(6,e,n),n(r)!==!1}catch(i){return dE(t,i),!1}finally{Tn(7,e,n)}}function ay(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?wr(t.index,e):e;ap(a);let c=sy(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=sy(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function po(t=1){return OT(t)}function uR(t,e){let n=null,r=Yx(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?_y(t,o,!0):Xx(r,o))return i}return n}function zs(t){let e=ke()[gn][zt];if(!e.projection){let n=t?t.length:1,r=e.projection=l0(n,null),i=r.slice(),o=e.child;for(;o!==null;){let s=t?uR(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function vi(t,e=0,n){let r=ke(),i=Tt(),o=$s(i,Rn+t,16,null,n||null);o.projection===null&&(o.projection=e),Uy(),(!r[qc]||Vy())&&(o.flags&32)!==32&&RM(i,r,o)}function ME(t){let e=CT();return fT(e,Rn+t)}function We(t,e=""){let n=ke(),r=Tt(),i=t+Rn,o=r.firstCreatePass?$s(r,i,1,e,null):r.data[i],s=lR(r,n,o,e,t);n[i]=s,Uh()&&ep(r,n,s,o),ks(o,!1)}var lR=(t,e,n,r,i)=>($h(!0),vM(e[ot],r));function dR(t,e,n){let r=Tt();if(r.firstCreatePass){let i=yr(t);Sh(n,r.data,r.blueprint,i,!0),Sh(e,r.data,r.blueprint,i,!1)}}function Sh(t,e,n,r,i){if(t=xt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sh(t[o],e,n,r,i);else{let o=Tt(),s=ke(),a=qt(),c=so(t)?t:xt(t.provide),u=g0(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(so(t)||!t.multi){let h=new oi(u,i,X),p=kf(c,e,i?l:l+f,d);p===-1?(qf(Qc(a,s),o,c),Pf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=kf(c,e,l+f,d),p=kf(c,e,l,l+f),m=h>=0&&n[h],b=p>=0&&n[p];if(i&&!b||!i&&!m){qf(Qc(a,s),o,c);let y=pR(i?hR:fR,n.length,i,r,u);!i&&b&&(n[p].providerFactory=y),Pf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=AE(n[i?p:h],u,!i&&r);Pf(o,t,h>-1?h:p,y)}!i&&r&&b&&n[p].componentProviders++}}}function Pf(t,e,n,r){let i=so(e),o=rM(e);if(i||o){let c=(o?xt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function AE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fR(t,e,n,r){return Ch(this.multi,[])}function hR(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=si(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),Ch(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Ch(i,o);return o}function Ch(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function pR(t,e,n,r,i){let o=new oi(t,n,X);return o.multi=[],o.index=e,o.componentProviders=0,AE(o,i,r&&!n),o}function bi(t,e=[]){return n=>{n.providersResolver=(r,i)=>dR(r,i?i(t):t,e)}}var _r=class{},Rs=class{};var Dh=class extends _r{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iu(this);let i=Dy(e);this._bootstrapComponents=y0(i.bootstrap),this._r3Injector=v0(e,n,[{provide:_r,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ih=class extends Rs{constructor(e){super(),this.moduleType=e}create(e){return new Dh(this.moduleType,e,[])}};var au=class extends _r{constructor(e){super(),this.componentFactoryResolver=new iu(this),this.instance=null;let n=new Jc([...e.providers,{provide:_r,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],e.parent||Yh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function dp(t,e,n=null){return new au({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var mR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=h0(!1,r.type),o=i.length>0?dp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(L(Vt))});let t=e;return t})();function jt(t){cp("NgStandalone"),t.getStandaloneInjector=e=>e.get(mR).getOrCreateStandaloneInjector(t)}function gR(){return this._results[Symbol.iterator]()}var cu=class t{get changes(){return this._changes||(this._changes=new ut)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=QT(e);(this._changesDetected=!YT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},di=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yR;let t=e;return t})(),vR=di,bR=class extends vR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=qO(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new ui(i)}};function yR(){return fp(qt(),ke())}function fp(t,e){return t.type&4?new bR(e,t,fo(t,e)):null}var xh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Th=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)RE(e,n).matches!==null&&this.queries[n].setDirty()}},Mh=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Ah=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Oh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,ER(n,o)),this.matchTNodeWithReadOption(e,n,jc(n,e,o,!1,!1))}else r===di?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,jc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ze||i===Ir||i===di&&n.type&4)this.addMatch(n.index,-2);else{let o=jc(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ER(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function _R(t,e){return t.type&11?fo(t,e):t.type&4?fp(t,e):null}function wR(t,e,n,r){return n===-1?_R(e,t):n===-2?SR(t,e,r):si(t,t[de],n,e)}function SR(t,e,n){if(n===ze)return fo(e,t);if(n===di)return fp(e,t);if(n===Ir)return xE(e,t)}function OE(t,e,n,r){let i=e[An].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(wR(e,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Rh(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=OE(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=e[-c];for(let d=$t;d<l.length;d++){let f=l[d];f[Ps]===f[tt]&&Rh(f[de],f,u,r)}if(l[ro]!==null){let d=l[ro];for(let f=0;f<d.length;f++){let h=d[f];Rh(h[de],h,u,r)}}}}}return r}function xu(t){let e=ke(),n=Tt(),r=zy();Vh(r+1);let i=RE(n,r);if(t.dirty&&hT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=i.crossesNgTemplate?Rh(n,e,r,[]):OE(n,e,i,r);t.reset(o,aA),t.notifyOnChanges()}return!0}return!1}function hp(t,e,n){let r=Tt();r.firstCreatePass&&(IR(r,new Mh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),DR(r,ke(),e)}function Tu(){return CR(ke(),zy())}function CR(t,e){return t[An].queries[e].queryList}function DR(t,e,n){let r=new cu((n&4)===4);xA(t,e,r,r.destroy),e[An]===null&&(e[An]=new Th),e[An].queries.push(new xh(r))}function IR(t,e,n){t.queries===null&&(t.queries=new Ah),t.queries.track(new Oh(e,n))}function RE(t,e){return t.queries.getByIndex(e)}var NE=new W("Application Initializer"),PE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=j(NE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(gi(s))r.push(s);else if(TE(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function xR(){return typeof $localize<"u"&&$localize.locale||su}var Au=new W("LocaleId",{providedIn:"root",factory:()=>j(Au,pe.Optional|pe.SkipSelf)||xR()});var mo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new He(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pp=(()=>{let e=class e{compileModuleSync(r){return new Ih(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Dy(r),s=y0(o.declarations).reduce((a,c)=>{let u=ti(c);return u&&a.push(new As(u)),a},[]);return new Nh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kE=new W("");var $c=null;var FE=new W("PlatformDestroyListeners"),Ou=new W("appBootstrapListener");function TR(){Zv(()=>{throw new k(600,!1)})}function MR(t){return t.isBoundToModule}function AR(t=[]){if($c)return $c;let e=RR(t);return $c=e,TR(),OR(e),e}function OR(t){t.get(Qh,null)?.forEach(n=>n())}function LE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=AR(r),o=[VR(),...n||[]],a=new au({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ee);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Ht,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:h=>{u.handleError(h)}})});let d=()=>a.destroy(),f=i.get(FE);return f.add(d),a.onDestroy(()=>{l.unsubscribe(),f.delete(d)}),PR(u,c,()=>{let h=a.get(PE);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(Au,su);sR(p||su);let m=a.get(xr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function RR(t=[],e){return Sr.create({name:e,providers:[{provide:bu,useValue:"platform"},{provide:FE,useValue:new Set([()=>$c=null])},...t]})}function NR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function PR(t,e,n){try{let r=n();return gi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(VE),this.zoneIsStable=j(vE),this.componentTypes=[],this.components=[],this.isStable=j(mo).hasPendingTasks.pipe(ct(r=>r?Z(!1):this.zoneIsStable),Es(),Ki()),this._injector=j(Vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof tu;if(!this._injector.get(PE).done){let p="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&Cy(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new k(405,!1)}let a;o?a=r:a=this._injector.get(wu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=MR(a)?void 0:this._injector.get(_r),u=i||a.selector,l=a.create(Sr.NULL,[],u,c),d=l.location.nativeElement,f=l.injector.get(kE,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ff(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ff(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ou,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ff(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new k(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ff(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var VE=new W("",{providedIn:"root",factory:()=>j(Ht).handleError.bind(void 0)});function kR(){let t=j(Ee),e=j(Ht);return n=>t.runOutsideAngular(()=>e.handleError(n))}var FR=(()=>{let e=class e{constructor(){this.zone=j(Ee),this.applicationRef=j(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LR(t){return[{provide:Ee,useFactory:t},{provide:Vs,multi:!0,useFactory:()=>{let e=j(FR,{optional:!0});return()=>e.initialize()}},{provide:VE,useFactory:kR},{provide:vE,useFactory:bE}]}function VR(t){let e=LR(()=>new Ee(NR(t)));return lo([[],e])}function Bt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var mp=null;function ir(){return mp}function HE(t){mp||(mp=t)}var Ru=class{},Ae=new W("DocumentToken"),zE=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>j(BR))(),providedIn:"platform"});let t=e;return t})();var BR=(()=>{let e=class e extends zE{constructor(){super(),this._doc=j(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ir().getBaseHref(this._doc)}onPopState(r){let i=ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function qE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function jE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function yi(t){return t&&t[0]!=="?"?"?"+t:t}var vo=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>j(WE))(),providedIn:"root"});let t=e;return t})(),UR=new W("appBaseHref"),WE=(()=>{let e=class e extends vo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??j(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return qE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+yi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+yi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+yi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(zE),L(UR,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qs=(()=>{let e=class e{constructor(r){this._subject=new ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=zR(jE(BE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+yi(i))}normalize(r){return e.stripTrailingSlash(HR(this._basePath,BE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+yi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+yi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=yi,e.joinWithSlash=qE,e.stripTrailingSlash=jE,e.\u0275fac=function(i){return new(i||e)(L(vo))},e.\u0275prov=H({token:e,factory:()=>$R(),providedIn:"root"});let t=e;return t})();function $R(){return new qs(L(vo))}function HR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function BE(t){return t.replace(/\/index.html$/,"")}function zR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Nu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var gp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},GE=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new gp(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),UE(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);UE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(X(Ir),X(di),X(rp))},e.\u0275dir=Qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function UE(t,e){t.context.$implicit=e.item}var KE=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new vp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){$E("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){$E("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(X(Ir),X(di))},e.\u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),vp=class{constructor(){this.$implicit=null,this.ngIf=null}};function $E(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}var Wt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({});let t=e;return t})(),bp="browser",qR="server";function YE(t){return t===bp}function yp(t){return t===qR}var go=class{};var Gs=class{},ku=class{},Ln=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wp=class{encodeKey(e){return QE(e)}encodeValue(e){return QE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KR(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var YR=/%(\d[a-f0-9])/gi,QR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QE(t){return encodeURIComponent(t).replace(YR,(e,n)=>QR[n]??e)}function Pu(t){return`${t}`}var Tr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=KR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Pu):[Pu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Pu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Pu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Sp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ZR(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ZE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function XE(t){return typeof Blob<"u"&&t instanceof Blob}function JE(t){return typeof FormData<"u"&&t instanceof FormData}function XR(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ws=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(ZR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Ln),this.context||(this.context=new Sp),!this.params)this.params=new Tr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:ZE(this.body)||XE(this.body)||JE(this.body)||XR(this.body)||typeof this.body=="string"?this.body:this.body instanceof Tr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||JE(this.body)?null:XE(this.body)?this.body.type||null:ZE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Tr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),u)),new t(n,r,o,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:s})}},bo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(bo||{}),Ks=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ln,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Cp=class t extends Ks{constructor(e={}){super(e),this.type=bo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fu=class t extends Ks{constructor(e={}){super(e),this.type=bo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Lu=class extends Ks{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function _p(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ys=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Ws)s=r;else{let u;o.headers instanceof Ln?u=o.headers:u=new Ln(o.headers);let l;o.params&&(o.params instanceof Tr?l=o.params:l=new Tr({fromObject:o.params})),s=new Ws(r,i,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Z(s).pipe(gr(u=>this.handler.handle(u)));if(r instanceof Ws||o.observe==="events")return a;let c=a.pipe(et(u=>u instanceof Fu));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(ee(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Tr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,_p(o,i))}post(r,i,o={}){return this.request("POST",r,_p(o,i))}put(r,i,o={}){return this.request("PUT",r,_p(o,i))}};e.\u0275fac=function(i){return new(i||e)(L(Gs))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function r_(t,e){return e(t)}function JR(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function eN(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}var tN=new W(""),Dp=new W(""),nN=new W(""),rN=new W("");function iN(){let t=null;return(e,n)=>{t===null&&(t=(j(tN,{optional:!0})??[]).reduceRight(JR,r_));let r=j(mo),i=r.add();return t(e,n).pipe(Dn(()=>r.remove(i)))}}var e_=(()=>{let e=class e extends Gs{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=j(mo);let o=j(rN,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Dp),...this.injector.get(nN,[])]));this.chain=o.reduceRight((s,a)=>eN(s,a,this.injector),r_)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Dn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(L(ku),L(Vt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var oN=/^\)\]\}',?\n/;function sN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var t_=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new k(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Me(i.\u0275loadImpl()):Z(null)).pipe(ct(()=>new he(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((b,y)=>a.setRequestHeader(b,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let b=r.detectContentTypeHeader();b!==null&&a.setRequestHeader("Content-Type",b)}if(r.responseType){let b=r.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let b=a.statusText||"OK",y=new Ln(a.getAllResponseHeaders()),O=sN(a)||r.url;return u=new Cp({headers:y,status:a.status,statusText:b,url:O}),u},d=()=>{let{headers:b,status:y,statusText:O,url:w}=l(),x=null;y!==204&&(x=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=x?200:0);let D=y>=200&&y<300;if(r.responseType==="json"&&typeof x=="string"){let T=x;x=x.replace(oN,"");try{x=x!==""?JSON.parse(x):null}catch(C){x=T,D&&(D=!1,x={error:C,text:x})}}D?(s.next(new Fu({body:x,headers:b,status:y,statusText:O,url:w||void 0})),s.complete()):s.error(new Lu({error:x,headers:b,status:y,statusText:O,url:w||void 0}))},f=b=>{let{url:y}=l(),O=new Lu({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});s.error(O)},h=!1,p=b=>{h||(s.next(l()),h=!0);let y={type:bo.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(y.total=b.total),r.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),s.next(y)},m=b=>{let y={type:bo.UploadProgress,loaded:b.loaded};b.lengthComputable&&(y.total=b.total),s.next(y)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",m)),a.send(c),s.next({type:bo.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",m)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(L(go))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),i_=new W("XSRF_ENABLED"),aN="XSRF-TOKEN",cN=new W("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>aN}),uN="X-XSRF-TOKEN",lN=new W("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>uN}),Vu=class{},dN=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nu(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(L(Ae),L(Pn),L(cN))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function fN(t,e){let n=t.url.toLowerCase();if(!j(i_)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=j(Vu).getToken(),i=j(lN);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var o_=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(o_||{});function hN(t,e){return{\u0275kind:t,\u0275providers:e}}function pN(...t){let e=[Ys,t_,e_,{provide:Gs,useExisting:e_},{provide:ku,useExisting:t_},{provide:Dp,useValue:fN,multi:!0},{provide:i_,useValue:!0},{provide:Vu,useClass:dN}];for(let n of t)e.push(...n.\u0275providers);return lo(e)}var n_=new W("LEGACY_INTERCEPTOR_FN");function mN(){return hN(o_.LegacyInterceptors,[{provide:n_,useFactory:iN},{provide:Dp,useExisting:n_,multi:!0}])}var yo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({providers:[pN(mN())]});let t=e;return t})();var Tp=class extends Ru{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mp=class t extends Tp{static makeCurrent(){HE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gN();return n==null?null:vN(n)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nu(document.cookie,e)}},Qs=null;function gN(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}var ju;function vN(t){ju=ju||document.createElement("a"),ju.setAttribute("href",t);let e=ju.pathname;return e.charAt(0)==="/"?e:`/${e}`}var bN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Ap=new W("EventManagerPlugins"),u_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(Ap),L(Ee))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Bu=class{constructor(e){this._doc=e}},Ip="ng-app-id",l_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yp(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ip}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Ip),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ip,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(Ae),L(yu),L(js,8),L(Pn))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),xp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rp=/%COMP%/g,d_="%COMP%",yN=`_nghost-${d_}`,EN=`_ngcontent-${d_}`,_N=!0,wN=new W("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>_N});function SN(t){return EN.replace(Rp,t)}function CN(t){return yN.replace(Rp,t)}function f_(t,e){return e.map(n=>n.replace(Rp,t))}var Uu=(()=>{let e=class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yp(c),this.defaultRenderer=new Zs(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===On.ShadowDom&&(i=Ne(U({},i),{encapsulation:On.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof $u?o.applyToHost(r):o instanceof Xs&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case On.Emulated:s=new $u(u,l,i,this.appId,d,a,c,f);break;case On.ShadowDom:return new Op(u,l,r,i,a,c,this.nonce,f);default:s=new Xs(u,l,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(u_),L(l_),L(yu),L(wN),L(Ae),L(Pn),L(Ee),L(js))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Zs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(a_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(a_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=xp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=xp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ir().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function a_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Op=class extends Zs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=f_(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xs=class extends Zs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?f_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$u=class extends Xs{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=SN(u),this.hostAttr=CN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},DN=(()=>{let e=class e extends Bu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(Ae))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),c_=["alt","control","meta","shift"],IN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TN=(()=>{let e=class e extends Bu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ir().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),c_.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=IN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),c_.forEach(a=>{if(a!==o){let c=xN[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(Ae))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function h_(t,e){return LE(U({rootComponent:t},MN(e)))}function MN(t){return{appProviders:[...PN,...t?.providers??[]],platformProviders:NN}}function AN(){Mp.makeCurrent()}function ON(){return new Ht}function RN(){return b0(document),document}var NN=[{provide:Pn,useValue:bp},{provide:Qh,useValue:AN,multi:!0},{provide:Ae,useFactory:RN,deps:[]}];var PN=[{provide:bu,useValue:"root"},{provide:Ht,useFactory:ON,deps:[]},{provide:Ap,useClass:DN,multi:!0,deps:[Ae,Ee,Pn]},{provide:Ap,useClass:TN,multi:!0,deps:[Ae]},Uu,l_,u_,{provide:ci,useExisting:Uu},{provide:go,useClass:bN,deps:[]},[]];function kN(){return new Np(L(Ae))}var Np=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(Ae))},e.\u0275prov=H({token:e,factory:function(i){let o=null;return i?o=new i:o=kN(),o},providedIn:"root"});let t=e;return t})();var Pp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=L(p_),o},providedIn:"root"});let t=e;return t})();function FN(t){return new p_(t.get(Ae))}var p_=(()=>{let e=class e extends Pp{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case bt.NONE:return i;case bt.HTML:return Cr(i,"HTML")?bn(i):z0(this._doc,String(i)).toString();case bt.STYLE:return Cr(i,"Style")?bn(i):i;case bt.SCRIPT:if(Cr(i,"Script"))return bn(i);throw new k(5200,!1);case bt.URL:return Cr(i,"URL")?bn(i):_u(String(i));case bt.RESOURCE_URL:if(Cr(i,"ResourceURL"))return bn(i);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(r){return k0(r)}bypassSecurityTrustStyle(r){return F0(r)}bypassSecurityTrustScript(r){return L0(r)}bypassSecurityTrustUrl(r){return V0(r)}bypassSecurityTrustResourceUrl(r){return j0(r)}};e.\u0275fac=function(i){return new(i||e)(L(Ae))},e.\u0275prov=H({token:e,factory:function(i){let o=null;return i?o=new i:o=FN(L(Sr)),o},providedIn:"root"});let t=e;return t})();var se="primary",ha=Symbol("RouteTitle"),jp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Co(t){return new jp(t)}function LN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function VN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?Bp(t):void 0,r=e?Bp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!w_(t[i],e[i]))return!1;return!0}function Bp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function w_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function S_(t){return t.length>0?t[t.length-1]:null}function Rr(t){return gf(t)?t:gi(t)?Me(Promise.resolve(t)):Z(t)}var jN={exact:D_,subset:I_},C_={exact:BN,subset:UN,ignored:()=>!0};function g_(t,e,n){return jN[n.paths](t.root,e.root,n.matrixParams)&&C_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BN(t,e){return Vn(t,e)}function D_(t,e,n){if(!_i(t.segments,e.segments)||!qu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!D_(t.children[r],e.children[r],n))return!1;return!0}function UN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>w_(t[n],e[n]))}function I_(t,e,n){return x_(t,e,e.segments,n)}function x_(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!_i(i,n)||e.hasChildren()||!qu(i,n,r))}else if(t.segments.length===n.length){if(!_i(t.segments,n)||!qu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!I_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!_i(t.segments,i)||!qu(t.segments,i,r)||!t.children[se]?!1:x_(t.children[se],e,o,r)}}function qu(t,e,n){return e.every((r,i)=>C_[n](t[i].parameters,r.parameters))}var Mr=class{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return zN.serialize(this)}},xe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wu(this)}},Ei=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Co(this.parameters)),this._parameterMap}toString(){return M_(this)}};function $N(t,e){return _i(t,e)&&t.every((n,r)=>Vn(n.parameters,e[r].parameters))}function _i(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var dm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>new Ku)(),providedIn:"root"});let t=e;return t})(),Ku=class{parse(e){let n=new $p(e);return new Mr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Js(e.root,!0)}`,r=GN(e.queryParams),i=typeof e.fragment=="string"?`#${qN(e.fragment)}`:"";return`${n}${r}${i}`}},zN=new Ku;function Wu(t){return t.segments.map(e=>M_(e)).join("/")}function Js(t,e){if(!t.hasChildren())return Wu(t);if(e){let n=t.children[se]?Js(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Js(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HN(t,(r,i)=>i===se?[Js(t.children[se],!1)]:[`${i}:${Js(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${Wu(t)}/${n[0]}`:`${Wu(t)}/(${n.join("//")})`}}function T_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hu(t){return T_(t).replace(/%3B/gi,";")}function qN(t){return encodeURI(t)}function Up(t){return T_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(t){return decodeURIComponent(t)}function v_(t){return Gu(t.replace(/\+/g,"%20"))}function M_(t){return`${Up(t.path)}${WN(t.parameters)}`}function WN(t){return Object.keys(t).map(e=>`;${Up(e)}=${Up(t[e])}`).join("")}function GN(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Hu(n)}=${Hu(i)}`).join("&"):`${Hu(n)}=${Hu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var KN=/^[^\/()?;#]+/;function kp(t){let e=t.match(KN);return e?e[0]:""}var YN=/^[^\/()?;=#]+/;function QN(t){let e=t.match(YN);return e?e[0]:""}var ZN=/^[^=?&#]+/;function XN(t){let e=t.match(ZN);return e?e[0]:""}var JN=/^[^&#]+/;function e1(t){let e=t.match(JN);return e?e[0]:""}var $p=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new xe(e,n)),r}parseSegment(){let e=kp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Ei(Gu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=kp(this.remaining);i&&(r=i,this.capture(r))}e[Gu(n)]=Gu(r)}parseQueryParam(e){let n=XN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=e1(this.remaining);s&&(r=s,this.capture(r))}let i=v_(n),o=v_(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[se]:new xe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function A_(t){return t.segments.length>0?new xe([],{[se]:t}):t}function O_(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],o=O_(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new xe(t.segments,e);return t1(n)}function t1(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new xe(t.segments.concat(e.segments),e.children)}return t}function Do(t){return t instanceof Mr}function n1(t,e,n=null,r=null){let i=R_(t);return N_(i,e,n,r)}function R_(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new xe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=A_(r);return e??i}function N_(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Fp(i,i,i,n,r);let o=r1(e);if(o.toRoot())return Fp(i,i,new xe([],{}),n,r);let s=i1(o,i,t),a=s.processChildren?na(s.segmentGroup,s.index,o.commands):k_(s.segmentGroup,s.index,o.commands);return Fp(i,s.segmentGroup,a,n,r)}function Yu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function oa(t){return typeof t=="object"&&t!=null&&t.outlets}function Fp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=P_(t,e,n);let a=A_(O_(s));return new Mr(a,o,i)}function P_(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=P_(o,e,n)}),new xe(t.segments,r)}var Qu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yu(r[0]))throw new k(4003,!1);let i=r.find(oa);if(i&&i!==S_(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Qu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qu(n,e,r)}var wo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function i1(t,e,n){if(t.isAbsolute)return new wo(e,!0,0);if(!n)return new wo(e,!1,NaN);if(n.parent===null)return new wo(n,!0,0);let r=Yu(t.commands[0])?0:1,i=n.segments.length-1+r;return o1(n,i,t.numberOfDoubleDots)}function o1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new wo(r,!1,i-o)}function s1(t){return oa(t[0])?t[0].outlets:{[se]:t}}function k_(t,e,n){if(t||(t=new xe([],{})),t.segments.length===0&&t.hasChildren())return na(t,e,n);let r=a1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new xe(t.segments.slice(r.pathIndex),t.children),na(o,0,i)}else return r.match&&i.length===0?new xe(t.segments,{}):r.match&&!t.hasChildren()?Hp(t,e,n):r.match?na(t,0,i):Hp(t,e,n)}function na(t,e,n){if(n.length===0)return new xe(t.segments,{});{let r=s1(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let o=na(t.children[se],e,n);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=k_(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(t.segments,i)}}function a1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(oa(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!y_(c,u,s))return o;r+=2}else{if(!y_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(oa(o)){let c=c1(o.outlets);return new xe(r,c)}if(i===0&&Yu(n[0])){let c=t.segments[e];r.push(new Ei(c.path,b_(n[0]))),i++;continue}let s=oa(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Yu(a)?(r.push(new Ei(s,b_(a))),i+=2):(r.push(new Ei(s,{})),i++)}return new xe(r,{})}function c1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Hp(new xe([],{}),0,r))}),e}function b_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function y_(t,e,n){return t==n.path&&Vn(e,n.parameters)}var ra="imperative",rn=class{constructor(e,n){this.id=e,this.url=n}},sa=class extends rn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ar=class extends rn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Or=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wi=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},aa=class extends rn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zu=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zp=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends rn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wp=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yp=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qp=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zp=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xp=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jp=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ca=class{},ua=class{constructor(e){this.url=e}};var em=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new rl,this.attachRef=null}},rl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new em,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=tm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=tm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=nm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nm(e,this._root).map(n=>n.value)}};function tm(t,e){if(t===e.value)return e;for(let n of e.children){let r=tm(t,n);if(r)return r}return null}function nm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=nm(t,n);if(r.length)return r.unshift(e),r}return[]}var Gt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _o(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ju=class extends Xu{constructor(e,n){super(e),this.snapshot=n,hm(this,e)}toString(){return this.snapshot.toString()}};function F_(t,e){let n=u1(t,e),r=new He([new Ei("",{})]),i=new He({}),o=new He({}),s=new He({}),a=new He(""),c=new or(r,i,s,a,o,se,e,n.root);return c.snapshot=n.root,new Ju(new Gt(c,[]),n)}function u1(t,e){let n={},r={},i={},o="",s=new la([],n,i,o,r,se,e,null,{});return new el("",new Gt(s,[]))}var or=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(u=>u[ha]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(e=>Co(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(e=>Co(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:U(U({},t.data),t._resolvedData??{})},i&&V_(i)&&(r.resolve[ha]=i.title),r}var la=class{get title(){return this.data?.[ha]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Co(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},el=class extends Xu{constructor(e,n){super(n),this.url=e,hm(this,n)}toString(){return L_(this._root)}};function hm(t,e){e.value._routerState=t,e.children.forEach(n=>hm(t,n))}function L_(t){let e=t.children.length>0?` { ${t.children.map(L_).join(", ")} } `:"";return`${t.value}${e}`}function Lp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),VN(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function rm(t,e){let n=Vn(t.params,e.params)&&$N(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||rm(t.parent,e.parent))}function V_(t){return typeof t.title=="string"||t.title===null}var pm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new ut,this.deactivateEvents=new ut,this.attachEvents=new ut,this.detachEvents=new ut,this.parentContexts=j(rl),this.location=j(Ir),this.changeDetector=j(mi),this.environmentInjector=j(Vt),this.inputBinder=j(mm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new im(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]});let t=e;return t})(),im=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===or?this.route:e===rl?this.childContexts:this.parent.get(e,n)}},mm=new W("");function l1(t,e,n){let r=da(t,e._root,n?n._root:void 0);return new Ju(r,e)}function da(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=d1(t,e,n);return new Gt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>da(t,a)),s}}let r=f1(e.value),i=e.children.map(o=>da(t,o));return new Gt(r,i)}}function d1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return da(t,r,i);return da(t,r)})}function f1(t){return new or(new He(t.url),new He(t.params),new He(t.queryParams),new He(t.fragment),new He(t.data),t.outlet,t.component,t)}var j_="ngNavigationCancelingError";function B_(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Do(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=U_(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function U_(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[j_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function h1(t){return $_(t)&&Do(t.url)}function $_(t){return t&&t[j_]}var p1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=st({type:e,selectors:[["ng-component"]],standalone:!0,features:[jt],decls:1,vars:0,template:function(i,o){i&1&&lt(0,"router-outlet")},dependencies:[pm],encapsulation:2});let t=e;return t})();function m1(t,e){return t.providers&&!t._injector&&(t._injector=dp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gm(t){let e=t.children&&t.children.map(gm),n=e?Ne(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=p1),n}function jn(t){return t.outlet||se}function g1(t,e){let n=t.filter(r=>jn(r)===e);return n.push(...t.filter(r=>jn(r)!==e)),n}function pa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var v1=(t,e,n,r)=>ee(i=>(new om(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),om=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Lp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Lp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=pa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},tl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},So=class{constructor(e,n){this.component=e,this.route=n}};function b1(t,e,n){let r=t._root,i=e?e._root:null;return ea(r,i,n,[r.value])}function y1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!dy(t)?t:e.get(t):r}function ea(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(e);return t.children.forEach(s=>{E1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ia(a,n.getContext(s),i)),i}function E1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_1(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new tl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ea(t,e,a?a.children:null,r,i):ea(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new So(a.outlet.component,s))}else s&&ia(e,a,i),i.canActivateChecks.push(new tl(r)),o.component?ea(t,null,a?a.children:null,r,i):ea(t,null,n,r,i);return i}function _1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_i(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_i(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rm(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!rm(t,e)}}function ia(t,e,n){let r=_o(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ia(s,e.children.getContext(o),n):ia(s,null,n):ia(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new So(e.outlet.component,i)):n.canDeactivateChecks.push(new So(null,i)):n.canDeactivateChecks.push(new So(null,i))}function ma(t){return typeof t=="function"}function w1(t){return typeof t=="boolean"}function S1(t){return t&&ma(t.canLoad)}function C1(t){return t&&ma(t.canActivate)}function D1(t){return t&&ma(t.canActivateChild)}function I1(t){return t&&ma(t.canDeactivate)}function x1(t){return t&&ma(t.canMatch)}function H_(t){return t instanceof Zn||t?.name==="EmptyError"}var zu=Symbol("INITIAL_VALUE");function Io(){return ct(t=>Wi(t.map(e=>e.pipe(Ft(1),ws(zu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===zu)return zu;if(n===!1||n instanceof Mr)return n}return!0}),et(e=>e!==zu),Ft(1)))}function T1(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(Ne(U({},n),{guardsResult:!0})):M1(s,r,i,t).pipe(it(a=>a&&w1(a)?A1(r,o,t,e):Z(a)),ee(a=>Ne(U({},n),{guardsResult:a})))})}function M1(t,e,n,r){return Me(t).pipe(it(i=>k1(i.component,i.route,n,e,r)),In(i=>i!==!0,!0))}function A1(t,e,n,r){return Me(e).pipe(gr(i=>mr(R1(i.route.parent,r),O1(i.route,r),P1(t,i.path,n),N1(t,i.route,n))),In(i=>i!==!0,!0))}function O1(t,e){return t!==null&&e&&e(new Xp(t)),Z(!0)}function R1(t,e){return t!==null&&e&&e(new Qp(t)),Z(!0)}function N1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>xc(()=>{let s=pa(e)??n,a=xo(o,s),c=C1(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t));return Rr(c).pipe(In())}));return Z(i).pipe(Io())}function P1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>y1(s)).filter(s=>s!==null).map(s=>xc(()=>{let a=s.guards.map(c=>{let u=pa(s.node)??n,l=xo(c,u),d=D1(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t));return Rr(d).pipe(In())});return Z(a).pipe(Io())}));return Z(o).pipe(Io())}function k1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let c=pa(e)??i,u=xo(a,c),l=I1(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r));return Rr(l).pipe(In())});return Z(s).pipe(Io())}function F1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=xo(s,t),c=S1(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n));return Rr(c)});return Z(o).pipe(Io(),z_(r))}function z_(t){return lf(Ie(e=>{if(Do(e))throw B_(t,e)}),ee(e=>e===!0))}function L1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=xo(s,t),c=x1(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n));return Rr(c)});return Z(o).pipe(Io(),z_(r))}var fa=class{constructor(e){this.segmentGroup=e||null}},nl=class extends Error{constructor(e){super(),this.urlTree=e}};function Eo(t){return pr(new fa(t))}function V1(t){return pr(new k(4e3,!1))}function j1(t){return pr(U_(!1,3))}var sm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new k(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[se])return V1(e.redirectTo);i=i.children[se]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new nl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Mr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},am={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B1(t,e,n,r,i){let o=vm(t,e,n);return o.matched?(r=m1(e,r),L1(r,e,n,i).pipe(ee(s=>s===!0?o:U({},am)))):Z(o)}function vm(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},am):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LN)(n,t,e);if(!i)return U({},am);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function E_(t,e,n,r){return n.length>0&&H1(t,n,r)?{segmentGroup:new xe(e,$1(r,new xe(n,t.children))),slicedSegments:[]}:n.length===0&&z1(t,n,r)?{segmentGroup:new xe(t.segments,U1(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function U1(t,e,n,r,i){let o={};for(let s of r)if(il(t,n,s)&&!i[jn(s)]){let a=new xe([],{});o[jn(s)]=a}return U(U({},i),o)}function $1(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&jn(r)!==se){let i=new xe([],{});n[jn(r)]=i}return n}function H1(t,e,n){return n.some(r=>il(t,e,r)&&jn(r)!==se)}function z1(t,e,n){return n.some(r=>il(t,e,r))}function il(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function q1(t,e,n,r){return jn(t)!==r&&(r===se||!il(e,n,t))?!1:t.path==="**"?!0:vm(e,t,n).matched}function W1(t,e,n){return e.length===0&&!t.children[n]}var cm=class{};function G1(t,e,n,r,i,o,s="emptyOnly"){return new um(t,e,n,r,i,s,o).recognize()}var K1=31,um=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new k(4002,!1)}recognize(){let e=E_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let r=new la([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new Gt(r,n),o=new el("",i),s=n1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,se).pipe(kt(r=>{if(r instanceof nl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=fm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ee(o=>o instanceof Gt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Me(i).pipe(gr(o=>{let s=r.children[o],a=g1(n,o);return this.processSegmentGroup(e,a,s,o)}),Ef((o,s)=>(o.push(...s),o)),vr(null),yf(),it(o=>{if(o===null)return Eo(r);let s=q_(o);return Y1(s),Z(s)}))}processSegment(e,n,r,i,o,s){return Me(n).pipe(gr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(kt(c=>{if(c instanceof fa)return Z(null);throw c}))),In(a=>!!a),kt(a=>{if(H_(a))return W1(r,i,o)?Z(new cm):Eo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return q1(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Eo(i):Eo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=i.path==="**"?__(o):vm(n,i,o);if(!a)return Eo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>K1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(it(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s;return r.path==="**"?(s=Z(__(i)),n.children={}):s=B1(n,r,i,e,this.urlSerializer),s.pipe(ct(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ct(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,h=new la(l,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Z1(r),jn(r),r.component??r._loadedComponent??null,r,X1(r)),{segmentGroup:p,slicedSegments:m}=E_(n,l,d,c);if(m.length===0&&p.hasChildren())return this.processChildren(u,c,p).pipe(ee(y=>y===null?null:new Gt(h,y)));if(c.length===0&&m.length===0)return Z(new Gt(h,[]));let b=jn(r)===o;return this.processSegment(u,c,p,m,b?se:o,!0).pipe(ee(y=>new Gt(h,y instanceof Gt?[y]:[])))}))):Eo(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):F1(e,n,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(Ie(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):j1(n))):Z({routes:[],injector:e})}};function Y1(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function Q1(t){let e=t.value.routeConfig;return e&&e.path===""}function q_(t){let e=[],n=new Set;for(let r of t){if(!Q1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=q_(r.children);e.push(new Gt(r.value,i))}return e.filter(r=>!n.has(r))}function Z1(t){return t.data||{}}function X1(t){return t.resolve||{}}function __(t){return{matched:!0,parameters:t.length>0?S_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function J1(t,e,n,r,i,o){return it(s=>G1(t,e,n,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:c})=>Ne(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function eP(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=i.map(u=>u.route),s=new Set(o),a=W_(o[0].parent).slice(1),c=0;return Me(a).pipe(gr(u=>s.has(u)?tP(u,r,t,e):(u.data=fm(u,u.parent,t).resolve,Z(void 0))),Ie(()=>c++),Gi(1),it(u=>c===a.length?Z(n):Nt))})}function W_(t){let e=t.children.map(n=>W_(n)).flat();return[t,...e]}function tP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!V_(i)&&(o[ha]=i.title),nP(o,t,e,r).pipe(ee(s=>(t._resolvedData=s,t.data=fm(t,t.parent,n).resolve,null)))}function nP(t,e,n,r){let i=Bp(t);if(i.length===0)return Z({});let o={};return Me(i).pipe(it(s=>rP(t[s],e,n,r).pipe(In(),Ie(a=>{o[s]=a}))),Gi(1),bf(o),kt(s=>H_(s)?Nt:pr(s)))}function rP(t,e,n,r){let i=pa(e)??r,o=xo(t,i),s=o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n));return Rr(s)}function Vp(t){return ct(e=>{let n=t(e);return n?Me(n).pipe(ee(()=>e)):Z(e)})}var G_=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===se);return i}getResolvedTitleForRoute(r){return r.data[ha]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>j(iP))(),providedIn:"root"});let t=e;return t})(),iP=(()=>{let e=class e extends G_{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(Np))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bm=new W("",{providedIn:"root",factory:()=>({})}),ym=new W("ROUTES"),oP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(pp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rr(r.loadComponent()).pipe(ee(K_),Ie(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Dn(()=>{this.componentLoaders.delete(r)})),o=new zi(i,()=>new Ye).pipe(Hi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=sP(i,this.compiler,r,this.onLoadEndListener).pipe(Dn(()=>{this.childrenLoaders.delete(i)})),a=new zi(s,()=>new Ye).pipe(Hi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sP(t,e,n,r){return Rr(t.loadChildren()).pipe(ee(K_),it(i=>i instanceof Rs||Array.isArray(i)?Z(i):Me(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ym,[],{optional:!0,self:!0}).flat()),{routes:s.map(gm),injector:o}}))}function aP(t){return t&&typeof t=="object"&&"default"in t}function K_(t){return aP(t)?t.default:t}var Em=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>j(cP))(),providedIn:"root"});let t=e;return t})(),cP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uP=new W("");var lP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=j(oP),this.environmentInjector=j(Vt),this.urlSerializer=j(dm),this.rootContexts=j(rl),this.location=j(qs),this.inputBindingEnabled=j(mm,{optional:!0})!==null,this.titleStrategy=j(G_),this.options=j(bm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Em),this.createViewTransition=j(uP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Kp(o)),i=o=>this.events.next(new Yp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ne(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new He({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ra,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(et(s=>s.id!==0),ee(s=>Ne(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ct(s=>{this.currentTransition=s;let a=!1,c=!1;return Z(s).pipe(Ie(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ne(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ct(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new wi(u.id,this.urlSerializer.serialize(u.rawUrl),f,0)),u.resolve(null),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(ct(f=>{let h=this.transitions?.getValue();return this.events.next(new sa(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Nt:Promise.resolve(f)}),J1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Ne(U({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Zu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:m,extras:b}=u,y=new sa(f,this.urlSerializer.serialize(h),p,m);this.events.next(y);let O=F_(h,this.rootComponentType).snapshot;return this.currentTransition=s=Ne(U({},u),{targetSnapshot:O,urlAfterRedirects:h,extras:Ne(U({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Z(s)}else{let f="";return this.events.next(new wi(u.id,this.urlSerializer.serialize(u.extractedUrl),f,1)),u.resolve(null),Nt}}),Ie(u=>{let l=new zp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=s=Ne(U({},u),{guards:b1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),T1(this.environmentInjector,u=>this.events.next(u)),Ie(u=>{if(s.guardsResult=u.guardsResult,Do(u.guardsResult))throw B_(this.urlSerializer,u.guardsResult);let l=new qp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),et(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),Vp(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(Ie(l=>{let d=new Wp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ct(l=>{let d=!1;return Z(l).pipe(eP(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ie(l=>{let d=new Gp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Vp(u=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(h=>{d.component=h}),ee(()=>{})));for(let h of d.children)f.push(...l(h));return f};return Wi(l(u.targetSnapshot.root)).pipe(vr(),Ft(1))}),Vp(()=>this.afterPreactivation()),ct(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Me(d).pipe(ee(()=>s)):Z(s)}),ee(u=>{let l=l1(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Ne(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ie(()=>{this.events.next(new ca)}),v1(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ft(1),Ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ar(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Jr(this.transitionAbortSubject.pipe(Ie(u=>{throw u}))),Dn(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(s,u,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),kt(u=>{if(c=!0,$_(u))this.events.next(new Or(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),h1(u)?this.events.next(new ua(u.url)):s.resolve(!1);else{this.events.next(new aa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){s.reject(l)}}return Nt}))}))}cancelNavigationTransition(r,i,o){let s=new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dP(t){return t!==ra}var fP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>j(hP))(),providedIn:"root"});let t=e;return t})(),lm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},hP=(()=>{let e=class e extends lm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hi(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>j(pP))(),providedIn:"root"});let t=e;return t})(),pP=(()=>{let e=class e extends Y_{constructor(){super(...arguments),this.location=j(qs),this.urlSerializer=j(dm),this.options=j(bm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Em),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=F_(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof sa)this.stateMemento=this.createStateMemento();else if(r instanceof wi)this.rawUrlTree=i.initialUrl;else if(r instanceof Zu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ca?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Or&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof aa?this.restoreHistory(i,!0):r instanceof Ar&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hi(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ta=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ta||{});function mP(t,e){t.events.pipe(et(n=>n instanceof Ar||n instanceof Or||n instanceof aa||n instanceof wi),ee(n=>n instanceof Ar||n instanceof wi?ta.COMPLETE:(n instanceof Or?n.code===0||n.code===1:!1)?ta.REDIRECTING:ta.FAILED),et(n=>n!==ta.REDIRECTING),Ft(1)).subscribe(()=>{e()})}function gP(t){throw t}var vP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Si=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(Mu),this.stateManager=j(Y_),this.options=j(bm,{optional:!0})||{},this.pendingTasks=j(mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(lP),this.urlSerializer=j(dm),this.location=j(qs),this.urlHandlingStrategy=j(Em),this._events=new Ye,this.errorHandler=this.options.errorHandler||gP,this.navigated=!1,this.routeReuseStrategy=j(fP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(ym,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(mm,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=j(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Or&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Ar)this.navigated=!0;else if(i instanceof ua){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||dP(o.source)};this.scheduleNavigation(a,ra,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}EP(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ra,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=U({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(gm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=R_(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return N_(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Do(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ra,null,i)}navigate(r,i={skipLocationChange:!1}){return yP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},vP):i===!1?o=U({},bP):o=i,Do(r))return g_(this.currentUrlTree,r,o);let s=this.parseUrl(r);return g_(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{let s=r[o];return s!=null&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});let d=this.pendingTasks.add();return mP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new k(4008,!1)}function EP(t){return!(t instanceof ca)&&!(t instanceof ua)}var To=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:q0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(X(Si),X(or),Fs("tabindex"),X(pi),X(ze),X(vo))},e.\u0275dir=Qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&nt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&nn("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Bt],skipLocationChange:["skipLocationChange","skipLocationChange",Bt],replaceUrl:["replaceUrl","replaceUrl",Bt],routerLink:"routerLink"},standalone:!0,features:[Dr,nr]});let t=e;return t})();var _P=new W("");function Q_(t,...e){return lo([{provide:ym,multi:!0,useValue:t},[],{provide:or,useFactory:wP,deps:[Si]},{provide:Ou,multi:!0,useFactory:SP},e.map(n=>n.\u0275providers)])}function wP(t){return t.routerState.root}function SP(){let t=j(Sr);return e=>{let n=t.get(xr);if(e!==n.components[0])return;let r=t.get(Si),i=t.get(CP);t.get(DP)===1&&r.initialNavigation(),t.get(IP,null,pe.Optional)?.setUpPreloading(),t.get(_P,null,pe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CP=new W("",{factory:()=>new Ye}),DP=new W("",{providedIn:"root",factory:()=>1});var IP=new W("");var wm;try{wm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{wm=!1}var Kt=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?YE(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||wm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(L(Pn))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ga;function xP(){if(ga==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ga=!0}))}finally{ga=ga||!1}return ga}function Mo(t){return xP()?t:!!t.capture}var _m;function TP(){if(_m==null){let t=typeof document<"u"?document.head:null;_m=!!(t&&(t.createShadowRoot||t.attachShadow))}return _m}function X_(t){if(TP()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Nr(t){return t.composedPath?t.composedPath()[0]:t.target}function J_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Bn="*";function ew(t,e=null){return{type:2,steps:t,options:e}}function Sm(t){return{type:6,styles:t,offset:null}}var Pr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},va=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},sl="!";function tw(t){return new k(3e3,!1)}function MP(){return new k(3100,!1)}function AP(){return new k(3101,!1)}function OP(t){return new k(3001,!1)}function RP(t){return new k(3003,!1)}function NP(t){return new k(3004,!1)}function PP(t,e){return new k(3005,!1)}function kP(){return new k(3006,!1)}function FP(){return new k(3007,!1)}function LP(t,e){return new k(3008,!1)}function VP(t){return new k(3002,!1)}function jP(t,e,n,r,i){return new k(3010,!1)}function BP(){return new k(3011,!1)}function UP(){return new k(3012,!1)}function $P(){return new k(3200,!1)}function HP(){return new k(3202,!1)}function zP(){return new k(3013,!1)}function qP(t){return new k(3014,!1)}function WP(t){return new k(3015,!1)}function GP(t){return new k(3016,!1)}function KP(t,e){return new k(3404,!1)}function YP(t){return new k(3502,!1)}function QP(t){return new k(3503,!1)}function ZP(){return new k(3300,!1)}function XP(t){return new k(3504,!1)}function JP(t){return new k(3301,!1)}function ek(t,e){return new k(3302,!1)}function tk(t){return new k(3303,!1)}function nk(t,e){return new k(3400,!1)}function rk(t){return new k(3401,!1)}function ik(t){return new k(3402,!1)}function ok(t,e){return new k(3505,!1)}function kr(t){switch(t.length){case 0:return new Pr;case 1:return t[0];default:return new va(t)}}function mw(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),l=u==s,d=l&&a||new Map;c.forEach((f,h)=>{let p=h,m=f;if(h!=="offset")switch(p=t.normalizePropertyName(p,i),m){case sl:m=n.get(h);break;case Bn:m=r.get(h);break;default:m=t.normalizeStyleValue(h,p,m,i);break}d.set(p,m)}),l||o.push(d),a=d,s=u}),i.length)throw YP(i);return o}function qm(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Cm(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Cm(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Cm(n,"destroy",t)));break}}function Cm(t,e,n){let r=n.totalTime,i=!!n.disabled,o=Wm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function Wm(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Qt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function nw(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var sk=(()=>typeof document>"u"?null:document.documentElement)();function Gm(t){let e=t.parentNode||t.host||null;return e===sk?null:e}function ak(t){return t.substring(1,6)=="ebkit"}var Ci=null,rw=!1;function ck(t){Ci||(Ci=uk()||{},rw=Ci.style?"WebkitAppearance"in Ci.style:!1);let e=!0;return Ci.style&&!ak(t)&&(e=t in Ci.style,!e&&rw&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ci.style)),e}function uk(){return typeof document<"u"?document.body:null}function gw(t,e){for(;e;){if(e===t)return!0;e=Gm(e)}return!1}function vw(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Km=(()=>{let e=class e{validateStyleProperty(r){return ck(r)}matchesElement(r,i){return!1}containsElement(r,i){return gw(r,i)}getParentElement(r){return Gm(r)}query(r,i,o){return vw(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],u){return new Pr(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Ca=(()=>{let e=class e{};e.NOOP=new Km;let t=e;return t})(),xi=class{};var lk=1e3,bw="{{",dk="}}",yw="ng-enter",Am="ng-leave",al="ng-trigger",fl=".ng-trigger",iw="ng-animating",Om=".ng-animating";function sr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Rm(parseFloat(e[1]),e[2])}function Rm(t,e){switch(e){case"s":return t*lk;default:return t}}function hl(t,e,n){return t.hasOwnProperty("duration")?t:fk(t,e,n)}function fk(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(tw(t)),{duration:0,delay:0,easing:""};i=Rm(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Rm(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(MP()),a=!0),o<0&&(e.push(AP()),a=!0),a&&e.splice(c,0,tw(t))}return{duration:i,delay:o,easing:s}}function Da(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Ew(t){let e=new Map;return Object.keys(t).forEach(n=>{let r=t[n];e.set(n,r)}),e}function hk(t){return t.length?t[0]instanceof Map?t:t.map(e=>Ew(e)):[]}function Oo(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Un(t,e,n){e.forEach((r,i)=>{let o=Ym(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Ii(t,e){e.forEach((n,r)=>{let i=Ym(r);t.style[i]=""})}function ba(t){return Array.isArray(t)?t.length==1?t[0]:ew(t):t}function pk(t,e,n){let r=e.params||{},i=_w(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(OP(o))})}var Nm=new RegExp(`${bw}\\s*(.+?)\\s*${dk}`,"g");function _w(t){let e=[];if(typeof t=="string"){let n;for(;n=Nm.exec(t);)e.push(n[1]);Nm.lastIndex=0}return e}function Ea(t,e,n){let r=t.toString(),i=r.replace(Nm,(o,s)=>{let a=e[s];return a==null&&(n.push(RP(s)),a=""),a.toString()});return i==r?t:i}function pl(t){let e=[],n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}var mk=/-+([a-z0-9])/g;function Ym(t){return t.replace(mk,(...e)=>e[1].toUpperCase())}function gk(t,e){return t===0||e===0}function vk(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,ww(t,a)))}}return e}function Yt(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw NP(e.type)}}function ww(t,e){return window.getComputedStyle(t)[e]}var bk=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ml=class extends xi{normalizePropertyName(e,n){return Ym(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(bk.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(PP(e,r))}return s+o}};var gl="*";function yk(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>Ek(r,n,e)):n.push(t),n}function Ek(t,e,n){if(t[0]==":"){let c=_k(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(WP(t)),e;let i=r[1],o=r[2],s=r[3];e.push(ow(i,s));let a=i==gl&&s==gl;o[0]=="<"&&!a&&e.push(ow(s,i))}function _k(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(GP(t)),"* => *"}}var cl=new Set(["true","1"]),ul=new Set(["false","0"]);function ow(t,e){let n=cl.has(t)||ul.has(t),r=cl.has(e)||ul.has(e);return(i,o)=>{let s=t==gl||t==i,a=e==gl||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?cl.has(t):ul.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?cl.has(e):ul.has(e)),s&&a}}var Sw=":self",wk=new RegExp(`s*${Sw}s*,?`,"g");function Cw(t,e,n,r){return new Pm(t).build(e,n,r)}var sw="",Pm=class{constructor(e){this._driver=e}build(e,n,r){let i=new km(n);return this._resetContextStyleTimingState(i),Yt(this,ba(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=sw,e.collectedStyles=new Map,e.collectedStyles.set(sw,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(kP()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==0){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,o.push(this.visitState(c,n))}),c.name=u}else if(a.type==1){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(FP())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};if(r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{_w(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size){let a=pl(o.values());n.errors.push(LP(e.name,a))}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Yt(this,ba(e.animation),n);return{type:1,matchers:yk(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Di(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>Yt(this,r,n)),options:Di(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=Yt(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:o,options:Di(e.options)}}visitAnimate(e,n){let r=Ik(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:Sm({});if(o.type==5)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=Sm(u)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Bn?r.push(a):n.errors.push(VP(a)):r.push(Ew(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(bw)>=0){o=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),l=u.get(c),d=!0;l&&(o!=i&&o>=l.startTime&&i<=l.endTime&&(n.errors.push(jP(c,l.startTime,l.endTime,o,i)),d=!1),o=l.startTime),d&&u.set(c,{startTime:o,endTime:i}),n.options&&pk(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(BP()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,l=e.steps.map(y=>{let O=this._makeStyleAst(y,n),w=O.offset!=null?O.offset:Dk(O.styles),x=0;return w!=null&&(o++,x=O.offset=w),c=c||x<0||x>1,a=a||x<u,u=x,s.push(x),O});c&&n.errors.push(UP()),a&&n.errors.push($P());let d=e.steps.length,f=0;o>0&&o<d?n.errors.push(HP()):o==0&&(f=i/(d-1));let h=d-1,p=n.currentTime,m=n.currentAnimateTimings,b=m.duration;return l.forEach((y,O)=>{let w=f>0?O==h?1:f*O:s[O],x=w*b;n.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(y,n),y.offset=w,r.styles.push(y)}),r}visitReference(e,n){return{type:8,animation:Yt(this,ba(e.animation),n),options:Di(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Di(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Di(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=Sk(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Qt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Yt(this,ba(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Di(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(zP());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:hl(e.timings,n.errors,!0);return{type:12,animation:Yt(this,ba(e.animation),n),timings:r,options:null}}};function Sk(t){let e=!!t.split(/\s*,\s*/).find(n=>n==Sw);return e&&(t=t.replace(wk,"")),t=t.replace(/@\*/g,fl).replace(/@\w+/g,n=>fl+"-"+n.slice(1)).replace(/:animating/g,Om),[t,e]}function Ck(t){return t?Da(t):null}var km=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Dk(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Ik(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=hl(t,e).duration;return Dm(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Dm(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=hl(n,e);return Dm(i.duration,i.delay,i.easing)}function Di(t){return t?(t=Da(t),t.params&&(t.params=Ck(t.params))):t={},t}function Dm(t,e,n){return{duration:t,delay:e,easing:n}}function Qm(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var _a=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},xk=1,Tk=":enter",Mk=new RegExp(Tk,"g"),Ak=":leave",Ok=new RegExp(Ak,"g");function Dw(t,e,n,r,i,o=new Map,s=new Map,a,c,u=[]){return new Fm().buildKeyframes(t,e,n,r,i,o,s,a,c,u)}var Fm=class{buildKeyframes(e,n,r,i,o,s,a,c,u,l=[]){u=u||new _a;let d=new Lm(e,n,u,i,o,l,[]);d.options=c;let f=c.delay?sr(c.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,c),Yt(this,r,d);let h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){let b=h[m];if(b.element===n){p=b;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return h.length?h.map(p=>p.buildKeyframes()):[Qm(n,[],[],[],0,f,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:sr(Ea(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?sr(r.duration):null,a=r.delay!=null?sr(r.delay):null;return s!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Yt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==6&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vl);let s=sr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Yt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?sr(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Yt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Ea(r,n.params,n.errors):r;return hl(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==5?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?sr(i.delay):0;o&&(n.previousNode.type===6||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=vl);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{n.currentQueryIndex=l;let d=n.createSubContext(e.options,u);o&&d.delayNextStep(o),u===n.element&&(c=d.currentTimeline),Yt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;s=Math.max(s,f)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let l=n.currentTimeline;c&&l.delayNextStep(c);let d=l.currentTime;Yt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},vl={},Lm=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new bl(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=sr(r.duration)),r.delay!=null&&(i.delay=sr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Ea(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=vl,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Vm(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Mk,"."+this._enterClassName),e=e.replace(Ok,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(qP(n)),a}},bl=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xk,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Bn),this._currentKeyframe.set(n,Bn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=Rk(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Ea(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Bn),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=Oo(a,new Map,this._backFill);u.forEach((l,d)=>{l===sl?e.add(d):l===Bn&&n.add(d)}),r||u.set("offset",c/this.duration),i.push(u)});let o=e.size?pl(e.values()):[],s=n.size?pl(n.values()):[];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Qm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Vm=class extends bl{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=Oo(e[0]);c.set("offset",0),o.push(c);let u=Oo(e[0]);u.set("offset",aw(a)),o.push(u);let l=e.length-1;for(let d=1;d<=l;d++){let f=Oo(e[d]),h=f.get("offset"),p=n+h*r;f.set("offset",aw(p/s)),o.push(f)}r=s,n=0,i="",e=o}return Qm(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function aw(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Rk(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r=r||e.keys();for(let o of r)n.set(o,Bn)}else Oo(i,n)}),n}function cw(t,e,n,r,i,o,s,a,c,u,l,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:f}}var Im={},yl=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return Nk(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,u,l){let d=[],f=this.ast.options&&this.ast.options.params||Im,h=a&&a.params||Im,p=this.buildStyles(r,h,d),m=c&&c.params||Im,b=this.buildStyles(i,m,d),y=new Set,O=new Map,w=new Map,x=i==="void",D={params:Pk(m,f),delay:this.ast.options?.delay},T=l?[]:Dw(e,n,this.ast.animation,o,s,p,b,D,u,d),C=0;if(T.forEach(M=>{C=Math.max(M.duration+M.delay,C)}),d.length)return cw(n,this._triggerName,r,i,x,p,b,[],[],O,w,C,d);T.forEach(M=>{let N=M.element,B=Qt(O,N,new Set);M.preStyleProps.forEach(S=>B.add(S));let Y=Qt(w,N,new Set);M.postStyleProps.forEach(S=>Y.add(S)),N!==n&&y.add(N)});let g=pl(y.values());return cw(n,this._triggerName,r,i,x,p,b,T,g,O,w,C)}};function Nk(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function Pk(t,e){let n=Da(e);for(let r in t)t.hasOwnProperty(r)&&t[r]!=null&&(n[r]=t[r]);return n}var jm=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=Da(this.defaultParams);return Object.keys(e).forEach(o=>{let s=e[o];s!==null&&(i[o]=s)}),this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Ea(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function kk(t,e,n){return new Bm(t,e,n)}var Bm=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new jm(i.style,o,r))}),uw(this.states,"true","1"),uw(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new yl(e,i,this.states))}),this.fallbackTransition=Fk(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function Fk(t,e,n){let o={type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0};return new yl(t,o,e)}function uw(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Lk=new _a,Um=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=Cw(this._driver,n,r,i);if(r.length)throw QP(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=mw(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=Dw(this._driver,n,o,yw,Am,new Map,new Map,r,Lk,i),s.forEach(l=>{let d=Qt(a,l.element,new Map);l.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(ZP()),s=[]),i.length)throw XP(i);a.forEach((l,d)=>{l.forEach((f,h)=>{l.set(h,this._driver.computeStyle(d,h,Bn))})});let c=s.map(l=>{let d=a.get(l.element);return this._buildPlayer(l,new Map,d)}),u=kr(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw JP(e);return n}listen(e,n,r,i){let o=Wm(n,"","","");return qm(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},lw="ng-animate-queued",Vk=".ng-animate-queued",xm="ng-animate-disabled",jk=".ng-animate-disabled",Bk="ng-star-inserted",Uk=".ng-star-inserted",$k=[],Iw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yn="__ng_removed",wa=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=qk(i),r){let o=Da(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},ya="void",Tm=new wa(ya),$m=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,on(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw ek(r,n);if(r==null||r.length==0)throw tk(n);if(!Wk(r))throw nk(r,n);let o=Qt(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=Qt(this._engine.statesByElement,e,new Map);return a.has(n)||(on(e,al),on(e,al+"-"+n),a.set(n,Tm)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw rk(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new Sa(this.id,n,e),a=this._engine.statesByElement.get(e);a||(on(e,al),on(e,al+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new wa(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=Tm),!(u.value===ya)&&c.value===u.value){if(!Yk(c.params,u.params)){let m=[],b=o.matchStyles(c.value,c.params,m),y=o.matchStyles(u.value,u.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ii(e,b),Un(e,y)})}return}let f=Qt(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let h=o.matchTransition(c.value,u.value,e,u.params),p=!1;if(!h){if(!i)return;h=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:c,toState:u,player:s,isFallbackTransition:p}),p||(on(e,lw),s.onStart(()=>{Ao(e,lw)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);let b=this._engine.playersByElement.get(e);if(b){let y=b.indexOf(s);y>=0&&b.splice(y,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,fl,!0);r.forEach(i=>{if(i[yn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let l=this.trigger(e,u,ya,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&kr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||Tm,l=new wa(ya),d=new Sa(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[yn];(!o||o===Iw)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){on(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Wm(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,qm(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Hm=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new $m(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(ll(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!ll(n))return;let o=n[yn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),on(e,xm)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ao(e,xm))}removeNode(e,n,r){if(ll(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[yn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return ll(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,fl,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Om,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[yn];if(n&&n.setForRemoval){if(e[yn]=Iw,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(xm)&&this.markElementAsDisabled(e,!1),this.driver.query(e,jk,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];on(i,Bk)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?kr(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw ik(e)}_flushAnimations(e,n){let r=new _a,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(A=>{l.add(A);let F=this.driver.query(A,Vk,!0);for(let R=0;R<F.length;R++)l.add(F[R])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=hw(f,this.collectedEnterElements),p=new Map,m=0;h.forEach((A,F)=>{let R=yw+m++;p.set(F,R),A.forEach(q=>on(q,R))});let b=[],y=new Set,O=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){let F=this.collectedLeaveElements[A],R=F[yn];R&&R.setForRemoval&&(b.push(F),y.add(F),R.hasAnimation?this.driver.query(F,Uk,!0).forEach(q=>y.add(q)):O.add(F))}let w=new Map,x=hw(f,Array.from(y));x.forEach((A,F)=>{let R=Am+m++;w.set(F,R),A.forEach(q=>on(q,R))}),e.push(()=>{h.forEach((A,F)=>{let R=p.get(F);A.forEach(q=>Ao(q,R))}),x.forEach((A,F)=>{let R=w.get(F);A.forEach(q=>Ao(q,R))}),b.forEach(A=>{this.processLeaveNode(A)})});let D=[],T=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(n).forEach(R=>{let q=R.player,ae=R.element;if(D.push(q),this.collectedEnterElements.length){let v=ae[yn];if(v&&v.setForMove){if(v.previousTriggersValues&&v.previousTriggersValues.has(R.triggerName)){let Zt=v.previousTriggersValues.get(R.triggerName),te=this.statesByElement.get(R.element);if(te&&te.has(R.triggerName)){let Yn=te.get(R.triggerName);Yn.value=Zt,te.set(R.triggerName,Yn)}}q.destroy();return}}let Se=!d||!this.driver.containsElement(d,ae),Re=w.get(ae),Te=p.get(ae),fe=this._buildInstruction(R,r,Te,Re,Se);if(fe.errors&&fe.errors.length){T.push(fe);return}if(Se){q.onStart(()=>Ii(ae,fe.fromStyles)),q.onDestroy(()=>Un(ae,fe.toStyles)),i.push(q);return}if(R.isFallbackTransition){q.onStart(()=>Ii(ae,fe.fromStyles)),q.onDestroy(()=>Un(ae,fe.toStyles)),i.push(q);return}let ln=[];fe.timelines.forEach(v=>{v.stretchStartingKeyframe=!0,this.disabledNodes.has(v.element)||ln.push(v)}),fe.timelines=ln,r.append(ae,fe.timelines);let Vi={instruction:fe,player:q,element:ae};s.push(Vi),fe.queriedElements.forEach(v=>Qt(a,v,[]).push(q)),fe.preStyleProps.forEach((v,Zt)=>{if(v.size){let te=c.get(Zt);te||c.set(Zt,te=new Set),v.forEach((Yn,Xt)=>te.add(Xt))}}),fe.postStyleProps.forEach((v,Zt)=>{let te=u.get(Zt);te||u.set(Zt,te=new Set),v.forEach((Yn,Xt)=>te.add(Xt))})});if(T.length){let A=[];T.forEach(F=>{A.push(ok(F.triggerName,F.errors))}),D.forEach(F=>F.destroy()),this.reportError(A)}let C=new Map,g=new Map;s.forEach(A=>{let F=A.element;r.has(F)&&(g.set(F,F),this._beforeAnimationBuild(A.player.namespaceId,A.instruction,C))}),i.forEach(A=>{let F=A.element;this._getPreviousPlayers(F,!1,A.namespaceId,A.triggerName,null).forEach(q=>{Qt(C,F,[]).push(q),q.destroy()})});let M=b.filter(A=>pw(A,c,u)),N=new Map;fw(N,this.driver,O,u,Bn).forEach(A=>{pw(A,c,u)&&M.push(A)});let Y=new Map;h.forEach((A,F)=>{fw(Y,this.driver,new Set(A),c,sl)}),M.forEach(A=>{let F=N.get(A),R=Y.get(A);N.set(A,new Map([...F?.entries()??[],...R?.entries()??[]]))});let S=[],E=[],I={};s.forEach(A=>{let{element:F,player:R,instruction:q}=A;if(r.has(F)){if(l.has(F)){R.onDestroy(()=>Un(F,q.toStyles)),R.disabled=!0,R.overrideTotalTime(q.totalTime),i.push(R);return}let ae=I;if(g.size>1){let Re=F,Te=[];for(;Re=Re.parentNode;){let fe=g.get(Re);if(fe){ae=fe;break}Te.push(Re)}Te.forEach(fe=>g.set(fe,ae))}let Se=this._buildAnimation(R.namespaceId,q,C,o,Y,N);if(R.setRealPlayer(Se),ae===I)S.push(R);else{let Re=this.playersByElement.get(ae);Re&&Re.length&&(R.parentPlayer=kr(Re)),i.push(R)}}else Ii(F,q.fromStyles),R.onDestroy(()=>Un(F,q.toStyles)),E.push(R),l.has(F)&&i.push(R)}),E.forEach(A=>{let F=o.get(A.element);if(F&&F.length){let R=kr(F);A.setRealPlayer(R)}}),i.forEach(A=>{A.parentPlayer?A.syncPlayerEvents(A.parentPlayer):A.destroy()});for(let A=0;A<b.length;A++){let F=b[A],R=F[yn];if(Ao(F,Am),R&&R.hasAnimation)continue;let q=[];if(a.size){let Se=a.get(F);Se&&Se.length&&q.push(...Se);let Re=this.driver.query(F,Om,!0);for(let Te=0;Te<Re.length;Te++){let fe=a.get(Re[Te]);fe&&fe.length&&q.push(...fe)}}let ae=q.filter(Se=>!Se.destroyed);ae.length?Gk(this,F,ae):this.processLeaveNode(F)}return b.length=0,S.forEach(A=>{this.players.push(A),A.onDone(()=>{A.destroy();let F=this.players.indexOf(A);this.players.splice(F,1)}),A.play()}),S}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==ya;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let u=c.element,l=u!==o,d=Qt(r,u,[]);this._getPreviousPlayers(u,l,s,a,n.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}Ii(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,u=[],l=new Set,d=new Set,f=n.timelines.map(p=>{let m=p.element;l.add(m);let b=m[yn];if(b&&b.removedBeforeQueried)return new Pr(p.duration,p.delay);let y=m!==c,O=Kk((r.get(m)||$k).map(C=>C.getRealPlayer())).filter(C=>{let g=C;return g.element?g.element===m:!1}),w=o.get(m),x=s.get(m),D=mw(this._normalizer,p.keyframes,w,x),T=this._buildPlayer(p,D,O);if(p.subTimeline&&i&&d.add(m),y){let C=new Sa(e,a,m);C.setRealPlayer(T),u.push(C)}return T});u.forEach(p=>{Qt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>zk(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>on(p,iw));let h=kr(f);return h.onDestroy(()=>{l.forEach(p=>Ao(p,iw)),Un(c,n.toStyles)}),d.forEach(p=>{Qt(i,p,[]).push(h)}),h}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Pr(e.duration,e.delay)}},Sa=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Pr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>qm(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Qt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function zk(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function qk(t){return t??null}function ll(t){return t&&t.nodeType===1}function Wk(t){return t=="start"||t=="done"}function dw(t,e){let n=t.style.display;return t.style.display=e??"none",n}function fw(t,e,n,r,i){let o=[];n.forEach(c=>o.push(dw(c)));let s=[];r.forEach((c,u)=>{let l=new Map;c.forEach(d=>{let f=e.computeStyle(u,d,i);l.set(d,f),(!f||f.length==0)&&(u[yn]=Hk,s.push(u))}),t.set(u,l)});let a=0;return n.forEach(c=>dw(c,o[a++])),s}function hw(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function on(t,e){t.classList?.add(e)}function Ao(t,e){t.classList?.remove(e)}function Gk(t,e,n){kr(n).onDone(()=>t.processLeaveNode(e))}function Kk(t){let e=[];return xw(t,e),e}function xw(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof va?xw(r.players,e):e.push(r)}}function Yk(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function pw(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var Ro=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Hm(e.body,n,r),this._timelineEngine=new Um(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],l=Cw(this._driver,o,c,u);if(c.length)throw KP(i,c);u.length&&void 0,a=kk(i,l,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=nw(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=nw(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Qk(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Mm(e[0]),e.length>1&&(r=Mm(e[e.length-1]))):e instanceof Map&&(n=Mm(e)),n||r?new Zk(t,n,r):null}var Zk=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._startStyles=i,this._endStyles=o,this._state=0;let s=e.initialStylesByElement.get(r);s||e.initialStylesByElement.set(r,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Un(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Un(this._element,this._initialStyles),this._endStyles&&(Un(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ii(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ii(this._element,this._endStyles),this._endStyles=null),Un(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let t=e;return t})();function Mm(t){let e=null;return t.forEach((n,r)=>{Xk(r)&&(e=e||new Map,e.set(r,n))}),e}function Xk(t){return t==="display"||t==="position"}var El=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:ww(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},_l=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return gw(e,n)}getParentElement(e){return Gm(e)}query(e,n,r){return vw(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,l=s.filter(h=>h instanceof El);gk(r,i)&&l.forEach(h=>{h.currentSnapshot.forEach((p,m)=>u.set(m,p))});let d=hk(n).map(h=>Oo(h));d=vk(e,d,u);let f=Qk(e,d);return new El(e,d,c,f)}};var dl="@",Tw="@.disabled",wl=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==dl&&n==Tw?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},zm=class extends wl{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==dl?n.charAt(1)=="."&&n==Tw?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==dl){let i=Jk(e),o=n.slice(1),s="";return o.charAt(0)!=dl&&([o,s]=eF(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function Jk(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function eF(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Sl=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,l=u.get(i);if(!l){let d=()=>u.delete(i);l=new wl(r,i,this.engine,d),u.set(i,l)}return l}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return n.data.animation.forEach(a),new zm(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var nF=(()=>{let e=class e extends Ro{constructor(r,i,o,s){super(r,i,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(L(Ae),L(Ca),L(xi),L(xr))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function rF(){return new ml}function iF(t,e,n){return new Sl(t,e,n)}var Mw=[{provide:xi,useFactory:rF},{provide:Ro,useClass:nF},{provide:ci,useFactory:iF,deps:[Uu,Ro,Ee]}],oF=[{provide:Ca,useFactory:()=>new _l},{provide:kn,useValue:"BrowserAnimations"},...Mw],r6=[{provide:Ca,useClass:Km},{provide:kn,useValue:"NoopAnimations"},...Mw];function Aw(){return[...oF]}function Zm(t){return t!=null&&`${t}`!="false"}function Xm(t){return Array.isArray(t)?t:[t]}function Ti(t){return t instanceof ze?t.nativeElement:t}var Ow=new Set,Mi,sF=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cF}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&aF(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(L(Kt),L(js,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aF(t,e){if(!Ow.has(t))try{Mi||(Mi=document.createElement("style"),e&&(Mi.nonce=e),Mi.setAttribute("type","text/css"),document.head.appendChild(Mi)),Mi.sheet&&(Mi.sheet.insertRule(`@media ${t} {body{ }}`,0),Ow.add(t))}catch(n){console.error(n)}}function cF(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Nw=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new Ye}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return Rw(Xm(r)).some(o=>this._registerQuery(o).mql.matches)}observe(r){let o=Rw(Xm(r)).map(a=>this._registerQuery(a).observable),s=Wi(o);return s=mr(s.pipe(Ft(1)),s.pipe(_s(1),Tc(0))),s.pipe(ee(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:l})=>{c.matches=c.matches||u,c.breakpoints[l]=u}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),s={observable:new he(a=>{let c=u=>this._zone.run(()=>a.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(ws(i),ee(({matches:a})=>({query:r,matches:a})),Jr(this._destroySubject)),mql:i};return this._queries.set(r,s),s}};e.\u0275fac=function(i){return new(i||e)(L(sF),L(Ee))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rw(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function eg(t){return t.buttons===0||t.detail===0}function tg(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var uF=new W("cdk-input-modality-detector-options"),lF={ignoreKeys:[18,17,224,91,16]},Fw=650,No=Mo({passive:!0,capture:!0}),dF=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(r,i,o,s){this._platform=r,this._mostRecentTarget=null,this._modality=new He(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Fw||(this._modality.next(eg(a)?"keyboard":"mouse"),this._mostRecentTarget=Nr(a))},this._onTouchstart=a=>{if(tg(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nr(a)},this._options=U(U({},lF),s),this.modalityDetected=this._modality.pipe(_s(1)),this.modalityChanged=this.modalityDetected.pipe(Es()),r.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,No),o.addEventListener("mousedown",this._onMousedown,No),o.addEventListener("touchstart",this._onTouchstart,No)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,No),document.removeEventListener("mousedown",this._onMousedown,No),document.removeEventListener("touchstart",this._onTouchstart,No))}};e.\u0275fac=function(i){return new(i||e)(L(Kt),L(Ee),L(Ae),L(uF,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fF=new W("cdk-focus-monitor-default-options"),Cl=Mo({passive:!0,capture:!0}),Lw=(()=>{let e=class e{constructor(r,i,o,s,a){this._ngZone=r,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ye,this._rootNodeFocusAndBlurListener=c=>{let u=Nr(c);for(let l=u;l;l=l.parentElement)c.type==="focus"?this._onFocus(c,l):this._onBlur(c,l)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(r,i=!1){let o=Ti(r);if(!this._platform.isBrowser||o.nodeType!==1)return Z();let s=X_(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new Ye,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let i=Ti(r),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(r,i,o){let s=Ti(r),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((r,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===1||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,i){r.classList.toggle("cdk-focused",!!i),r.classList.toggle("cdk-touch-focused",i==="touch"),r.classList.toggle("cdk-keyboard-focused",i==="keyboard"),r.classList.toggle("cdk-mouse-focused",i==="mouse"),r.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(r,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&i,this._detectionMode===0){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Fw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(r,i){let o=this._elementInfo.get(i),s=Nr(r);!o||!o.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),o)}_onBlur(r,i){let o=this._elementInfo.get(i);!o||o.checkChildren&&r.relatedTarget instanceof Node&&i.contains(r.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(r,i){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(i))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let i=r.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cl),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cl)}),this._rootNodeFocusListenerCount.set(i,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(r){let i=r.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cl),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cl),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,i,o){this._setClasses(r,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(r){let i=[];return this._elementInfo.forEach((o,s)=>{(s===r||o.checkChildren&&s.contains(r))&&i.push([s,o])}),i}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!i||i===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let s=r.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(L(Ee),L(Kt),L(dF),L(Ae,8),L(fF,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pw="cdk-high-contrast-black-on-white",kw="cdk-high-contrast-white-on-black",Jm="cdk-high-contrast-active",Vw=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=j(Nw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(r):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(r.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(Jm,Pw,kw),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===1?r.add(Jm,Pw):i===2&&r.add(Jm,kw)}}};e.\u0275fac=function(i){return new(i||e)(L(Kt),L(Ae))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ng=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({});let t=e;return t})();function pF(){return!0}var mF=new W("mat-sanity-checks",{providedIn:"root",factory:pF}),Fr=(()=>{let e=class e{constructor(r,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return J_()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(L(Vw),L(mF,8),L(Ae))},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({imports:[ng,ng]});let t=e;return t})();function Gw(t,e){return class extends t{get color(){return this._color}set color(n){let r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}var og=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},jw=Mo({passive:!0,capture:!0}),sg=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Nr(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,r,i){let o=this._events.get(n);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,jw)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let o=i.get(n);o&&(o.delete(r),o.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,jw)))}},Bw={enterDuration:225,exitDuration:150},gF=800,Uw=Mo({passive:!0,capture:!0}),$w=["mousedown","touchstart"],Hw=["mouseup","mouseleave","touchend","touchcancel"],Ia=class Ia{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ti(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=U(U({},Bw),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let s=r.radius||vF(e,n,i),a=e-i.left,c=n-i.top,u=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${a-s}px`,l.style.top=`${c-s}px`,l.style.height=`${s*2}px`,l.style.width=`${s*2}px`,r.color!=null&&(l.style.backgroundColor=r.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);let d=window.getComputedStyle(l),f=d.transitionProperty,h=d.transitionDuration,p=f==="none"||h==="0s"||h==="0s, 0s"||i.width===0&&i.height===0,m=new og(this,l,r,p);l.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let b=null;return!p&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>this._finishRippleTransition(m),O=()=>this._destroyRipple(m);l.addEventListener("transitionend",y),l.addEventListener("transitioncancel",O),b={onTransitionEnd:y,onTransitionCancel:O}}),this._activeRipples.set(m,b),(p||!u)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(e.state===2||e.state===3)return;let n=e.element,r=U(U({},Bw),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Ti(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,$w.forEach(r=>{Ia._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hw.forEach(n=>{this._triggerElement.addEventListener(n,this,Uw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=eg(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+gF;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!tg(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&($w.forEach(n=>Ia._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&Hw.forEach(n=>e.removeEventListener(n,this,Uw)))}};Ia._eventManager=new sg;var ag=Ia;function vF(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var Kw=new W("mat-ripple-global-options"),bF=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,o,s,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new ag(this,i,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:U(U(U({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,o){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,U(U({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,U(U({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(X(ze),X(Ee),X(Kt),X(Kw,8),X(kn,8))},e.\u0275dir=Qe({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){i&2&&Fn("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]});let t=e;return t})(),Yw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({imports:[Fr,Fr]});let t=e;return t})();var zw={capture:!0},qw=["focus","click","mouseenter","touchstart"],rg="mat-ripple-loader-uninitialized",ig="mat-ripple-loader-class-name",Ww="mat-ripple-loader-centered",Dl="mat-ripple-loader-disabled",Qw=(()=>{let e=class e{constructor(){this._document=j(Ae,{optional:!0}),this._animationMode=j(kn,{optional:!0}),this._globalRippleOptions=j(Kw,{optional:!0}),this._platform=j(Kt),this._ngZone=j(Ee),this._hosts=new Map,this._onInteraction=r=>{if(!(r.target instanceof HTMLElement))return;let o=r.target.closest(`[${rg}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let r of qw)this._document?.addEventListener(r,this._onInteraction,zw)})}ngOnDestroy(){let r=this._hosts.keys();for(let i of r)this.destroyRipple(i);for(let i of qw)this._document?.removeEventListener(i,this._onInteraction,zw)}configureRipple(r,i){r.setAttribute(rg,""),(i.className||!r.hasAttribute(ig))&&r.setAttribute(ig,i.className||""),i.centered&&r.setAttribute(Ww,""),i.disabled&&r.setAttribute(Dl,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,i){let o=this._hosts.get(r);if(o){o.disabled=i;return}i?r.setAttribute(Dl,""):r.removeAttribute(Dl)}_createRipple(r){if(!this._document)return;let i=this._hosts.get(r);if(i)return i;r.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",r.getAttribute(ig)),r.append(o);let s=new bF(new ze(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=r,s.centered=r.hasAttribute(Ww),s.disabled=r.hasAttribute(Dl),this.attachRipple(r,s),s}attachRipple(r,i){r.removeAttribute(rg),this._hosts.set(r,i)}destroyRipple(r){let i=this._hosts.get(r);i&&(i.ngOnDestroy(),this._hosts.delete(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yF=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],EF=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var _F=["mat-fab",""];var wF=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],SF=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,i,o,s){this._elementRef=r,this._platform=i,this._ngZone=o,this._animationMode=s,this._focusMonitor=j(Lw),this._rippleLoader=j(Qw),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let a=this._elementRef.nativeElement,c=a.classList;for(let{attribute:u,mdcClasses:l}of wF)a.hasAttribute(u)&&c.add(...l)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",i){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(i){ip()},e.\u0275dir=Qe({type:e,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",Bt],disabled:["disabled","disabled",Bt]},features:[Dr]});let t=e;return t})();var CF=new W("mat-mdc-fab-default-options",{providedIn:"root",factory:Xw});function Xw(){return{color:"accent"}}var Zw=Xw(),Jw=(()=>{let e=class e extends SF{constructor(r,i,o,s,a){super(r,i,o,s),this._options=a,this._isFab=!0,this._options=this._options||Zw,this.color=this._options.color||Zw.color}};e.\u0275fac=function(i){return new(i||e)(X(ze),X(Kt),X(Ee),X(kn,8),X(CF,8))},e.\u0275cmp=st({type:e,selectors:[["button","mat-fab",""]],hostVars:13,hostBindings:function(i,o){i&2&&(nn("disabled",o.disabled||null),_E(o.color?"mat-"+o.color:""),Fn("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0)("mdc-fab--extended",o.extended)("mat-mdc-extended-fab",o.extended))},inputs:{extended:["extended","extended",Bt]},exportAs:["matButton"],features:[Dr,tn],attrs:_F,ngContentSelectors:EF,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(zs(yF),lt(0,"span",0),vi(1),oe(2,"span",1),vi(3,1),ye(),vi(4,2),lt(5,"span",2)(6,"span",3)),i&2&&Fn("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);flex-shrink:0;color:var(--mat-fab-foreground-color, inherit)}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0});let t=e;return t})();var Il=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({imports:[Fr,Yw,Fr]});let t=e;return t})();var IF=["*"],xl;function xF(){if(xl===void 0&&(xl=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(xl=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return xl}function xa(t){return xF()?.createHTML(t)||t}function eS(t){return Error(`Unable to find icon with the name "${t}"`)}function TF(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function tS(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function nS(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var ar=class{constructor(e,n,r){this.url=e,this.svgText=n,this.options=r}},MF=(()=>{let e=class e{constructor(r,i,o,s){this._httpClient=r,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(r,i,o){return this.addSvgIconInNamespace("",r,i,o)}addSvgIconLiteral(r,i,o){return this.addSvgIconLiteralInNamespace("",r,i,o)}addSvgIconInNamespace(r,i,o,s){return this._addSvgIconConfig(r,i,new ar(o,null,s))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,i,o,s){let a=this._sanitizer.sanitize(bt.HTML,o);if(!a)throw nS(o);let c=xa(a);return this._addSvgIconConfig(r,i,new ar("",c,s))}addSvgIconSet(r,i){return this.addSvgIconSetInNamespace("",r,i)}addSvgIconSetLiteral(r,i){return this.addSvgIconSetLiteralInNamespace("",r,i)}addSvgIconSetInNamespace(r,i,o){return this._addSvgIconSetConfig(r,new ar(i,null,o))}addSvgIconSetLiteralInNamespace(r,i,o){let s=this._sanitizer.sanitize(bt.HTML,i);if(!s)throw nS(i);let a=xa(s);return this._addSvgIconSetConfig(r,new ar("",a,o))}registerFontClassAlias(r,i=r){return this._fontCssClassesByAlias.set(r,i),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(...r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){let i=this._sanitizer.sanitize(bt.RESOURCE_URL,r);if(!i)throw tS(r);let o=this._cachedIconsByUrl.get(i);return o?Z(Tl(o)):this._loadSvgIconFromConfig(new ar(r,null)).pipe(Ie(s=>this._cachedIconsByUrl.set(i,s)),ee(s=>Tl(s)))}getNamedSvgIcon(r,i=""){let o=rS(i,r),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,r),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(r,a):pr(eS(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?Z(Tl(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe(ee(i=>Tl(i)))}_getSvgFromIconSetConfigs(r,i){let o=this._extractIconWithNameFromAnySet(r,i);if(o)return Z(o);let s=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(kt(c=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(bt.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(l)),Z(null)})));return ys(s).pipe(ee(()=>{let a=this._extractIconWithNameFromAnySet(r,i);if(!a)throw eS(r);return a}))}_extractIconWithNameFromAnySet(r,i){for(let o=i.length-1;o>=0;o--){let s=i[o];if(s.svgText&&s.svgText.toString().indexOf(r)>-1){let a=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(a,r,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe(Ie(i=>r.svgText=i),ee(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?Z(null):this._fetchIcon(r).pipe(Ie(i=>r.svgText=i))}_extractSvgIconFromSet(r,i,o){let s=r.querySelector(`[id="${i}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let c=this._svgElementFromString(xa("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,o)}_svgElementFromString(r){let i=this._document.createElement("DIV");i.innerHTML=r;let o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(r){let i=this._svgElementFromString(xa("<svg></svg>")),o=r.attributes;for(let s=0;s<o.length;s++){let{name:a,value:c}=o[s];a!=="id"&&i.setAttribute(a,c)}for(let s=0;s<r.childNodes.length;s++)r.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(r.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(r,i){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),i&&i.viewBox&&r.setAttribute("viewBox",i.viewBox),r}_fetchIcon(r){let{url:i,options:o}=r,s=o?.withCredentials??!1;if(!this._httpClient)throw TF();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(bt.RESOURCE_URL,i);if(!a)throw tS(i);let c=this._inProgressUrlFetches.get(a);if(c)return c;let u=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(ee(l=>xa(l)),Dn(()=>this._inProgressUrlFetches.delete(a)),Ki());return this._inProgressUrlFetches.set(a,u),u}_addSvgIconConfig(r,i,o){return this._svgIconConfigs.set(rS(r,i),o),this}_addSvgIconSetConfig(r,i){let o=this._iconSetConfigs.get(r);return o?o.push(i):this._iconSetConfigs.set(r,[i]),this}_svgElementFromConfig(r){if(!r.svgElement){let i=this._svgElementFromString(r.svgText);this._setSvgAttributes(i,r.options),r.svgElement=i}return r.svgElement}_getIconConfigFromResolvers(r,i){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](i,r);if(s)return AF(s)?new ar(s.url,null,s.options):new ar(s,null)}}};e.\u0275fac=function(i){return new(i||e)(L(Ys,8),L(Pp),L(Ae,8),L(Ht))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tl(t){return t.cloneNode(!0)}function rS(t,e){return t+":"+e}function AF(t){return!!(t.url&&t.options)}var OF=Gw(class{constructor(t){this._elementRef=t}}),RF=new W("MAT_ICON_DEFAULT_OPTIONS"),NF=new W("mat-icon-location",{providedIn:"root",factory:PF});function PF(){let t=j(Ae),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var iS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kF=iS.map(t=>`[${t}]`).join(", "),FF=/^url\(['"]?#(.*?)['"]?\)$/,oS=(()=>{let e=class e extends OF{get inline(){return this._inline}set inline(r){this._inline=Zm(r)}get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}get fontSet(){return this._fontSet}set fontSet(r){let i=this._cleanupFontValue(r);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(r){let i=this._cleanupFontValue(r);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(r,i,o,s,a,c){super(r),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=$e.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),o||r.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(r){if(!r)return["",""];let i=r.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let r=this._elementsWithExternalReferences;if(r&&r.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){let r=this._elementRef.nativeElement,i=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let o=r.childNodes[i];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let r=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>r.classList.remove(o)),i.forEach(o=>r.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return typeof r=="string"?r.trim().split(" ")[0]:r}_prependPathToReferences(r){let i=this._elementsWithExternalReferences;i&&i.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${r}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(r){let i=r.querySelectorAll(kF),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)iS.forEach(a=>{let c=i[s],u=c.getAttribute(a),l=u?u.match(FF):null;if(l){let d=o.get(c);d||(d=[],o.set(c,d)),d.push({name:a,value:l[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){let[i,o]=this._splitIconName(r);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(Ft(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${i}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(i){return new(i||e)(X(ze),X(MF),Fs("aria-hidden"),X(NF),X(Ht),X(RF,8))},e.\u0275cmp=st({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,o){i&2&&(nn("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Fn("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[tn],ngContentSelectors:IF,decls:1,vars:0,template:function(i,o){i&1&&(zs(),vi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),Ml=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({imports:[Fr,Fr]});let t=e;return t})();var Al=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=st({type:e,selectors:[["app-button-back"]],standalone:!0,features:[jt],decls:5,vars:0,consts:[[1,"w-full","items-start"],[1,"mt-2","ml-2"],["mat-fab","","routerLink","/"]],template:function(i,o){i&1&&(oe(0,"div",0)(1,"div",1)(2,"button",2)(3,"mat-icon"),We(4,"home"),ye()()()())},dependencies:[Wt,Il,Jw,Ml,oS,To]});let t=e;return t})();var hS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(X(pi),X(ze))},e.\u0275dir=Qe({type:e});let t=e;return t})(),VF=(()=>{let e=class e extends hS{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hi(e)))(o||e)}})(),e.\u0275dir=Qe({type:e,features:[tn]});let t=e;return t})(),pS=new W("NgValueAccessor");var jF={provide:pS,useExisting:fi(()=>ko),multi:!0};function BF(){let t=ir()?ir().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var UF=new W("CompositionEventMode"),ko=(()=>{let e=class e extends hS{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(X(pi),X(ze),X(UF,8))},e.\u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&nt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[bi([jF]),tn]});let t=e;return t})();function mS(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var hg=new W("NgValidators"),$F=new W("NgAsyncValidators");function HF(t){return mS(t.value)?{required:!0}:null}function zF(t){if(!t)return cg;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(mS(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function cg(t){return null}function gS(t){return t!=null}function vS(t){return gi(t)?Me(t):t}function bS(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function yS(t,e){return e.map(n=>n(t))}function qF(t){return!t.validate}function ES(t){return t.map(e=>qF(e)?e:n=>e.validate(n))}function WF(t){if(!t)return null;let e=t.filter(gS);return e.length==0?null:function(n){return bS(yS(n,e))}}function _S(t){return t!=null?WF(ES(t)):null}function GF(t){if(!t)return null;let e=t.filter(gS);return e.length==0?null:function(n){let r=yS(n,e).map(vS);return ys(r).pipe(ee(bS))}}function wS(t){return t!=null?GF(ES(t)):null}function sS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function KF(t){return t._rawValidators}function YF(t){return t._rawAsyncValidators}function ug(t){return t?Array.isArray(t)?t:[t]:[]}function Rl(t,e){return Array.isArray(t)?t.includes(e):t===e}function aS(t,e){let n=ug(e);return ug(t).forEach(i=>{Rl(n,i)||n.push(i)}),n}function cS(t,e){return ug(e).filter(n=>!Rl(t,n))}var Nl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_S(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},lg=class extends Nl{get formDirective(){return null}get path(){return null}},Aa=class extends Nl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},dg=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},QF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},r9=Ne(U({},QF),{"[class.ng-submitted]":"isSubmitted"}),Pl=(()=>{let e=class e extends dg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(X(Aa,2))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Fn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[tn]});let t=e;return t})();var Ta="VALID",Ol="INVALID",Po="PENDING",Ma="DISABLED";function ZF(t){return(kl(t)?t.validators:t)||null}function XF(t){return Array.isArray(t)?_S(t):t||null}function JF(t,e){return(kl(e)?e.asyncValidators:t)||null}function eL(t){return Array.isArray(t)?wS(t):t||null}function kl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var fg=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ta}get invalid(){return this.status===Ol}get pending(){return this.status==Po}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(aS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cS(e,this._rawAsyncValidators))}hasValidator(e){return Rl(this._rawValidators,e)}hasAsyncValidator(e){return Rl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Po,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(r=>{r.disable(Ne(U({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ne(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ta,this._forEachChild(r=>{r.enable(Ne(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ne(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ta||this.status===Po)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:Ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Po,this._hasOwnPendingAsyncValidator=!0;let n=vS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ut,this.statusChanges=new ut}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?Ol:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Po)?Po:this._anyControlsHaveStatus(Ol)?Ol:Ta}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eL(this._rawAsyncValidators)}};var pg=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Fl}),Fl="always";function tL(t,e){return[...e.path,t]}function nL(t,e,n=Fl){iL(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oL(t,e),aL(t,e),sL(t,e),rL(t,e)}function uS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function iL(t,e){let n=KF(t);e.validator!==null?t.setValidators(sS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=YF(t);e.asyncValidator!==null?t.setAsyncValidators(sS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();uS(e._rawValidators,i),uS(e._rawAsyncValidators,i)}function oL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&SS(t,e)})}function sL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&SS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function SS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function cL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function uL(t){return Object.getPrototypeOf(t.constructor)===VF}function lL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ko?n=o:uL(o)?r=o:i=o}),i||r||n||null}function lS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function dS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var dL=class extends fg{constructor(e=null,n,r){super(ZF(n),JF(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(dS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){dS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var fL={provide:Aa,useExisting:fi(()=>Oa)},fS=(()=>Promise.resolve())(),Oa=(()=>{let e=class e extends Aa{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new dL,this._registered=!1,this.name="",this.update=new ut,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=lL(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),cL(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){fS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Bt(i);fS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?tL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(X(lg,9),X(hg,10),X($F,10),X(pS,10),X(mi,8),X(pg,8))},e.\u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bi([fL]),tn,nr]});let t=e;return t})();var hL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({});let t=e;return t})();var pL=new W("NgModelWithFormControlWarning");var CS=(()=>{let e=class e{constructor(){this._validator=cg}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):cg,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,features:[nr]});let t=e;return t})();var mL={provide:hg,useExisting:fi(()=>mg),multi:!0};var mg=(()=>{let e=class e extends CS{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Bt,this.createValidator=r=>HF}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hi(e)))(o||e)}})(),e.\u0275dir=Qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&nn("required",o._enabled?"":null)},inputs:{required:"required"},features:[bi([mL]),tn]});let t=e;return t})();var gL={provide:hg,useExisting:fi(()=>gg),multi:!0},gg=(()=>{let e=class e extends CS{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=r=>r,this.createValidator=r=>zF(r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hi(e)))(o||e)}})(),e.\u0275dir=Qe({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&nn("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},features:[bi([gL]),tn]});let t=e;return t})();var DS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({imports:[hL]});let t=e;return t})();var Ll=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:pg,useValue:r.callSetDisabledState??Fl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({imports:[DS]});let t=e;return t})(),IS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:pL,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:pg,useValue:r.callSetDisabledState??Fl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Be({imports:[DS]});let t=e;return t})();var Fo=class{constructor(e,n){this.nickname=e,this.password=n}};function Ra(t,e){return function(){return t.apply(e,arguments)}}var{toString:vL}=Object.prototype,{getPrototypeOf:yg}=Object,jl=(t=>e=>{let n=vL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$n=t=>(t=t.toLowerCase(),e=>jl(e)===t),Bl=t=>e=>typeof e===t,{isArray:Lo}=Array,Na=Bl("undefined");function bL(t){return t!==null&&!Na(t)&&t.constructor!==null&&!Na(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var AS=$n("ArrayBuffer");function yL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AS(t.buffer),e}var EL=Bl("string"),sn=Bl("function"),OS=Bl("number"),Ul=t=>t!==null&&typeof t=="object",_L=t=>t===!0||t===!1,Vl=t=>{if(jl(t)!=="object")return!1;let e=yg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wL=$n("Date"),SL=$n("File"),CL=$n("Blob"),DL=$n("FileList"),IL=t=>Ul(t)&&sn(t.pipe),xL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=jl(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},TL=$n("URLSearchParams"),ML=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Lo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{let o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function RS(t,e){e=e.toLowerCase();let n=Object.keys(t),r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}var NS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),PS=t=>!Na(t)&&t!==NS;function bg(){let{caseless:t}=PS(this)&&this||{},e={},n=(r,i)=>{let o=t&&RS(e,i)||i;Vl(e[o])&&Vl(r)?e[o]=bg(e[o],r):Vl(r)?e[o]=bg({},r):Lo(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Pa(arguments[r],n);return e}var AL=(t,e,n,{allOwnKeys:r}={})=>(Pa(e,(i,o)=>{n&&sn(i)?t[o]=Ra(i,n):t[o]=i},{allOwnKeys:r}),t),OL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),RL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NL=(t,e,n,r)=>{let i,o,s,a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&yg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},PL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;let r=t.indexOf(e,n);return r!==-1&&r===n},kL=t=>{if(!t)return null;if(Lo(t))return t;let e=t.length;if(!OS(e))return null;let n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},FL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yg(Uint8Array)),LL=(t,e)=>{let r=(t&&t[Symbol.iterator]).call(t),i;for(;(i=r.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1])}},VL=(t,e)=>{let n,r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},jL=$n("HTMLFormElement"),BL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),TS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),UL=$n("RegExp"),kS=(t,e)=>{let n=Object.getOwnPropertyDescriptors(t),r={};Pa(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},$L=t=>{kS(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;let r=t[n];if(sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},HL=(t,e)=>{let n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Lo(t)?r(t):r(String(t).split(e)),n},zL=()=>{},qL=(t,e)=>(t=+t,Number.isFinite(t)?t:e),vg="abcdefghijklmnopqrstuvwxyz",MS="0123456789",FS={DIGIT:MS,ALPHA:vg,ALPHA_DIGIT:vg+vg.toUpperCase()+MS},WL=(t=16,e=FS.ALPHA_DIGIT)=>{let n="",{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function GL(t){return!!(t&&sn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var KL=t=>{let e=new Array(10),n=(r,i)=>{if(Ul(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;let o=Lo(r)?[]:{};return Pa(r,(s,a)=>{let c=n(s,i+1);!Na(c)&&(o[a]=c)}),e[i]=void 0,o}}return r};return n(t,0)},YL=$n("AsyncFunction"),QL=t=>t&&(Ul(t)||sn(t))&&sn(t.then)&&sn(t.catch),_={isArray:Lo,isArrayBuffer:AS,isBuffer:bL,isFormData:xL,isArrayBufferView:yL,isString:EL,isNumber:OS,isBoolean:_L,isObject:Ul,isPlainObject:Vl,isUndefined:Na,isDate:wL,isFile:SL,isBlob:CL,isRegExp:UL,isFunction:sn,isStream:IL,isURLSearchParams:TL,isTypedArray:FL,isFileList:DL,forEach:Pa,merge:bg,extend:AL,trim:ML,stripBOM:OL,inherits:RL,toFlatObject:NL,kindOf:jl,kindOfTest:$n,endsWith:PL,toArray:kL,forEachEntry:LL,matchAll:VL,isHTMLForm:jL,hasOwnProperty:TS,hasOwnProp:TS,reduceDescriptors:kS,freezeMethods:$L,toObjectSet:HL,toCamelCase:BL,noop:zL,toFiniteNumber:qL,findKey:RS,global:NS,isContextDefined:PS,ALPHABET:FS,generateString:WL,isSpecCompliantForm:GL,toJSONObject:KL,isAsyncFn:YL,isThenable:QL};function Vo(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}_.inherits(Vo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var LS=Vo.prototype,VS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VS[t]={value:t}});Object.defineProperties(Vo,VS);Object.defineProperty(LS,"isAxiosError",{value:!0});Vo.from=(t,e,n,r,i,o)=>{let s=Object.create(LS);return _.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Vo.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var ve=Vo;var $l=null;function Eg(t){return _.isPlainObject(t)||_.isArray(t)}function BS(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function jS(t,e,n){return t?t.concat(e).map(function(i,o){return i=BS(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function ZL(t){return _.isArray(t)&&!t.some(Eg)}var XL=_.toFlatObject(_,{},null,function(e){return/^is[A-Z]/.test(e)});function JL(t,e,n){if(!_.isObject(t))throw new TypeError("target must be an object");e=e||new($l||FormData),n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!_.isUndefined(b[m])});let r=n.metaTokens,i=n.visitor||l,o=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(_.isDate(p))return p.toISOString();if(!c&&_.isBlob(p))throw new ve("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(p)||_.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,m,b){let y=p;if(p&&!b&&typeof p=="object"){if(_.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(_.isArray(p)&&ZL(p)||(_.isFileList(p)||_.endsWith(m,"[]"))&&(y=_.toArray(p)))return m=BS(m),y.forEach(function(w,x){!(_.isUndefined(w)||w===null)&&e.append(s===!0?jS([m],x,o):s===null?m:m+"[]",u(w))}),!1}return Eg(p)?!0:(e.append(jS(b,m,o),u(p)),!1)}let d=[],f=Object.assign(XL,{defaultVisitor:l,convertValue:u,isVisitable:Eg});function h(p,m){if(!_.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),_.forEach(p,function(y,O){(!(_.isUndefined(y)||y===null)&&i.call(e,y,_.isString(O)?O.trim():O,m,f))===!0&&h(y,m?m.concat(O):[O])}),d.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return h(t),e}var Lr=JL;function US(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $S(t,e){this._pairs=[],t&&Lr(t,this,e)}var HS=$S.prototype;HS.append=function(e,n){this._pairs.push([e,n])};HS.toString=function(e){let n=e?function(r){return e.call(this,r,US)}:US;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};var Hl=$S;function eV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ka(t,e,n){if(!e)return t;let r=n&&n.encode||eV,i=n&&n.serialize,o;if(i?o=i(e,n):o=_.isURLSearchParams(e)?e.toString():new Hl(e,n).toString(r),o){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var _g=class{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(r){r!==null&&e(r)})}},wg=_g;var zl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var zS=typeof URLSearchParams<"u"?URLSearchParams:Hl;var qS=typeof FormData<"u"?FormData:null;var WS=typeof Blob<"u"?Blob:null;var GS={isBrowser:!0,classes:{URLSearchParams:zS,FormData:qS,Blob:WS},protocols:["http","https","file","blob","url","data"]};var Sg={};YI(Sg,{hasBrowserEnv:()=>KS,hasStandardBrowserEnv:()=>tV,hasStandardBrowserWebWorkerEnv:()=>nV});var KS=typeof window<"u"&&typeof document<"u",tV=(t=>KS&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),nV=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var Mt=U(U({},Sg),GS);function Cg(t,e){return Lr(t,new Mt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Mt.isNode&&_.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function rV(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iV(t){let e={},n=Object.keys(t),r,i=n.length,o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function oV(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),c=o>=n.length;return s=!s&&_.isArray(i)?i.length:s,c?(_.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!_.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&_.isArray(i[s])&&(i[s]=iV(i[s])),!a)}if(_.isFormData(t)&&_.isFunction(t.entries)){let n={};return _.forEachEntry(t,(r,i)=>{e(rV(r),i,n,0)}),n}return null}var ql=oV;function sV(t,e,n){if(_.isString(t))try{return(e||JSON.parse)(t),_.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Dg={transitional:zl,adapter:["xhr","http"],transformRequest:[function(e,n){let r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=_.isObject(e);if(o&&_.isHTMLForm(e)&&(e=new FormData(e)),_.isFormData(e))return i&&i?JSON.stringify(ql(e)):e;if(_.isArrayBuffer(e)||_.isBuffer(e)||_.isStream(e)||_.isFile(e)||_.isBlob(e))return e;if(_.isArrayBufferView(e))return e.buffer;if(_.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Cg(e,this.formSerializer).toString();if((a=_.isFileList(e))||r.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Lr(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),sV(e)):e}],transformResponse:[function(e){let n=this.transitional||Dg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&_.isString(e)&&(r&&!this.responseType||i)){let s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{Dg.headers[t]={}});var jo=Dg;var aV=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YS=t=>{let e={},n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&aV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e};var QS=Symbol("internals");function Fa(t){return t&&String(t).trim().toLowerCase()}function Wl(t){return t===!1||t==null?t:_.isArray(t)?t.map(Wl):String(t)}function cV(t){let e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}var uV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ig(t,e,n,r,i){if(_.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_.isString(e)){if(_.isString(r))return e.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(e)}}function lV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function dV(t,e){let n=_.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}var Bo=class{constructor(e){e&&this.set(e)}set(e,n,r){let i=this;function o(a,c,u){let l=Fa(c);if(!l)throw new Error("header name must be a non-empty string");let d=_.findKey(i,l);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||c]=Wl(a))}let s=(a,c)=>_.forEach(a,(u,l)=>o(u,l,c));return _.isPlainObject(e)||e instanceof this.constructor?s(e,n):_.isString(e)&&(e=e.trim())&&!uV(e)?s(YS(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Fa(e),e){let r=_.findKey(this,e);if(r){let i=this[r];if(!n)return i;if(n===!0)return cV(i);if(_.isFunction(n))return n.call(this,i,r);if(_.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Fa(e),e){let r=_.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ig(this,this[r],r,n)))}return!1}delete(e,n){let r=this,i=!1;function o(s){if(s=Fa(s),s){let a=_.findKey(r,s);a&&(!n||Ig(r,r[a],a,n))&&(delete r[a],i=!0)}}return _.isArray(e)?e.forEach(o):o(e),i}clear(e){let n=Object.keys(this),r=n.length,i=!1;for(;r--;){let o=n[r];(!e||Ig(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let n=this,r={};return _.forEach(this,(i,o)=>{let s=_.findKey(r,o);if(s){n[s]=Wl(i),delete n[o];return}let a=e?lV(o):String(o).trim();a!==o&&delete n[o],n[a]=Wl(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let n=Object.create(null);return _.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){let r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){let r=(this[QS]=this[QS]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=Fa(s);r[a]||(dV(i,s),r[a]=!0)}return _.isArray(e)?e.forEach(o):o(e),this}};Bo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Bo.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_.freezeMethods(Bo);var At=Bo;function La(t,e){let n=this||jo,r=e||n,i=At.from(r.headers),o=r.data;return _.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Va(t){return!!(t&&t.__CANCEL__)}function ZS(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}_.inherits(ZS,ve,{__CANCEL__:!0});var Vr=ZS;function xg(t,e,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}var XS=Mt.hasStandardBrowserEnv?{write(t,e,n,r,i,o){let s=[t+"="+encodeURIComponent(e)];_.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_.isString(r)&&s.push("path="+r),_.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Tg(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Mg(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ja(t,e){return t&&!Tg(e)?Mg(t,e):e}var JS=Mt.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){let a=_.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Ag(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fV(t,e){t=t||10;let n=new Array(t),r=new Array(t),i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=r[o];s||(s=u),n[i]=c,r[i]=u;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;let h=l&&u-l;return h?Math.round(f*1e3/h):void 0}}var eC=fV;function tC(t,e){let n=0,r=eC(50,250);return i=>{let o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,c=r(a),u=o<=s;n=o;let l={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}var hV=typeof XMLHttpRequest<"u",nC=hV&&function(t){return new Promise(function(n,r){let i=t.data,o=At.from(t.headers).normalize(),{responseType:s,withXSRFToken:a}=t,c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let l;if(_.isFormData(i)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((l=o.getContentType())!==!1){let[m,...b]=l?l.split(";").map(y=>y.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...b].join("; "))}}let d=new XMLHttpRequest;if(t.auth){let m=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(m+":"+b))}let f=ja(t.baseURL,t.url);d.open(t.method.toUpperCase(),ka(f,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function h(){if(!d)return;let m=At.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:t,request:d};xg(function(w){n(w),u()},function(w){r(w),u()},y),d=null}if("onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(r(new ve("Request aborted",ve.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new ve("Network Error",ve.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",y=t.transitional||zl;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),r(new ve(b,y.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,d)),d=null},Mt.hasStandardBrowserEnv&&(a&&_.isFunction(a)&&(a=a(t)),a||a!==!1&&JS(f))){let m=t.xsrfHeaderName&&t.xsrfCookieName&&XS.read(t.xsrfCookieName);m&&o.set(t.xsrfHeaderName,m)}i===void 0&&o.setContentType(null),"setRequestHeader"in d&&_.forEach(o.toJSON(),function(b,y){d.setRequestHeader(y,b)}),_.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),s&&s!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",tC(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",tC(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=m=>{d&&(r(!m||m.type?new Vr(null,t,d):m),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));let p=Ag(f);if(p&&Mt.protocols.indexOf(p)===-1){r(new ve("Unsupported protocol "+p+":",ve.ERR_BAD_REQUEST,t));return}d.send(i||null)})};var Og={http:$l,xhr:nC};_.forEach(Og,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var rC=t=>`- ${t}`,pV=t=>_.isFunction(t)||t===null||t===!1,Gl={getAdapter:t=>{t=_.isArray(t)?t:[t];let{length:e}=t,n,r,i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!pV(n)&&(r=Og[(s=String(n)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){let o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(rC).join(`
`):" "+rC(o[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Og};function Rg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vr(null,t)}function Kl(t){return Rg(t),t.headers=At.from(t.headers),t.data=La.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Gl.getAdapter(t.adapter||jo.adapter)(t).then(function(r){return Rg(t),r.data=La.call(t,t.transformResponse,r),r.headers=At.from(r.headers),r},function(r){return Va(r)||(Rg(t),r&&r.response&&(r.response.data=La.call(t,t.transformResponse,r.response),r.response.headers=At.from(r.response.headers))),Promise.reject(r)})}var iC=t=>t instanceof At?t.toJSON():t;function cr(t,e){e=e||{};let n={};function r(u,l,d){return _.isPlainObject(u)&&_.isPlainObject(l)?_.merge.call({caseless:d},u,l):_.isPlainObject(l)?_.merge({},l):_.isArray(l)?l.slice():l}function i(u,l,d){if(_.isUndefined(l)){if(!_.isUndefined(u))return r(void 0,u,d)}else return r(u,l,d)}function o(u,l){if(!_.isUndefined(l))return r(void 0,l)}function s(u,l){if(_.isUndefined(l)){if(!_.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in e)return r(u,l);if(d in t)return r(void 0,u)}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l)=>i(iC(u),iC(l),!0)};return _.forEach(Object.keys(Object.assign({},t,e)),function(l){let d=c[l]||i,f=d(t[l],e[l],l);_.isUndefined(f)&&d!==a||(n[l]=f)}),n}var Yl="1.6.5";var Ng={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ng[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var oC={};Ng.transitional=function(e,n,r){function i(o,s){return"[Axios v"+Yl+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new ve(i(s," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!oC[s]&&(oC[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function mV(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);let r=Object.keys(t),i=r.length;for(;i-- >0;){let o=r[i],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new ve("option "+o+" must be "+c,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+o,ve.ERR_BAD_OPTION)}}var Ql={assertOptions:mV,validators:Ng};var jr=Ql.validators,Uo=class{constructor(e){this.defaults=e,this.interceptors={request:new wg,response:new wg}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=cr(this.defaults,n);let{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Ql.assertOptions(r,{silentJSONParsing:jr.transitional(jr.boolean),forcedJSONParsing:jr.transitional(jr.boolean),clarifyTimeoutError:jr.transitional(jr.boolean)},!1),i!=null&&(_.isFunction(i)?n.paramsSerializer={serialize:i}:Ql.assertOptions(i,{encode:jr.function,serialize:jr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&_.merge(o.common,o[n.method]);o&&_.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=At.concat(s,o);let a=[],c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});let u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,d=0,f;if(!c){let p=[Kl.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),f=p.length,l=Promise.resolve(n);d<f;)l=l.then(p[d++],p[d++]);return l}f=a.length;let h=n;for(d=0;d<f;){let p=a[d++],m=a[d++];try{h=p(h)}catch(b){m.call(this,b);break}}try{l=Kl.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=cr(this.defaults,e);let n=ja(e.baseURL,e.url);return ka(n,e.params,e.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(e){Uo.prototype[e]=function(n,r){return this.request(cr(r||{},{method:e,url:n,data:(r||{}).data}))}});_.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(cr(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Uo.prototype[e]=n(),Uo.prototype[e+"Form"]=n(!0)});var Ba=Uo;var Pg=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});let r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Vr(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},sC=Pg;function kg(t){return function(n){return t.apply(null,n)}}function Fg(t){return _.isObject(t)&&t.isAxiosError===!0}var Lg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lg).forEach(([t,e])=>{Lg[e]=t});var aC=Lg;function cC(t){let e=new Ba(t),n=Ra(Ba.prototype.request,e);return _.extend(n,Ba.prototype,e,{allOwnKeys:!0}),_.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return cC(cr(t,i))},n}var rt=cC(jo);rt.Axios=Ba;rt.CanceledError=Vr;rt.CancelToken=sC;rt.isCancel=Va;rt.VERSION=Yl;rt.toFormData=Lr;rt.AxiosError=ve;rt.Cancel=rt.CanceledError;rt.all=function(e){return Promise.all(e)};rt.spread=kg;rt.isAxiosError=Fg;rt.mergeConfig=cr;rt.AxiosHeaders=At;rt.formToJSON=t=>ql(_.isHTMLForm(t)?new FormData(t):t);rt.getAdapter=Gl.getAdapter;rt.HttpStatusCode=aC;rt.default=rt;var Zl=rt;var{Axios:LK,AxiosError:VK,CanceledError:jK,isCancel:BK,CancelToken:UK,VERSION:$K,all:HK,Cancel:zK,isAxiosError:qK,spread:WK,toFormData:GK,AxiosHeaders:KK,HttpStatusCode:YK,formToJSON:QK,getAdapter:ZK,mergeConfig:XK}=Zl;var uC={apiUrl:"http://localhost:3000/user/"};var gV=uC.apiUrl,vV=Zl.create({withCredentials:!0,baseURL:gV}),Xl=vV;var lC=(()=>{let e=class e{constructor(){this.user=new Fo("",""),this.statusUser=!0,this.router=new Si}chackUser(){return ms(this,null,function*(){try{let r=yield Xl.post("/authorization",{nickname:this.user.nickname,password:this.user.password});console.log(r),r.data.out?this.router.navigate(["/"]):this.statusUser=!1}catch(r){console.log(r)}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=st({type:e,selectors:[["app-authorization"]],standalone:!0,features:[jt],decls:22,vars:3,consts:[[1,"h-screen","w-full","flex","justify-center","items-center"],[1,"flex","flex-col","w-1/3"],[1,"flex","justify-center"],[1,"text-4xl","font-bold","mb-6"],[1,"flex","justify-center","w-full","my-3"],["type","text","placeholder","\u041B\u043E\u0433\u0438\u043D",1,"input","input-bordered","w-full",3,"ngModel","ngModelChange"],["type","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C",1,"input","input-bordered","w-full",3,"ngModel","ngModelChange"],[1,"flex","flex-col","items-center","w-full","text-red-600"],[3,"hidden"],[1,"flex","justify-center","w-full","mt-9"],[1,"btn","btn-success","font-normal","rounded-full","w-full","btm-md",3,"click"],[1,"flex","justify-center","w-full","my-4"],[1,"btn","btn-success","font-normal","rounded-full","w-full","btm-md"],[1,"flex","justify-center","w-full","mt-4"],["routerLink","/registration",1,"link"]],template:function(i,o){i&1&&(lt(0,"app-button-back"),oe(1,"div",0)(2,"div",1)(3,"div",2)(4,"p",3),We(5,"\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F"),ye()(),oe(6,"div",4)(7,"input",5),nt("ngModelChange",function(a){return o.user.nickname=a}),ye()(),oe(8,"div",4)(9,"input",6),nt("ngModelChange",function(a){return o.user.password=a}),ye()(),oe(10,"div",7)(11,"div",8),We(12,"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u043B\u043E\u0433\u0438\u043D \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C"),ye()(),oe(13,"div",9)(14,"button",10),nt("click",function(){return o.chackUser()}),We(15,"\u0412\u043E\u0439\u0442\u0438"),ye()(),oe(16,"div",11)(17,"button",12),We(18,"\u0412\u043E\u0439\u0442\u0438 \u043A\u0430\u043A \u0433\u043E\u0441\u0442\u044C"),ye()(),oe(19,"div",13)(20,"a",14),We(21,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"),ye()()()()),i&2&&(Ze(7),qe("ngModel",o.user.nickname),Ze(2),qe("ngModel",o.user.password),Ze(2),qe("hidden",o.statusUser))},dependencies:[Wt,To,Il,Ml,Al,Ll,ko,Pl,Oa]});let t=e;return t})();var dC=(()=>{let e=class e{constructor(r){this.router=r,this.newUser=new Fo("",""),this.confirmPassword="",this.chackPassword=!1,this.chackCreateUser=!0}isChackPassword(){this.newUser.password===this.confirmPassword?this.chackPassword=!0:this.chackPassword=!1}creatUser(){return ms(this,null,function*(){try{let r=yield Xl.post("/create_account",{nickname:this.newUser.nickname,password:this.newUser.password});console.log(r),this.newUser.nickname==r.data.conUser.nickname&&(this.chackCreateUser=!0,this.router.navigate(["/"]))}catch(r){this.chackCreateUser=!1,console.log(this.chackPassword),console.log(r)}})}};e.\u0275fac=function(i){return new(i||e)(X(Si))},e.\u0275cmp=st({type:e,selectors:[["app-registration"]],standalone:!0,features:[jt],decls:26,vars:6,consts:[[1,"h-screen","w-full","flex","justify-center","items-center"],[1,"flex","flex-col","w-1/3"],[1,"flex","justify-center"],[1,"text-4xl","font-bold","mb-6"],[1,"flex","justify-center","w-full","my-3"],["name","login","type","text","placeholder","\u041B\u043E\u0433\u0438\u043D","required","","pattern","^[a-zA-Z0-9]+$",1,"input","input-bordered","w-full","ng-valid",3,"ngModel","ngModelChange"],["login","ngModel"],["type","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C",1,"input","input-bordered","w-full",3,"ngModel","ngModelChange"],["pas","ngModel"],["type","password","placeholder","\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",1,"input","input-bordered","w-full",3,"ngModel","ngModelChange"],["conpas","ngModel"],[1,"flex","flex-col","items-center","w-full","text-red-600"],[3,"hidden"],[1,"flex","justify-center","w-full","mt-4"],[1,"btn","btn-success","font-normal","rounded-full","w-full","btm-md",3,"disabled","click"],[1,"flex","justify-center","w-full","mt-6"],["routerLink","/authorization",1,"link"]],template:function(i,o){if(i&1&&(lt(0,"app-button-back"),oe(1,"div",0)(2,"div",1)(3,"div",2)(4,"p",3),We(5,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"),ye()(),oe(6,"div",4)(7,"input",5,6),nt("ngModelChange",function(a){return o.newUser.nickname=a}),ye()(),oe(9,"div",4)(10,"input",7,8),nt("ngModelChange",function(a){return o.newUser.password=a}),ye()(),oe(12,"div",4)(13,"input",9,10),nt("ngModelChange",function(a){return o.confirmPassword=a})("ngModelChange",function(){return o.isChackPassword()}),ye()(),oe(15,"div",11)(16,"div",12),We(17,"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u043E\u0434\u0430\u044E\u0442"),ye(),oe(18,"div",12),We(19,"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),ye()(),oe(20,"div",13)(21,"button",14),nt("click",function(){return o.creatUser()}),We(22,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),ye()(),oe(23,"div",15)(24,"a",16),We(25,"\u0412\u043E\u0439\u0442\u0438"),ye()()()()),i&2){let s=ME(8);Ze(7),qe("ngModel",o.newUser.nickname),Ze(3),qe("ngModel",o.newUser.password),Ze(3),qe("ngModel",o.confirmPassword),Ze(3),qe("hidden",o.chackPassword),Ze(2),qe("hidden",o.chackCreateUser),Ze(3),qe("disabled",!o.chackPassword||s.invalid)}},dependencies:[Wt,To,Al,Ll,ko,Pl,mg,gg,Oa,IS],styles:[`//[_ngcontent-%COMP%]   input.ng-touched.ng-invalid[_ngcontent-%COMP%] {\r
//   border: solid red 2px;\r
// }\r
\r
//[_ngcontent-%COMP%]   input.ng-touched.ng-valid[_ngcontent-%COMP%] {\r
//   border: solid green 2px;\r
// }`]});let t=e;return t})();var bV=["videoElement"],fC=(()=>{let e=class e{ngOnInit(){}ngAfterViewInit(){this._streamManager.addVideoElement(this.elementRef.nativeElement)}set stream(r){this._streamManager=r,this.elementRef&&this._streamManager.addVideoElement(this.elementRef.nativeElement)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=st({type:e,selectors:[["app-ov-video"]],viewQuery:function(i,o){if(i&1&&hp(bV,5),i&2){let s;xu(s=Tu())&&(o.elementRef=s.first)}},inputs:{stream:"stream"},standalone:!0,features:[jt],decls:3,vars:0,consts:[[1,"ov-video"],["videoElement",""]],template:function(i,o){i&1&&(oe(0,"div",0),lt(1,"video",null,1),ye())},dependencies:[Wt,yo],styles:[".ov-video[_ngcontent-%COMP%]{min-width:256px;min-height:256px;height:100%;border:1px solid #6c86e2;border-radius:8px}video[_ngcontent-%COMP%]{width:100%;height:100%}"]});let t=e;return t})();var OI=ZI(MI());var RI=(()=>{let e=class e{constructor(r){this.httpClient=r,this.OPENVIDU_SERVER_URL="http://"+location.hostname+":4443",this.OPENVIDU_SERVER_SECRET="MY_SECRET",this.OV=new OI.OpenVidu,this.subscribers=[],this.sessionId="7979798",this.userName=Math.round(new Date().getTime()/1e3).toString(),this.users$=new He(new Array),this.currentUser$=new He(void 0),this.videoEnabled=!0,this.deviceId=""}setDevice(r){Me(this.OV.getDevices()).pipe(Ie(i=>{console.log("dev",i);let o=i.filter(s=>s.kind==="videoinput");console.log(),r==="1"?this.deviceId=o[0].deviceId:this.deviceId=o[1].deviceId})).subscribe()}join(){this.session=this.OV.initSession(),this.subscribeSessionEvents(),Me(this.getToken()).pipe(ct(r=>Me(this.session.connect(r,{clientData:this.userName}))),Ie(()=>{this.initPublisher()})).subscribe()}enableVideo(){this.publisher.publishVideo(!0),this.videoEnabled=!0}disableVideo(){this.publisher.publishVideo(!1),this.videoEnabled=!1}shareScreen(){this.initScreenPublisher()}initPublisher(){let r=this.OV.initPublisher("",{audioSource:void 0,videoSource:this.deviceId,publishAudio:!0,publishVideo:!0,resolution:"640x480",frameRate:30,insertMode:"APPEND",mirror:!1});this.session.publish(r),this.publisher=r,this.currentUser$.next(r)}initScreenPublisher(){let r=this.OV.initPublisher("",{audioSource:void 0,videoSource:"screen",publishAudio:!0,publishVideo:!0,resolution:"640x480",frameRate:30,insertMode:"APPEND",mirror:!1});this.session.publish(r),this.publisher=r,this.currentUser$.next(r)}subscribeSessionEvents(){this.session.on("streamCreated",r=>{let i=this.session.subscribe(r.stream,"");this.users$.value.push(i),this.users$.next([...this.users$.value])}),this.session.on("streamDestroyed",r=>{}),this.session.on("publisherStartSpeaking",r=>{}),this.session.on("publisherStopSpeaking",r=>{})}getToken(){return this.createSession(this.sessionId).then(r=>this.createToken(r))}createSession(r){return new Promise((i,o)=>{let s=JSON.stringify({customSessionId:r}),a={headers:new Ln({Authorization:"Basic "+btoa("OPENVIDUAPP:"+this.OPENVIDU_SERVER_SECRET),"Content-Type":"application/json"})};return this.httpClient.post(this.OPENVIDU_SERVER_URL+"/openvidu/api/sessions",s,a).pipe(kt(c=>(c.status===409?i(r):(console.warn("No connection to OpenVidu Server. This may be a certificate error at "+this.OPENVIDU_SERVER_URL),window.confirm('No connection to OpenVidu Server. This may be a certificate error at "'+this.OPENVIDU_SERVER_URL+`"

Click OK to navigate and accept it. If no certificate warning is shown, then check that your OpenVidu Serveris up and running at "`+this.OPENVIDU_SERVER_URL+'"')&&location.assign(this.OPENVIDU_SERVER_URL+"/accept-certificate")),AI(c)))).subscribe(c=>{console.log(c),i(c.id)})})}createToken(r){return new Promise((i,o)=>{let s={},a={headers:new Ln({Authorization:"Basic "+btoa("OPENVIDUAPP:"+this.OPENVIDU_SERVER_SECRET),"Content-Type":"application/json"})};return this.httpClient.post(this.OPENVIDU_SERVER_URL+"/openvidu/api/sessions/"+r+"/connection",s,a).pipe(kt(c=>(o(c),AI(c)))).subscribe(c=>{console.log(c),i(c.token)})})}};e.\u0275fac=function(i){return new(i||e)(L(Ys))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AI(t){throw new Error("Function not implemented.")}function w4(t,e){if(t&1&&(oe(0,"div"),lt(1,"app-ov-video",10),ye()),t&2){let n=po();Ze(1),qe("stream",n.currentUser)}}function S4(t,e){if(t&1&&(oe(0,"div"),lt(1,"app-ov-video",10),ye()),t&2){let n=e.$implicit;Ze(1),qe("stream",n)}}function C4(t,e){if(t&1){let n=Iu();oe(0,"div",11),nt("click",function(){mu(n);let i=po();return gu(i.join())}),oe(1,"i",8),We(2,"call"),ye()()}}function D4(t,e){t&1&&(oe(0,"div",12)(1,"i",8),We(2,"cancel"),ye()())}function I4(t,e){if(t&1){let n=Iu();oe(0,"div",13),nt("click",function(){mu(n);let i=po();return gu(i.changeVideoState())}),oe(1,"i",8),We(2,"camera_alt"),ye()()}}function x4(t,e){if(t&1){let n=Iu();oe(0,"div",13),nt("click",function(){mu(n);let i=po();return gu(i.changeVideoState())}),oe(1,"i",8),We(2,"camera_enhance"),ye()()}}var NI=(()=>{let e=class e{constructor(r,i){this.videoCallService=r,this.route=i,this.joined=!1,this.users=[],this.currentUser=void 0,this.userId=""}ngOnInit(){this.userId=this.route.snapshot.queryParams.userId,console.log("sdsdsdsd"),this.videoCallService.setDevice(this.userId)}join(){this.videoCallService.join(),this.videoCallService.currentUser$.pipe(et(r=>!!r),Ie(r=>{this.currentUser=r})).subscribe(),this.videoCallService.users$.pipe(et(r=>!!r),Ie(r=>{this.users=r})).subscribe(),this.joined=!0}changeVideoState(){this.videoCallService.videoEnabled?this.videoCallService.disableVideo():this.videoCallService.enableVideo()}share(){this.videoCallService.shareScreen()}};e.\u0275fac=function(i){return new(i||e)(X(RI),X(or))},e.\u0275cmp=st({type:e,selectors:[["app-video"]],standalone:!0,features:[jt],decls:14,vars:6,consts:[[1,"video-content","video-content-grid-2"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"video-tools"],["class","video-tools__button video-tools__button-join",3,"click",4,"ngIf"],["class","video-tools__button video-tools__button-end",4,"ngIf"],["class","video-tools__button video-tools__button-video",3,"click",4,"ngIf"],[1,"video-tools__button","video-tools__button-audio"],[1,"material-icons"],[1,"video-tools__button","video-tools__button-audio",3,"click"],[3,"stream"],[1,"video-tools__button","video-tools__button-join",3,"click"],[1,"video-tools__button","video-tools__button-end"],[1,"video-tools__button","video-tools__button-video",3,"click"]],template:function(i,o){i&1&&(oe(0,"div",0),Hs(1,w4,2,1,"div",1)(2,S4,2,1,"div",2),ye(),oe(3,"div",3),Hs(4,C4,3,0,"div",4)(5,D4,3,0,"div",5)(6,I4,3,0,"div",6)(7,x4,3,0,"div",6),oe(8,"div",7)(9,"i",8),We(10,"volume_up"),ye()(),oe(11,"div",9),nt("click",function(){return o.share()}),oe(12,"i",8),We(13,"screen_share"),ye()()()),i&2&&(Ze(1),qe("ngIf",o.currentUser),Ze(1),qe("ngForOf",o.users),Ze(2),qe("ngIf",!o.joined),Ze(1),qe("ngIf",o.joined),Ze(1),qe("ngIf",o.videoCallService.videoEnabled),Ze(1),qe("ngIf",!o.videoCallService.videoEnabled))},dependencies:[Wt,GE,KE,fC,yo],styles:[".video-content[_ngcontent-%COMP%]{height:90vh;overflow:scroll}.video-content-grid-1[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;grid-template-rows:80%;gap:15px 10px;padding:24px}.video-content-grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;grid-template-rows:80%;gap:15px 10px;padding:24px}.video-content-grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:33% 33% 33%;grid-template-rows:80%;gap:15px 10px;padding:24px}.video-content-grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;grid-template-rows:40% 40%;gap:15px 10px;padding:24px}.video-tools[_ngcontent-%COMP%]{display:flex;position:absolute;bottom:56px;width:100%;justify-content:center;gap:10px 20px}.video-tools__button[_ngcontent-%COMP%]{cursor:pointer;background-color:#2e8b57;width:100px;height:100px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:wheat;font-size:20px}.video-tools__button[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:wheat;font-size:20px}.video-tools__button-join[_ngcontent-%COMP%]{background-color:#7ac5aa}.video-tools__button-end[_ngcontent-%COMP%]{background-color:#e38163}.video-tools__button-video[_ngcontent-%COMP%], .video-tools__button-audio[_ngcontent-%COMP%]{background-color:#6c86e2}"]});let t=e;return t})();var PI=[{path:"",component:NI},{path:"authorization",component:lC},{path:"registration",component:dC}];var kI={providers:[Q_(PI),Aw()]};var FI=(()=>{let e=class e{constructor(){this.title="video_conf"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=st({type:e,selectors:[["app-root"]],standalone:!0,features:[jt],decls:1,vars:0,template:function(i,o){i&1&&lt(0,"router-outlet")},dependencies:[Wt,pm,yo]});let t=e;return t})();h_(FI,kI).catch(t=>console.error(t));
